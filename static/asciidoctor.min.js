if("undefined"==typeof Opal&&"object"==typeof module&&module.exports&&(Opal=require("opal-runtime").Opal),"undefined"==typeof Opal){var GLOBAL_COUNTER={};(function(e){function t(){}function n(){}function $(){}function r(){}function o(){}function i(e,t,n){var $=[e],r=e.base;if(n||r==b.Object)for(var o=r.$$super;o!==b.BasicObject&&o!==b.Object;)$.push(o.$$scope),o=o.$$super;for(var i=0,l=$.length;i<l;i++)if($[i].hasOwnProperty(t))return $[i][t]}function l(e){var t=b.Object.$$scope;if(t.hasOwnProperty(e))return t[e]}function a(e,t,n){var $,r,o,l=e.length,a=e[l-1];for($=l-1;$>=0;$--){var s=e[$];if(s.$$is_singleton?(r=s.$$scope,n=s===a):r=s,r.hasOwnProperty(t)&&(o=r[t]),null!=o)return o;if(null!=(o=i(r,t,n)))return o}}function s(e,t){var n,$,r=t.$instance_methods();for(n=r.length-1;n>=0;n--)$="$"+r[n],b.bridge_method(e,t,$,t.$$proto[$])}function c(e,t){var n=t.$__id__();m[n]||(m[n]=[]),m[n].push(e)}var u,_=this;if("undefined"!=typeof global&&(_=global),"undefined"!=typeof window&&(_=window),u="object"==typeof _.console?_.console:null==_.console?_.console={}:{},"log"in u||(u.log=function(){}),"warn"in u||(u.warn=u.log),void 0!==this.Opal)return u.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var d,f,p,h,g,b=this.Opal={},m={},y=function(){};y.prototype=b,b.constructor=y,b.constants=[],b.global=_,_.Opal=b,b.config={missing_require_severity:"error",unsupported_features_severity:"warning"};var v=b.hasOwnProperty,w=(b.slice=Array.prototype.slice,4);b.uid=function(){return w+=2},b.id=function(e){return e.$$id||(e.$$id=b.uid())},b.cvars={},b.gvars={},b.exit=function(e){b.gvars.DEBUG&&u.log("Exited with status "+e)},b.exceptions=[],b.pop_exception=function(){b.gvars["!"]=b.exceptions.pop()||d},b.get=function(e){return b.const_get([this],e,!0,!0)},b.counter_count=function(e){void 0===GLOBAL_COUNTER[e]&&(GLOBAL_COUNTER[e]=0),GLOBAL_COUNTER[e]+=1},b.const_get=function(e,t,n,$){var r=a(e,t,n);if(null!=r)return r;if(n&&(r=l(t)),null!=r)return r;if($){var o=e[e.length-1].base;if(o.$$is_a_module)return o.$const_missing(t)}},b.create_scope=function(e,t,n){var $=function(){},r=$.prototype=new e.constructor;t.$$scope=r,t.$$base_module=e.base,r.base=t,r.constructor=$,r.constants=[],n&&(b.cdecl(e,n,t),$.displayName=n+"_scope_alloc")},b.casgn=function(e,t,n){function $(e,t){e.$$name=t;for(t in e.$$scope){var n=e.$$scope[t];n.$$name===d&&(n.$$is_class||n.$$is_module)&&$(n,t)}}var r=e.$$scope;if((n.$$is_class||n.$$is_module)&&((n.$$is_class||n.$$base_module===p)&&(n.$$base_module=e),n.$$name===d&&n.$$base_module.$$name!==d&&$(n,t)),r.constants.push(t),r[t]=n,e.$$is_module&&e.$$included_in)for(var o=0;o<e.$$included_in.length;o++){var i=e.$$included_in[o];b.casgn(i,t,n)}return n},b.cdecl=function(e,t,n){return(n.$$is_class||n.$$is_module)&&null==n.$$orig_scope&&(n.$$name=t,n.$$orig_scope=e,n.$$base_module=e.base,e.constructor[t]=n),e.constants.push(t),e[t]=n},b.klass=function(e,t,n,$){var r,o,i;if(e.$$is_class||e.$$is_module||(e=e.$$class),"function"==typeof t&&(o=t,t=p),(r=e.$$scope[n])&&r.$$orig_scope===e.$$scope){if(!r.$$is_class)throw b.TypeError.$new(n+" is not a class");if(t&&r.$$super!==t)throw b.TypeError.$new("superclass mismatch for class "+n);return r}return null==t&&(t=p),i=o||b.boot_class_alloc(n,$,t),r=b.setup_class_object(n,i,t.$$name,t.constructor),r.$$super=t,r.$$parent=t,b.create_scope(e.$$scope,r,n),e[n]=r,o?b.bridge(r,i):(t!==p&&t!==f&&b.donate_constants(t,r),t.$inherited&&t.$inherited(r)),r},b.boot_class_alloc=function(e,t,n){if(n){var $=function(){};$.prototype=n.$$proto||n.prototype,t.prototype=new $}return e&&(t.displayName=e+"_alloc"),t.prototype.constructor=t,t},b.setup_module_or_class=function(e){e.$$id=b.uid(),e.$$is_a_module=!0,e.$$inc=[],e.$$name=d,e.$$cvars=Object.create(null)},b.setup_class_object=function(e,t,n,$){var r=function(){};r.prototype=$.prototype,r.displayName=n;var o=function(){};o.prototype=new r;var i=new o;return b.setup_module_or_class(i),i.$$alloc=t,i.$$name=e||d,o.displayName="#<Class:"+(e||"#<Class:"+i.$$id+">")+">",i.$$proto=t.prototype,i.$$proto.$$class=i,i.constructor=o,i.$$is_class=!0,i.$$class=g,i},b.module=function(e,t){var n;if(e.$$is_class||e.$$is_module||(e=e.$$class),v.call(e.$$scope,t)){if(n=e.$$scope[t],!n.$$is_module&&n!==p)throw b.TypeError.$new(t+" is not a module")}else n=b.module_allocate(h),b.create_scope(e.$$scope,n,t);return n},b.module_initialize=function(e,t){if(t!==d){var n=t.$$s;t.$$s=null,t.call(e),t.$$s=n}return d},b.module_allocate=function(e){function t(){}var n=function(){};n.prototype=e.$$alloc.prototype,t.prototype=new n;var $=new t,r={};return b.setup_module_or_class($),$.$$included_in=[],t.displayName="#<Class:#<Module:"+$.$$id+">>",$.$$proto=r,$.constructor=t,$.$$is_module=!0,$.$$class=h,$.$$super=e,$.$$parent=e,$},b.get_singleton_class=function(e){return e.$$meta?e.$$meta:e.$$is_class||e.$$is_module?b.build_class_singleton_class(e):b.build_object_singleton_class(e)},b.build_class_singleton_class=function(e){var t,n,$;return e.$$meta?e.$$meta:(t=e.constructor,n=e===f?g:b.build_class_singleton_class(e.$$super),$=b.setup_class_object(null,t,n.$$name,n.constructor),$.$$super=n,$.$$parent=n,b.create_scope(e.$$scope,$),$.$$is_singleton=!0,$.$$singleton_of=e,e.$$meta=$)},b.build_object_singleton_class=function(e){var t=e.$$class,n="#<Class:#<"+t.$$name+":"+t.$$id+">>",$=b.boot_class_alloc(n,function(){},t),r=b.setup_class_object(n,$,t.$$name,t.constructor);return r.$$super=t,r.$$parent=t,r.$$class=t.$$class,r.$$scope=t.$$scope,r.$$proto=e,r.$$is_singleton=!0,r.$$singleton_of=e,e.$$meta=r},b.class_variables=function(e){var t,n=b.ancestors(e),$=n.length,r={};for(t=$-1;t>=0;t--){var o=n[t];for(var i in o.$$cvars)r[i]=o.$$cvars[i]}return r},b.class_variable_set=function(e,t,n){var $,r=b.ancestors(e),o=r.length;for($=o-2;$>=0;$--){var i=r[$];if(v.call(i.$$cvars,t))return i.$$cvars[t]=n,n}return e.$$cvars[t]=n,n},b.bridge_method=function(e,t,n,$){var r,o,i,l;for(r=e.$$bridge.$ancestors(),o=0,l=r.length;o<l&&(i=r[o],!v.call(i.$$proto,n)||!i.$$proto[n]||i.$$proto[n].$$donated||i.$$proto[n].$$stub||i===t);o++)if(i===t){e.prototype[n]=$;break}},b.bridge_methods=function(e,t){var n,$=m[e.$__id__()],r=t.$__id__();if($)for(m[r]=$.slice(),n=$.length-1;n>=0;n--)s($[n],t)},b.has_cyclic_dep=function e(t,n,$,r){var o,i,l;for(o=n.length-1;o>=0;o--)if(l=n[o],i=l.$$id,!r[i]){if(r[i]=!0,i===t)return!0;if(e(t,l[$],$,r))return!0}return!1},b.append_features=function(e,t){var n,$,r;for(r=t.$$inc.length-1;r>=0;r--)if(t.$$inc[r]===e)return;if(!t.$$is_class&&b.has_cyclic_dep(t.$$id,[e],"$$inc",{}))throw b.ArgumentError.$new("cyclic include detected");for(t.$$inc.push(e),e.$$included_in.push(t),b.bridge_methods(t,e),n={$$name:e.$$name,$$proto:e.$$proto,$$parent:t.$$parent,$$module:e,$$iclass:!0},t.$$parent=n,$=e.$instance_methods(),r=$.length-1;r>=0;r--)b.update_includer(e,t,"$"+$[r]);b.donate_constants(e,t)},b.stubs={},b.bridge=function(e,n){if(n.$$bridge)throw b.ArgumentError.$new("already bridged");b.stub_subscribers.push(n.prototype);for(var $ in b.stubs)$ in n.prototype||(n.prototype[$]=b.stub_for($));n.prototype.$$class=e,n.$$bridge=e;for(var r=e.$ancestors(),o=r.length-1;o>=0;o--)c(n,r[o]),s(n,r[o]);for(var i in t.prototype){var l=t.prototype[l];!l||!l.$$stub||i in n.prototype||(n.prototype[i]=l)}return e},b.donate_constants=function(e,t){for(var n=e.$$scope.constants,$=t.$$scope,r=$.constants,o=0,i=n.length;o<i;o++)r.push(n[o]),$[n[o]]=e.$$scope[n[o]]},b.update_includer=function(e,t,n){var $,r,o,i,l,a,s,c;if(o=e.$$proto[n],$=t.$$proto,r=$[n],!$.hasOwnProperty(n)||r.$$donated||r.$$stub)if($.hasOwnProperty(n)&&!r.$$stub){for(i=t.$$inc,l=0,a=i.length;l<a;l++)i[l]===r.$$donated&&(s=l),i[l]===e&&(c=l);s<=c&&($[n]=o,$[n].$$donated=e)}else $[n]=o,$[n].$$donated=e;else;t.$$included_in&&b.update_includers(t,n)},b.update_includers=function(e,t){var n,$,r,o;if(o=e.$$included_in)for(n=0,$=o.length;n<$;n++)r=o[n],b.update_includer(e,r,t)},b.ancestors=function(e){for(var t,n=e,$=[];n;){$.push(n);for(var r=0;r<n.$$inc.length;r++){t=b.ancestors(n.$$inc[r]);for(var o=0;o<t.length;o++)$.push(t[o])}n=n.$$is_singleton&&n.$$singleton_of.$$is_module?n.$$singleton_of.$$super:n.$$is_class?n.$$super:null}return $},b.add_stubs=function(e){var t,n,$,r,o,i=b.stub_subscribers,l=e.length,a=i.length,s=b.stubs;for(n=0;n<l;n++)if(r=e[n],!s.hasOwnProperty(r))for(s[r]=!0,o=b.stub_for(r),$=0;$<a;$++)t=i[$],r in t||(t[r]=o)},b.stub_subscribers=[t.prototype],b.add_stub_for=function(e,t){var n=b.stub_for(t);e[t]=n},b.stub_for=function(e){function t(){this.$method_missing.$$p=t.$$p,t.$$p=null;for(var n=new Array(arguments.length),$=0,r=n.length;$<r;$++)n[$]=arguments[$];return this.$method_missing.apply(this,[e.slice(1)].concat(n))}return t.$$stub=!0,t},b.ac=function(e,t,n,$){var r="";throw n.$$is_class||n.$$is_module?r+=n.$$name+".":r+=n.$$class.$$name+"#",r+=$,b.ArgumentError.$new("["+r+"] wrong number of arguments("+e+" for "+t+")")},b.block_ac=function(e,t,n){var $="`block in "+n+"'";throw b.ArgumentError.$new($+": wrong number of arguments ("+e+" for "+t+")")},b.find_super_dispatcher=function(e,t,n,$,r){var o,i;if(o=r?e.$$is_class||e.$$is_module?r.$$super:e.$$class.$$proto:b.find_obj_super_dispatcher(e,t,n),i=o["$"+t],!$&&i.$$stub&&b.Kernel.$method_missing===e.$method_missing)throw b.NoMethodError.$new("super: no superclass method `"+t+"' for "+e,t);return i},b.find_iter_super_dispatcher=function(e,t,n,$,r){var o=t;if(!n)throw b.RuntimeError.$new("super called outside of method");if(r&&n.$$define_meth)throw b.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return n.$$def&&(o=n.$$jsid),b.find_super_dispatcher(e,o,n,$)},b.find_obj_super_dispatcher=function(e,t,n){var $=e.$$meta||e.$$class;if(!($=b.find_owning_class($,n)))throw new Error("could not find current class for super()");return b.find_super_func($,"$"+t,n)},b.find_owning_class=function(e,t){for(var n=t.$$owner;e&&(!e.$$iclass||e.$$module!==t.$$donated)&&(!e.$$iclass||e.$$module!==n)&&(!n.$$is_singleton||e!==n.$$singleton_of.$$class)&&e!==n;)e=e.$$parent;return e},b.find_super_func=function(e,t,n){for(var $=e.$$parent;$;){var r=$.$$proto[t];if(r&&r!==n)break;$=$.$$parent}return $.$$proto},b.ret=function(e){throw b.returner.$v=e,b.returner},b.brk=function(e,t){throw t.$v=e,t},b.new_brk=function(){return new Error("unexpected break")},b.yield1=function(e,t){if("function"!=typeof e)throw b.LocalJumpError.$new("no block given");var n=e.$$has_top_level_mlhs_arg,$=e.$$has_trailing_comma_in_args;return(e.length>1||(n||$)&&1===e.length)&&(t=b.to_ary(t)),(e.length>1||$&&1===e.length)&&t.$$is_array?e.apply(null,t):e(t)},b.yieldX=function(e,t){if("function"!=typeof e)throw b.LocalJumpError.$new("no block given");if(e.length>1&&1===t.length&&t[0].$$is_array)return e.apply(null,t[0]);if(!t.$$is_array){for(var n=new Array(t.length),$=0,r=n.length;$<r;$++)n[$]=t[$];return e.apply(null,n)}return e.apply(null,t)},b.rescue=function(e,t){for(var n=0;n<t.length;n++){var $=t[n];if($.$$is_array){var r=b.rescue(e,$);if(r)return r}else{if($===b.JS.Error)return $;if($["$==="](e))return $}}return null},b.is_a=function(e,t){if(e.$$meta===t||e.$$class===t)return!0;if(e.$$is_number&&t.$$is_number_class)return!0;var n,$,r=b.ancestors(e.$$is_class?b.get_singleton_class(e):e.$$meta||e.$$class);for(n=0,$=r.length;n<$;n++)if(r[n]===t)return!0;return!1},b.to_hash=function(e){if(e.$$is_hash)return e;if(e["$respond_to?"]("to_hash",!0)){var t=e.$to_hash();if(t.$$is_hash)return t;throw b.TypeError.$new("Can't convert "+e.$$class+" to Hash ("+e.$$class+"#to_hash gives "+t.$$class+")")}throw b.TypeError.$new("no implicit conversion of "+e.$$class+" into Hash")},b.to_ary=function(e){if(e.$$is_array)return e;if(e["$respond_to?"]("to_ary",!0)){var t=e.$to_ary();if(t===d)return[e];if(t.$$is_array)return t;throw b.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_ary gives "+t.$$class+")")}return[e]},b.to_a=function(e){if(e.$$is_array)return e.slice();if(e["$respond_to?"]("to_a",!0)){var t=e.$to_a();if(t===d)return[e];if(t.$$is_array)return t;throw b.TypeError.$new("Can't convert "+e.$$class+" to Array ("+e.$$class+"#to_a gives "+t.$$class+")")}return[e]},b.extract_kwargs=function(e){var t=e[e.length-1];return null!=t&&t["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(e,e.length-1,1),t.$to_hash()):b.hash2([],{})},b.kwrestargs=function(e,t){var n=[],$={},r=null,o=e.$$smap;for(r in o)t[r]||(n.push(r),$[r]=o[r]);return b.hash2(n,$)},b.send=function(e,t,n,$){if("string"==typeof t){var r=t;return t=e["$"+r],t?(t.$$p=$,t.apply(e,n)):e.$method_missing.apply(e,[r].concat(n))}if("function"==typeof t)return t.$$p=$,t.apply(e,n)},b.def=function(e,t,n){e.$$eval||!e.$$is_class&&!e.$$is_module?b.defs(e,t,n):b.defn(e,t,n)},b.defn=function(e,t,n){e.$$proto[t]=n,n.$$owner=e,e.$$is_module&&(b.update_includers(e,t),e.$$module_function&&b.defs(e,t,n));var $=e.$__id__&&!e.$__id__.$$stub&&m[e.$__id__()];if($)for(var r=$.length-1;r>=0;r--)b.bridge_method($[r],e,t,n);var o=e.$$singleton_of;return!e.$method_added||e.$method_added.$$stub||o?o&&o.$singleton_method_added&&!o.$singleton_method_added.$$stub&&o.$singleton_method_added(t.substr(1)):e.$method_added(t.substr(1)),d},b.defs=function(e,t,n){b.defn(b.get_singleton_class(e),t,n)},b.rdef=function(e,t){if(!v.call(e.$$proto,t))throw b.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());delete e.$$proto[t],e.$$is_singleton?e.$$proto.$singleton_method_removed&&!e.$$proto.$singleton_method_removed.$$stub&&e.$$proto.$singleton_method_removed(t.substr(1)):e.$method_removed&&!e.$method_removed.$$stub&&e.$method_removed(t.substr(1))},b.udef=function(e,t){if(!e.$$proto[t]||e.$$proto[t].$$stub)throw b.NameError.$new("method '"+t.substr(1)+"' not defined in "+e.$name());b.add_stub_for(e.$$proto,t),e.$$is_singleton?e.$$proto.$singleton_method_undefined&&!e.$$proto.$singleton_method_undefined.$$stub&&e.$$proto.$singleton_method_undefined(t.substr(1)):e.$method_undefined&&!e.$method_undefined.$$stub&&e.$method_undefined(t.substr(1))},b.alias=function(e,t,n){var $,r="$"+t,o="$"+n,i=e.$$proto["$"+n];if(e.$$eval)return b.alias(b.get_singleton_class(e),t,n);if("function"!=typeof i||i.$$stub){for(var l=e.$$super;"function"!=typeof i&&l;)i=l[o],l=l.$$super;if("function"!=typeof i||i.$$stub)throw b.NameError.$new("undefined method `"+n+"' for class `"+e.$name()+"'")}return i.$$alias_of&&(i=i.$$alias_of),$=function(){for(var e=$.$$p,t=new Array(arguments.length),n=0;n<arguments.length;n++)t[n]=arguments[n];return e&&($.$$p=null),b.send(this,i,t,e)},$.length=i.length,$.$$arity=i.$$arity,$.$$parameters=i.$$parameters,$.$$source_location=i.$$source_location,$.$$alias_of=i,$.$$alias_name=t,b.defn(e,r,$),e},b.alias_native=function(e,t,n){var $="$"+t,r=e.$$proto[n];if("function"!=typeof r||r.$$stub)throw b.NameError.$new("undefined native method `"+n+"' for class `"+e.$name()+"'");return b.defn(e,$,r),e},b.hash_init=function(e){e.$$smap=Object.create(null),e.$$map=Object.create(null),e.$$keys=[]},b.hash_clone=function(e,t){t.$$none=e.$$none,t.$$proc=e.$$proc;for(var n,$,r=0,o=e.$$keys,i=o.length;r<i;r++)n=e.$$keys[r],n.$$is_string?$=e.$$smap[n]:($=n.value,n=n.key),b.hash_put(t,n,$)},b.hash_put=function(t,n,$){if(n.$$is_string)return v.call(t.$$smap,n)||t.$$keys.push(n),void(t.$$smap[n]=$);var r,o,i=n.$hash();if(!v.call(t.$$map,i))return r={key:n,key_hash:i,value:$},t.$$keys.push(r),void(t.$$map[i]=r);for(r=t.$$map[i];r;){if(n===r.key||n["$eql?"](r.key)){o=e,r.value=$;break}o=r,r=r.next}o&&(r={key:n,key_hash:i,value:$},t.$$keys.push(r),o.next=r)},b.hash_get=function(e,t){if(t.$$is_string){if(v.call(e.$$smap,t))return e.$$smap[t]}else{var n,$=t.$hash();if(v.call(e.$$map,$))for(n=e.$$map[$];n;){if(t===n.key||t["$eql?"](n.key))return n.value;n=n.next}}},b.hash_delete=function(e,t){var n,$,r=e.$$keys,o=r.length;if(t.$$is_string){if(!v.call(e.$$smap,t))return;for(n=0;n<o;n++)if(r[n]===t){r.splice(n,1);break}return $=e.$$smap[t],delete e.$$smap[t],$}var i=t.$hash();if(v.call(e.$$map,i))for(var l,a=e.$$map[i];a;){if(t===a.key||t["$eql?"](a.key)){for($=a.value,n=0;n<o;n++)if(r[n]===a){r.splice(n,1);break}return l&&a.next?l.next=a.next:l?delete l.next:a.next?e.$$map[i]=a.next:delete e.$$map[i],$}l=a,a=a.next}},b.hash_rehash=function(t){for(var n,$,r,o=0,i=t.$$keys.length;o<i;o++)if(!t.$$keys[o].$$is_string&&(n=t.$$keys[o].key.$hash())!==t.$$keys[o].key_hash){for($=t.$$map[t.$$keys[o].key_hash],r=e;$;){if($===t.$$keys[o]){r&&$.next?r.next=$.next:r?delete r.next:$.next?t.$$map[t.$$keys[o].key_hash]=$.next:delete t.$$map[t.$$keys[o].key_hash];break}r=$,$=$.next}if(t.$$keys[o].key_hash=n,v.call(t.$$map,n)){for($=t.$$map[n],r=e;$;){if($===t.$$keys[o]){r=e;break}r=$,$=$.next}r&&(r.next=t.$$keys[o])}else t.$$map[n]=t.$$keys[o]}},b.hash=function(){var e,t,n,$,r,o,i=arguments.length;if(1===i&&arguments[0].$$is_hash)return arguments[0];if(t=new b.Hash.$$alloc,b.hash_init(t),1===i&&arguments[0].$$is_array){for(e=arguments[0],$=e.length,n=0;n<$;n++){if(2!==e[n].length)throw b.ArgumentError.$new("value not of length 2: "+e[n].$inspect());r=e[n][0],o=e[n][1],b.hash_put(t,r,o)}return t}if(1===i){e=arguments[0];for(r in e)e.hasOwnProperty(r)&&(o=e[r],b.hash_put(t,r,o));return t}if(i%2!=0)throw b.ArgumentError.$new("odd number of arguments for Hash");for(n=0;n<i;n+=2)r=arguments[n],o=arguments[n+1],b.hash_put(t,r,o);return t},b.hash2=function(e,t){var n=new b.Hash.$$alloc;return n.$$smap=t,n.$$map=Object.create(null),n.$$keys=e,n},b.getGLOBAL_COUNTER=function(){return GLOBAL_COUNTER},b.range=function(e,t,n){var $=new b.Range.$$alloc;return $.begin=e,$.end=t,$.exclude=n,$},b.ivar=function(e){return"constructor"===e||"displayName"===e||"__count__"===e||"__noSuchMethod__"===e||"__parent__"===e||"__proto__"===e||"hasOwnProperty"===e||"valueOf"===e?e+"$":e},b.escape_regexp=function(e){return e.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},b.modules={},b.loaded_features=["corelib/runtime"],b.current_dir=".",b.require_table={"corelib/runtime":!0},b.normalize=function(e){var t,n,$=[];"."!==b.current_dir&&(e=b.current_dir.replace(/\/*$/,"/")+e),e=e.replace(/\.(rb|opal|js)$/,""),t=e.split("/");for(var r=0,o=t.length;r<o;r++)""!==(n=t[r])&&(".."===n?$.pop():$.push(n));return $.join("/")},b.loaded=function(e){var t,n,$;for(t=0,n=e.length;t<n;t++){if($=b.normalize(e[t]),b.require_table[$])return;b.loaded_features.push($),b.require_table[$]=!0}},b.load=function(e){e=b.normalize(e),b.loaded([e]);var t=b.modules[e];if(t)t(b);else{var n=b.config.missing_require_severity,$="cannot load such file -- "+e;"error"===n?b.LoadError?b.LoadError.$new($):function(){throw $}():"warning"===n&&u.warn("WARNING: LoadError: "+$)}return!0},b.require=function(e){return e=b.normalize(e),!b.require_table[e]&&b.load(e)},b.boot_class_alloc("BasicObject",t),b.boot_class_alloc("Object",n,t),b.boot_class_alloc("Module",r,n),b.boot_class_alloc("Class",$,r),b.BasicObject=f=b.setup_class_object("BasicObject",t,"Class",$),b.Object=p=b.setup_class_object("Object",n,"BasicObject",f.constructor),b.Module=h=b.setup_class_object("Module",r,"Object",p.constructor),b.Class=g=b.setup_class_object("Class",$,"Module",h.constructor),b.constants.push("BasicObject"),b.constants.push("Object"),b.constants.push("Module"),b.constants.push("Class"),f.$$class=g,p.$$class=g,h.$$class=g,g.$$class=g,f.$$super=null,p.$$super=f,h.$$super=p,g.$$super=h,f.$$parent=null,p.$$parent=f,h.$$parent=p,g.$$parent=h,b.base=p,f.$$scope=p.$$scope=b,f.$$orig_scope=p.$$orig_scope=b,h.$$scope=p.$$scope,h.$$orig_scope=p.$$orig_scope,g.$$scope=p.$$scope,g.$$orig_scope=p.$$orig_scope,p.$$proto.toString=function(){return this.$to_s()},p.$$proto.$require=b.require,b.top=new p.$$alloc,b.klass(p,p,"NilClass",o),d=b.nil=new o,d.$$id=4,d.call=d.apply=function(){throw b.LocalJumpError.$new("no block given")},b.breaker=new Error("unexpected break (old)"),b.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.module);return e.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$inspect","$coerce_to!","$!=","$[]","$upcase"]),function(t,n){var o,i,l,a,s,c,u,_,d,f,p,h,g,b,m,y=o=r(t,"Opal"),v=(y.$$proto,y.$$scope),w=n.slice().concat(v);e.defs(y,"$bridge",i=function(t,n){return e.bridge(t,n)},i.$$arity=2),e.defs(y,"$type_error",l=function(t,n,r,o){var i;return null==r&&(r=$),null==o&&(o=$),(i=r!==!1&&r!==$&&null!=r?o:r)===$||null==i||i.$$is_boolean&&1!=i?e.const_get(w,"TypeError",!0,!0).$new("no implicit conversion of "+t.$class()+" into "+n):e.const_get(w,"TypeError",!0,!0).$new("can't convert "+t.$class()+" into "+n+" ("+t.$class()+"#"+r+" gives "+o.$class())},l.$$arity=-3),e.defs(y,"$coerce_to",a=function(e,t,n){var r,o=this;return(r=t["$==="](e))===$||null==r||r.$$is_boolean&&1!=r?(((r=e["$respond_to?"](n))===$||null==r||r.$$is_boolean&&1!=r)&&o.$raise(o.$type_error(e,t)),e.$__send__(n)):e},a.$$arity=3),e.defs(y,"$coerce_to!",s=function(e,t,n){var r,o=this,i=$;return i=o.$coerce_to(e,t,n),((r=t["$==="](i))===$||null==r||r.$$is_boolean&&1!=r)&&o.$raise(o.$type_error(e,t,n,i)),i},s.$$arity=3),e.defs(y,"$coerce_to?",c=function(e,t,n){var r,o=this,i=$;return(r=e["$respond_to?"](n))===$||null==r||r.$$is_boolean&&1!=r?$:(i=o.$coerce_to(e,t,n),(r=i["$nil?"]())===$||null==r||r.$$is_boolean&&1!=r?(((r=t["$==="](i))===$||null==r||r.$$is_boolean&&1!=r)&&o.$raise(o.$type_error(e,t,n,i)),i):$)},c.$$arity=3),e.defs(y,"$try_convert",u=function(e,t,n){var r;return(r=t["$==="](e))===$||null==r||r.$$is_boolean&&1!=r?(r=e["$respond_to?"](n))===$||null==r||r.$$is_boolean&&1!=r?$:e.$__send__(n):e},u.$$arity=3),e.defs(y,"$compare",_=function(t,n){var r,o=this,i=$;return i=t["$<=>"](n),(r=i===$)===$||null==r||r.$$is_boolean&&1!=r||o.$raise(e.const_get(w,"ArgumentError",!0,!0),"comparison of "+t.$class()+" with "+n.$class()+" failed"),i},_.$$arity=2),e.defs(y,"$destructure",d=function(e){if(1==e.length)return e[0];if(e.$$is_array)return e;for(var t=new Array(e.length),n=0,$=t.length;n<$;n++)t[n]=e[n];return t},d.$$arity=1),e.defs(y,"$respond_to?",f=function(e,t){return!(null==e||!e.$$class)&&e["$respond_to?"](t)},f.$$arity=2),e.defs(y,"$inspect",p=function(e){return void 0===e?"undefined":null===e?"null":e.$$class?e.$inspect():e.toString()},p.$$arity=1),e.defs(y,"$instance_variable_name!",h=function(t){var n,r=this;return t=e.Opal["$coerce_to!"](t,e.String,"to_str"),((n=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))===$||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(w,"NameError",!0,!0).$new("'"+t+"' is not allowed as an instance variable name",t)),t},h.$$arity=1),e.defs(y,"$class_variable_name!",g=function(t){var n,r=this;return t=e.Opal["$coerce_to!"](t,e.String,"to_str"),(n=t.length<3||"@@"!==t.slice(0,2))===$||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(w,"NameError",!0,!0).$new("`"+t+"' is not allowed as a class variable name",t)),t},g.$$arity=1),e.defs(y,"$const_name!",b=function(t){var n,r=this;return t=e.Opal["$coerce_to!"](t,e.String,"to_str"),(n=t["$[]"](0)["$!="](t["$[]"](0).$upcase()))===$||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(w,"NameError",!0,!0),"wrong constant name "+t),t},b.$$arity=1),e.defs(y,"$pristine",m=function(e,t){var n,r=arguments.length,o=r-1;o<0&&(o=0),n=new Array(o);for(var i=1;i<r;i++)n[i-1]=arguments[i];for(var l,a=n.length-1;a>=0;a--)l=n[a],e.$$proto["$"+l].$$pristine=!0;return $},m.$$arity=-2)}(t.base,n)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $rb_plus(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var self=Opal.top,$scope=Opal,$scopes=[Opal],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$send=Opal.send,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$+","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$visibility_scopes){function $Module(){}var self=$Module=$klass($base,null,"Module",$Module),def=self.$$proto,$scope=self.$$scope,$scopes=$visibility_scopes.slice().concat($scope),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_const_defined$q_23,TMP_Module_const_get_25,TMP_Module_const_missing_26,TMP_Module_const_set_27,TMP_Module_public_constant_28,TMP_Module_define_method_29,TMP_Module_remove_method_31,TMP_Module_singleton_class$q_32,TMP_Module_include_33,TMP_Module_included_modules_34,TMP_Module_include$q_35,TMP_Module_instance_method_36,TMP_Module_instance_methods_37,TMP_Module_included_38,TMP_Module_extended_39,TMP_Module_method_added_40,TMP_Module_method_removed_41,TMP_Module_method_undefined_42,TMP_Module_module_eval_43,TMP_Module_module_exec_45,TMP_Module_method_defined$q_46,TMP_Module_module_function_47,TMP_Module_name_48,TMP_Module_remove_const_49,TMP_Module_to_s_50,TMP_Module_undef_method_51,TMP_Module_instance_variables_52,TMP_Module_dup_53,TMP_Module_copy_class_variables_54,TMP_Module_copy_constants_55;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){var e,t=this;return e=Opal.module_allocate(t),Opal.create_scope(Opal.Module.$$scope,e,null),e},TMP_Module_allocate_1.$$arity=0),Opal.defn(self,"$initialize",TMP_Module_initialize_2=function(){var e=this,t=TMP_Module_initialize_2.$$p,n=t||nil;return t&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(e,n)},TMP_Module_initialize_2.$$arity=0),Opal.defn(self,"$===",TMP_Module_$eq$eq$eq_3=function(e){var t,n=this;return!!((t=null==e)===nil||null==t||t.$$is_boolean&&1!=t)&&Opal.is_a(e,n)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.defn(self,"$<",TMP_Module_$lt_4=function(e){var t,n=this;((t=Opal.const_get($scopes,"Module",!0,!0)["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t)&&n.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"compared with non class/module");var $,r,o,i=n;if(i===e)return!1;for(r=0,$=Opal.ancestors(n),o=$.length;r<o;r++)if($[r]===e)return!0;for(r=0,$=Opal.ancestors(e),o=$.length;r<o;r++)if($[r]===n)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.defn(self,"$<=",TMP_Module_$lt$eq_5=function(e){var t,n=this;return(t=n["$equal?"](e))!==!1&&t!==nil&&null!=t?t:$rb_lt(n,e)},TMP_Module_$lt$eq_5.$$arity=1),Opal.defn(self,"$>",TMP_Module_$gt_6=function(e){var t,n=this;return((t=Opal.const_get($scopes,"Module",!0,!0)["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t)&&n.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"compared with non class/module"),$rb_lt(e,n)},TMP_Module_$gt_6.$$arity=1),Opal.defn(self,"$>=",TMP_Module_$gt$eq_7=function(e){var t,n=this;return(t=n["$equal?"](e))!==!1&&t!==nil&&null!=t?t:$rb_gt(n,e)},TMP_Module_$gt$eq_7.$$arity=1),Opal.defn(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(e){var t,n=this,$=nil;return n===e?0:(t=Opal.const_get($scopes,"Module",!0,!0)["$==="](e))===nil||null==t||t.$$is_boolean&&1!=t?nil:($=$rb_lt(n,e),(t=$["$nil?"]())===nil||null==t||t.$$is_boolean&&1!=t?$!==!1&&$!==nil&&null!=$?-1:1:nil)},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.defn(self,"$alias_method",TMP_Module_alias_method_9=function(e,t){var n=this;return Opal.alias(n,e,t),n},TMP_Module_alias_method_9.$$arity=2),Opal.defn(self,"$alias_native",TMP_Module_alias_native_10=function(e,t){var n=this;return null==t&&(t=e),Opal.alias_native(n,e,t),n},TMP_Module_alias_native_10.$$arity=-2),Opal.defn(self,"$ancestors",TMP_Module_ancestors_11=function(){var e=this;return Opal.ancestors(e)},TMP_Module_ancestors_11.$$arity=0),Opal.defn(self,"$append_features",TMP_Module_append_features_12=function(e){var t=this;return Opal.append_features(t,e),t},TMP_Module_append_features_12.$$arity=1),Opal.defn(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];return $send(n,"attr_reader",Opal.to_a(t)),$send(n,"attr_writer",Opal.to_a(t))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.defn(self,"$attr_reader",TMP_Module_attr_reader_14=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];for(var i=n.$$proto,l=t.length-1;l>=0;l--){var a=t[l],s="$"+a,c=Opal.ivar(a),u=function(e){return function(){return null==this[e]?nil:this[e]}}(c);i[c]=nil,u.$$parameters=[],u.$$arity=0,n.$$is_singleton?i.constructor.prototype[s]=u:Opal.defn(n,s,u)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.defn(self,"$attr_writer",TMP_Module_attr_writer_15=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];for(var i=n.$$proto,l=t.length-1;l>=0;l--){var a=t[l],s="$"+a+"=",c=Opal.ivar(a),u=function(e){return function(t){return this[e]=t}}(c);u.$$parameters=[["req"]],u.$$arity=1,i[c]=nil,n.$$is_singleton?i.constructor.prototype[s]=u:Opal.defn(n,s,u)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.defn(self,"$autoload",TMP_Module_autoload_16=function(e,t){var n,$=this;return(n=$.$$autoload)||(n=$.$$autoload={}),n[e]=t,nil},TMP_Module_autoload_16.$$arity=2),Opal.defn(self,"$class_variables",TMP_Module_class_variables_17=function(){var e=this;return Object.keys(Opal.class_variables(e))},TMP_Module_class_variables_17.$$arity=0),Opal.defn(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(e){var t=this;e=Opal.Opal["$class_variable_name!"](e);var n=Opal.class_variables(t)[e];return null==n&&t.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("uninitialized class variable "+e+" in "+t,e)),n},TMP_Module_class_variable_get_18.$$arity=1),Opal.defn(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(e,t){var n=this;return e=Opal.Opal["$class_variable_name!"](e),Opal.class_variable_set(n,e,t)},TMP_Module_class_variable_set_19.$$arity=2),Opal.defn(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(e){var t=this;return e=Opal.Opal["$class_variable_name!"](e),Opal.class_variables(t).hasOwnProperty(e)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.defn(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(e){var t=this;if(e=Opal.Opal["$class_variable_name!"](e),Opal.hasOwnProperty.call(t.$$cvars,e)){var n=t.$$cvars[e];return delete t.$$cvars[e],n}t.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("cannot remove "+e+" for "+t))},TMP_Module_remove_class_variable_21.$$arity=1),Opal.defn(self,"$constants",TMP_Module_constants_22=function(){return this.$$scope.constants.slice(0)},TMP_Module_constants_22.$$arity=0),Opal.defn(self,"$const_defined?",TMP_Module_const_defined$q_23=function(e,t){var n,$=this;null==t&&(t=!0),e=Opal.Opal["$const_name!"](e),((n=e["$=~"](Opal.const_get([Opal.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0)))===nil||null==n||n.$$is_boolean&&1!=n)&&$.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("wrong constant name "+e,e))
;var r=[$.$$scope];if(t||$===Opal.Object)for(var o=$.$$super;o!==Opal.BasicObject;)r.push(o.$$scope),o=o.$$super;for(var i=0,l=r.length;i<l;i++)if(r[i].hasOwnProperty(e))return!0;return!1},TMP_Module_const_defined$q_23.$$arity=-2),Opal.defn(self,"$const_get",TMP_Module_const_get_25=function(e,t){var n,$,r=this;return null==t&&(t=!0),e=Opal.Opal["$const_name!"](e),0===e.indexOf("::")&&"::"!==e&&(e=e.slice(2)),(n=e.indexOf("::")!=-1&&"::"!=e)===nil||null==n||n.$$is_boolean&&1!=n?(((n=e["$=~"](Opal.const_get([Opal.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0)))===nil||null==n||n.$$is_boolean&&1!=n)&&r.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("wrong constant name "+e,e)),Opal.const_get([r.$$scope],e,t,!0)):$send(e.$split("::"),"inject",[r],($=function(e,t){$.$$s;return null==e&&(e=nil),null==t&&(t=nil),e.$const_get(t)},$.$$s=r,$.$$arity=2,$))},TMP_Module_const_get_25.$$arity=-2),Opal.defn(self,"$const_missing",TMP_Module_const_missing_26=function(e){var t=this,n=nil;if(t.$$autoload){var $=t.$$autoload[e];if($)return t.$require($),t.$const_get(e)}return n=function(){return t["$=="](Opal.const_get($scopes,"Object",!0,!0))?e:t+"::"+e}(),t.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("uninitialized constant "+n,e))},TMP_Module_const_missing_26.$$arity=1),Opal.defn(self,"$const_set",TMP_Module_const_set_27=function(e,t){var n,$,r=this;return e=Opal.Opal["$const_name!"](e),(n=($=e["$=~"](Opal.const_get([Opal.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0))["$!"]())!==!1&&$!==nil&&null!=$?$:e["$start_with?"]("::"))===nil||null==n||n.$$is_boolean&&1!=n||r.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("wrong constant name "+e,e)),Opal.casgn(r,e,t),t},TMP_Module_const_set_27.$$arity=2),Opal.defn(self,"$public_constant",TMP_Module_public_constant_28=function(e){return nil},TMP_Module_public_constant_28.$$arity=1),Opal.defn(self,"$define_method",TMP_Module_define_method_29=function(e,t){var n,$,r=this,o=TMP_Module_define_method_29.$$p,i=o||nil,l=nil;o&&(TMP_Module_define_method_29.$$p=null),(n=void 0===t&&i===nil)===nil||null==n||n.$$is_boolean&&1!=n||r.$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"tried to create a Proc object without a block"),(n=i)!==!1&&n!==nil&&null!=n||(i=function(){return l=t,Opal.const_get($scopes,"Proc",!0,!0)["$==="](l)?t:Opal.const_get($scopes,"Method",!0,!0)["$==="](l)?t.$to_proc().$$unbound:Opal.const_get($scopes,"UnboundMethod",!0,!0)["$==="](l)?$send(r,"lambda",[],($=function(e){var n,r=$.$$s||this,o=nil,i=arguments.length,l=i-0;l<0&&(l=0),n=new Array(l);for(var a=0;a<i;a++)n[a-0]=arguments[a];return o=t.$bind(r),$send(o,"call",Opal.to_a(n))},$.$$s=r,$.$$arity=-1,$)):r.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"wrong argument type "+i.$class()+" (expected Proc/Method)")}());var a="$"+e;return i.$$jsid=e,i.$$s=null,i.$$def=i,i.$$define_meth=!0,Opal.defn(r,a,i),e},TMP_Module_define_method_29.$$arity=-2),Opal.defn(self,"$remove_method",TMP_Module_remove_method_31=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];for(var i=0,l=t.length;i<l;i++)Opal.rdef(n,"$"+t[i]);return n},TMP_Module_remove_method_31.$$arity=-1),Opal.defn(self,"$singleton_class?",TMP_Module_singleton_class$q_32=function(){return!!this.$$is_singleton},TMP_Module_singleton_class$q_32.$$arity=0),Opal.defn(self,"$include",TMP_Module_include_33=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];for(var i=t.length-1;i>=0;i--){var l=t[i];l.$$is_module||n.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"wrong argument type "+l.$class()+" (expected Module)"),l.$append_features(n),l.$included(n)}return n},TMP_Module_include_33.$$arity=-1),Opal.defn(self,"$included_modules",TMP_Module_included_modules_34=function(){var e,t=this,n=function(e){for(var t=[],$=0;$!=e.$$inc.length;$++){var r=e.$$inc[$];t.push(r),t=t.concat(n(r))}return t};if(e=n(t),t.$$is_class)for(var $=t;$;$=$.$$super)e=e.concat(n($));return e},TMP_Module_included_modules_34.$$arity=0),Opal.defn(self,"$include?",TMP_Module_include$q_35=function(e){var t=this;e.$$is_module||t.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"wrong argument type "+e.$class()+" (expected Module)");var n,$,r,o=Opal.ancestors(t);for(n=0,$=o.length;n<$;n++)if((r=o[n])===e&&r!==t)return!0;return!1},TMP_Module_include$q_35.$$arity=1),Opal.defn(self,"$instance_method",TMP_Module_instance_method_36=function(e){var t=this,n=t.$$proto["$"+e];return n&&!n.$$stub||t.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("undefined method `"+e+"' for class `"+t.$name()+"'",e)),Opal.const_get($scopes,"UnboundMethod",!0,!0).$new(t,n.$$owner||t,n,e)},TMP_Module_instance_method_36.$$arity=1),Opal.defn(self,"$instance_methods",TMP_Module_instance_methods_37=function(e){var t=this;null==e&&(e=!0);var n,$=[],r=t.$$proto;for(var o in r)if("$"===o.charAt(0)&&"$"!==o.charAt(1)&&"function"==typeof(n=r[o])&&!n.$$stub){if(!t.$$is_module){if(t!==Opal.BasicObject&&n===Opal.BasicObject.$$proto[o])continue;if(!e&&!r.hasOwnProperty(o))continue;if(!e&&n.$$donated)continue}$.push(o.substr(1))}return $},TMP_Module_instance_methods_37.$$arity=-1),Opal.defn(self,"$included",TMP_Module_included_38=function(e){return nil},TMP_Module_included_38.$$arity=1),Opal.defn(self,"$extended",TMP_Module_extended_39=function(e){return nil},TMP_Module_extended_39.$$arity=1),Opal.defn(self,"$method_added",TMP_Module_method_added_40=function(e){return nil},TMP_Module_method_added_40.$$arity=-1),Opal.defn(self,"$method_removed",TMP_Module_method_removed_41=function(e){return nil},TMP_Module_method_removed_41.$$arity=-1),Opal.defn(self,"$method_undefined",TMP_Module_method_undefined_42=function(e){return nil},TMP_Module_method_undefined_42.$$arity=-1),Opal.defn(self,"$module_eval",TMP_Module_module_eval_43=function $$module_eval($a_rest){var $b,$c,TMP_44,self=this,args,$iter=TMP_Module_module_eval_43.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_43.$$p=null),$c=block["$nil?"](),($b=$c!==!1&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),$rb_plus("wrong number of arguments ("+args.$size()+" for 0)","\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n")):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:($b=file)!==!1&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.Opal.$compile(string,compiling_options),block=$send(Opal.const_get($scopes,"Kernel",!0,!0),"proc",[],(TMP_44=function(){var self=TMP_44.$$s||this;return function(self){return eval(compiled)}(self)},TMP_44.$$s=self,TMP_44.$$arity=0,TMP_44)));var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_43.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.defn(self,"$module_exec",TMP_Module_module_exec_45=function(e){var t,n=this,$=TMP_Module_module_exec_45.$$p,r=$||nil,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var l=0;l<o;l++)t[l-0]=arguments[l];$&&(TMP_Module_module_exec_45.$$p=null),r===nil&&n.$raise(Opal.const_get($scopes,"LocalJumpError",!0,!0),"no block given");var a,s=r.$$s;return r.$$s=null,a=r.apply(n,t),r.$$s=s,a},TMP_Module_module_exec_45.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.defn(self,"$method_defined?",TMP_Module_method_defined$q_46=function(e){var t=this,n=t.$$proto["$"+e];return!!n&&!n.$$stub},TMP_Module_method_defined$q_46.$$arity=1),Opal.defn(self,"$module_function",TMP_Module_module_function_47=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];if(0===t.length)n.$$module_function=!0;else for(var i=0,l=t.length;i<l;i++){var a=t[i],s="$"+a,c=n.$$proto[s];Opal.defs(n,s,c)}return n},TMP_Module_module_function_47.$$arity=-1),Opal.defn(self,"$name",TMP_Module_name_48=function(){var e=this;if(e.$$full_name)return e.$$full_name;for(var t=[],n=e;n;){if(n.$$name===nil)return 0===t.length?nil:t.join("::");if(t.unshift(n.$$name),(n=n.$$base_module)===Opal.Object)break}return 0===t.length?nil:e.$$full_name=t.join("::")},TMP_Module_name_48.$$arity=0),Opal.defn(self,"$remove_const",TMP_Module_remove_const_49=function(e){var t=this,n=t.$$scope[e];return delete t.$$scope[e],n},TMP_Module_remove_const_49.$$arity=1),Opal.defn(self,"$to_s",TMP_Module_to_s_50=function(){var e,t=this;return(e=Opal.Module.$name.call(t))!==!1&&e!==nil&&null!=e?e:"#<"+(t.$$is_module?"Module":"Class")+":0x"+t.$__id__().$to_s(16)+">"},TMP_Module_to_s_50.$$arity=0),Opal.defn(self,"$undef_method",TMP_Module_undef_method_51=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];for(var i=0,l=t.length;i<l;i++)Opal.udef(n,"$"+t[i]);return n},TMP_Module_undef_method_51.$$arity=-1),Opal.defn(self,"$instance_variables",TMP_Module_instance_variables_52=function(){var e=this,t=nil;t=e.$constants();var n=[];for(var $ in e)e.hasOwnProperty($)&&"$"!==$.charAt(0)&&"constructor"!==$&&!t["$include?"]($)&&n.push("@"+$);return n},TMP_Module_instance_variables_52.$$arity=0),Opal.defn(self,"$dup",TMP_Module_dup_53=function(){var e=this,t=TMP_Module_dup_53.$$p,n=nil,$=nil,r=nil,o=nil;for(t&&(TMP_Module_dup_53.$$p=null),r=0,o=arguments.length,$=new Array(o);r<o;r++)$[r]=arguments[r];return n=$send(e,Opal.find_super_dispatcher(e,"dup",TMP_Module_dup_53,!1),$,t),n.$copy_class_variables(e),n.$copy_constants(e),n},TMP_Module_dup_53.$$arity=0),Opal.defn(self,"$copy_class_variables",TMP_Module_copy_class_variables_54=function(e){var t=this;for(var n in e.$$cvars)t.$$cvars[n]=e.$$cvars[n]},TMP_Module_copy_class_variables_54.$$arity=1),Opal.defn(self,"$copy_constants",TMP_Module_copy_constants_55=function(e){for(var t=this,n=e.$$scope.constants,$=n.length,r=0;r<$;r++){var o=n[r];Opal.casgn(t,o,e.$$scope[o])}},TMP_Module_copy_constants_55.$$arity=1),nil&&"copy_constants"}($scope.base,null,$scopes)},Opal.modules["corelib/class"]=function(e){var t=e.top,n=e,$=[e],r=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$require","$allocate","$name","$to_s"]),t.$require("corelib/module"),function(t,n,$){function l(){}var a,s,c,u,_,d,f=l=o(t,null,"Class",l),p=(f.$$proto,f.$$scope),h=$.slice().concat(p);return e.defs(f,"$new",a=function(t){var n=a.$$p,$=n||r;if(null==t&&(t=e.const_get(h,"Object",!0,!0)),n&&(a.$$p=null),!t.$$is_class)throw e.TypeError.$new("superclass must be a Class");var o=e.boot_class_alloc(null,function(){},t),i=e.setup_class_object(null,o,t.$$name,t.constructor);return i.$$super=t,i.$$parent=t,e.create_scope(t.$$scope,i),t.$inherited(i),e.module_initialize(i,$),i},a.$$arity=-1),e.defn(f,"$allocate",s=function(){var t=this,n=new t.$$alloc;return n.$$id=e.uid(),n},s.$$arity=0),e.defn(f,"$inherited",c=function(e){return r},c.$$arity=1),e.defn(f,"$new",u=function(t){var n,$=this,o=u.$$p,i=o||r,l=arguments.length,a=l-0;a<0&&(a=0),n=new Array(a);for(var s=0;s<l;s++)n[s-0]=arguments[s];o&&(u.$$p=null);var c=$.$allocate();return e.send(c,c.$initialize,n,i),c},u.$$arity=-1),e.defn(f,"$superclass",_=function(){return this.$$super||r},_.$$arity=0),e.defn(f,"$to_s",d=function(){var t=this,n=d.$$p;n&&(d.$$p=null);var $=t.$$singleton_of;return $&&($.$$is_class||$.$$is_module)?"#<Class:"+$.$name()+">":$?"#<Class:#<"+$.$$class.$name()+":0x"+e.id($).$to_s(16)+">>":i(t,e.find_super_dispatcher(t,"to_s",d,!1),[],null)},d.$$arity=0),r&&"to_s"}(n.base,0,$)},Opal.modules["corelib/basic_object"]=function(Opal){function $rb_gt(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var self=Opal.top,$scope=Opal,$scopes=[Opal],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$>","$new","$inspect"]),function($base,$super,$visibility_scopes){function $BasicObject(){}var self=$BasicObject=$klass($base,null,"BasicObject",$BasicObject),def=self.$$proto,$scope=self.$$scope,$scopes=$visibility_scopes.slice().concat($scope),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.defn(self,"$initialize",TMP_BasicObject_initialize_1=function(e){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.defn(self,"$==",TMP_BasicObject_$eq$eq_2=function(e){return this===e},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.defn(self,"$eql?",TMP_BasicObject_eql$q_3=function(e){return this["$=="](e)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$__id__",TMP_BasicObject___id___4=function(){var e=this;return e.$$id||(e.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.defn(self,"$__send__",TMP_BasicObject___send___5=function(e,t){var n,$=this,r=TMP_BasicObject___send___5.$$p,o=r||nil,i=arguments.length,l=i-1;l<0&&(l=0),n=new Array(l);for(var a=1;a<i;a++)n[a-1]=arguments[a];r&&(TMP_BasicObject___send___5.$$p=null);var s=$["$"+e];return s?(o!==nil&&(s.$$p=o),s.apply($,n)):(o!==nil&&($.$method_missing.$$p=o),$.$method_missing.apply($,[e].concat(n)))},TMP_BasicObject___send___5.$$arity=-2),Opal.defn(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.defn(self,"$!=",TMP_BasicObject_$B$eq_7=function(e){return this["$=="](e)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,$c,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$c=block["$nil?"](),($b=$c!==!1&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"wrong number of arguments ("+args.$size()+" for 0)"):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:($b=file)!==!1&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.Opal.$compile(string,compiling_options),block=$send(Opal.const_get($scopes,"Kernel",!0,!0),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9)));var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.defn(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(e){var t,n=this,$=TMP_BasicObject_instance_exec_10.$$p,r=$||nil,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var l=0;l<o;l++)t[l-0]=arguments[l];$&&(TMP_BasicObject_instance_exec_10.$$p=null),r!==!1&&r!==nil&&null!=r||Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"no block given");var a,s=r.$$s;if(r.$$s=null,n.$$is_class||n.$$is_module){n.$$eval=!0;try{a=r.apply(n,t)}finally{n.$$eval=!1}}else a=r.apply(n,t);return r.$$s=s,a},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.defn(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(e){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.defn(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(e){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.defn(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(e){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.defn(self,"$method_missing",TMP_BasicObject_method_missing_14=function(e,t){var n,$,r=this,o=TMP_BasicObject_method_missing_14.$$p,i=arguments.length,l=i-1;l<0&&(l=0),$=new Array(l);for(var a=1;a<i;a++)$[a-1]=arguments[a];return o&&(TMP_BasicObject_method_missing_14.$$p=null),Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"NoMethodError",!0,!0).$new(function(){return(n=r.$inspect&&!r.$inspect.$$stub)===nil||null==n||n.$$is_boolean&&1!=n?"undefined method `"+e+"' for "+r.$$class:"undefined method `"+e+"' for "+r.$inspect()+":"+r.$$class}(),e))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($scope.base,null,$scopes)},Opal.modules["corelib/kernel"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var $=(e.top,e),r=[e],o=e.nil,i=(e.breaker,e.slice,e.module),l=e.gvars,a=e.send,s=e.hash2,c=e.klass;return e.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$>","$size","$pop","$call","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$print","$format","$puts","$each","$<=","$empty?","$exception","$kind_of?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),function($,r){var c,u,_,d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,oe,ie,le,ae,se,ce,ue,_e,de,fe,pe,he,ge,be,me,ye=c=i($,"Kernel"),ve=(ye.$$proto,ye.$$scope),we=r.slice().concat(ve);e.defn(ye,"$method_missing",u=function(t,n){var $,r=this,o=u.$$p,i=arguments.length,l=i-1;l<0&&(l=0),$=new Array(l);for(var a=1;a<i;a++)$[a-1]=arguments[a];return o&&(u.$$p=null),r.$raise(e.const_get(we,"NoMethodError",!0,!0).$new("undefined method `"+t+"' for "+r.$inspect(),t,$))},u.$$arity=-2),e.defn(ye,"$=~",_=function(e){return!1},_.$$arity=1),e.defn(ye,"$!~",d=function(e){return this["$=~"](e)["$!"]()},d.$$arity=1),e.defn(ye,"$===",f=function(e){var t,n=this;return(t=n.$object_id()["$=="](e.$object_id()))!==!1&&t!==o&&null!=t?t:n["$=="](e)},f.$$arity=1),e.defn(ye,"$<=>",p=function(e){var t=this;t.$$comparable=!0;var n=t["$=="](e);return n&&n!==o?0:o},p.$$arity=1),e.defn(ye,"$method",h=function(t){var n=this,$=n["$"+t];return $&&!$.$$stub||n.$raise(e.const_get(we,"NameError",!0,!0).$new("undefined method `"+t+"' for class `"+n.$class()+"'",t)),e.const_get(we,"Method",!0,!0).$new(n,$.$$owner||n.$class(),$,t)},h.$$arity=1),e.defn(ye,"$methods",g=function(t){var n=this;null==t&&(t=!0);var $=[];for(var r in n)if("$"==r[0]&&"function"==typeof n[r]){if((0==t||t===o)&&!e.hasOwnProperty.call(n,r))continue;void 0===n[r].$$stub&&$.push(r.substr(1))}return $},g.$$arity=-1),e.alias(ye,"public_methods","methods"),e.defn(ye,"$Array",b=function(t){var n;return t===o?[]:t.$$is_array?t:(n=e.Opal["$coerce_to?"](t,e.const_get(we,"Array",!0,!0),"to_ary"))!==o?n:(n=e.Opal["$coerce_to?"](t,e.const_get(we,"Array",!0,!0),"to_a"),n!==o?n:[t])},b.$$arity=1),e.defn(ye,"$at_exit",m=function(){var e,t=m.$$p,n=t||o;return null==l.__at_exit__&&(l.__at_exit__=o),t&&(m.$$p=null),(e=l.__at_exit__)!==!1&&e!==o&&null!=e||(l.__at_exit__=[]),l.__at_exit__["$<<"](n)},m.$$arity=0),e.defn(ye,"$caller",y=function(){return[]},y.$$arity=0),e.defn(ye,"$class",v=function(){return this.$$class},v.$$arity=0),e.defn(ye,"$copy_instance_variables",w=function(e){var t=this;for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t[n]=e[n])},w.$$arity=1),e.defn(ye,"$copy_singleton_methods",k=function(t){var n,$=this;if(t.hasOwnProperty("$$meta")){var r=e.get_singleton_class(t).$$proto,o=e.get_singleton_class($).$$proto;for(n in r)"$"===n.charAt(0)&&r.hasOwnProperty(n)&&(o[n]=r[n])}for(n in t)"$"===n.charAt(0)&&"$"!==n.charAt(1)&&t.hasOwnProperty(n)&&($[n]=t[n])},k.$$arity=1),e.defn(ye,"$clone",x=function(){var e=this,t=o;return t=e.$class().$allocate(),t.$copy_instance_variables(e),t.$copy_singleton_methods(e),t.$initialize_clone(e),t},x.$$arity=0),e.defn(ye,"$initialize_clone",O=function(e){return this.$initialize_copy(e)},O.$$arity=1),e.defn(ye,"$define_singleton_method",E=function(e,t){var n=this,$=E.$$p,r=$||o;return $&&(E.$$p=null),a(n.$singleton_class(),"define_method",[e,t],r.$to_proc())},E.$$arity=-2),e.defn(ye,"$dup",A=function(){var e=this,t=o;return t=e.$class().$allocate(),t.$copy_instance_variables(e),t.$initialize_dup(e),t},A.$$arity=0),e.defn(ye,"$initialize_dup",S=function(e){return this.$initialize_copy(e)},S.$$arity=1),e.defn(ye,"$enum_for",R=function(t,n){var $,r=this,i=R.$$p,l=i||o;null==t&&(t="each");var s=arguments.length,c=s-1;c<0&&(c=0),$=new Array(c);for(var u=1;u<s;u++)$[u-1]=arguments[u];return i&&(R.$$p=null),a(e.const_get(we,"Enumerator",!0,!0),"for",[r,t].concat(e.to_a($)),l.$to_proc())},R.$$arity=-1),e.alias(ye,"to_enum","enum_for"),e.defn(ye,"$equal?",M=function(e){return this===e},M.$$arity=1),e.defn(ye,"$exit",T=function(n){var $,r,i=o;for(null==l.__at_exit__&&(l.__at_exit__=o),null==n&&(n=!0),($=l.__at_exit__)!==!1&&$!==o&&null!=$||(l.__at_exit__=[]);(r=t(l.__at_exit__.$size(),0))!==o&&null!=r&&(!r.$$is_boolean||1==r);)i=l.__at_exit__.$pop(),i.$call();return($=n===!0)===o||null==$||$.$$is_boolean&&1!=$||(n=0),e.exit(n),o},T.$$arity=-1),e.defn(ye,"$extend",I=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];for(var l=$.$singleton_class(),a=n.length-1;a>=0;a--){var s=n[a];s.$$is_module||$.$raise(e.const_get(we,"TypeError",!0,!0),"wrong argument type "+s.$class()+" (expected Module)"),s.$append_features(l),s.$extended($)}return $},I.$$arity=-1),e.defn(ye,"$format",C=function(t,n){function $(){j&q&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"flag after width"),j&F&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"flag after precision")}function r(){j&q&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"width given twice"),j&F&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"width after precision")}function i(t){return t>=f.length&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"too few arguments"),f[t]}function a(){switch(B){case-1:p.$raise(e.const_get(we,"ArgumentError",!0,!0),"unnumbered("+D+") mixed with numbered");case-2:p.$raise(e.const_get(we,"ArgumentError",!0,!0),"unnumbered("+D+") mixed with named")}return B=D++,i(B-1)}function s(t){return B>0&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"numbered("+t+") after unnumbered("+B+")"),B===-2&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"numbered("+t+") after named"),t<1&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"invalid index - "+t+"$"),B=-1,i(t-1)}function c(){return void 0===N?a():N}function u(n){for(var $,r="";;v++){if(v===P&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"malformed format string - %*[0-9]"),t.charCodeAt(v)<48||t.charCodeAt(v)>57)return v--,$=parseInt(r,10)||0,$>2147483647&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),n+" too big"),$;r+=t.charAt(v)}}function _(e){var n,$=u(e);return"$"===t.charAt(v+1)?(v++,n=s($)):n=a(),n.$to_int()}var d,f,p=this,h=o;null==l.DEBUG&&(l.DEBUG=o);var g=arguments.length,b=g-1;b<0&&(b=0),f=new Array(b);for(var m=1;m<g;m++)f[m-1]=arguments[m];(d=f.$length()["$=="](1)?f["$[]"](0)["$respond_to?"]("to_ary"):f.$length()["$=="](1))===o||null==d||d.$$is_boolean&&1!=d||(h=e.Opal["$coerce_to?"](f["$[]"](0),e.const_get(we,"Array",!0,!0),"to_ary"),((d=h["$nil?"]())===o||null==d||d.$$is_boolean&&1!=d)&&(f=h.$to_a()));var y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L="",z=0,P=t.length,D=1,B=0,q=32,F=128;for(v=t.indexOf("%");v!==-1;v=t.indexOf("%",v)){switch(k=void 0,j=0,O=-1,E=-1,N=void 0,y=v,v++,t.charAt(v)){case"%":z=v;case"":case"\n":case"\0":v++;continue}e:for(;v<P;v++)switch(t.charAt(v)){case" ":$(),j|=16;continue e;case"#":$(),j|=1;continue e;case"+":$(),j|=4;continue e;case"-":$(),j|=2;continue e;case"0":$(),j|=8;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(A=u("width"),"$"===t.charAt(v+1)){if(v+2===P){k="%",v++;break e}void 0!==N&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"value given twice - %"+A+"$"),N=s(A),v++}else r(),j|=q,O=A;continue e;case"<":case"{":for(R="<"===t.charAt(v)?">":"}",S="",v++;;v++){if(v===P&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"malformed name - unmatched parenthesis"),t.charAt(v)===R){if(B>0&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"named "+S+" after unnumbered("+B+")"),B===-1&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"named "+S+" after numbered"),B=-2,void 0!==f[0]&&f[0].$$is_hash||p.$raise(e.const_get(we,"ArgumentError",!0,!0),"one hash required"),N=f[0].$fetch(S),">"===R)continue e;if(k=N.toString(),E!==-1&&(k=k.slice(0,E)),2&j)for(;k.length<O;)k+=" ";else for(;k.length<O;)k=" "+k;break e}S+=t.charAt(v)}case"*":v++,r(),j|=q,O=_("width"),O<0&&(j|=2,O=-O);continue e;case".":if(j&F&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"precision given twice"),j|=64|F,E=0,v++,"*"===t.charAt(v)){v++,E=_("precision"),E<0&&(j&=-65);continue e}E=u("precision");continue e;case"d":case"i":case"u":if((w=p.$Integer(c()))>=0){for(k=w.toString();k.length<E;)k="0"+k;if(2&j)for((4&j||16&j)&&(k=(4&j?"+":" ")+k);k.length<O;)k+=" ";else if(8&j&&E===-1){for(;k.length<O-(4&j||16&j?1:0);)k="0"+k;(4&j||16&j)&&(k=(4&j?"+":" ")+k)}else for((4&j||16&j)&&(k=(4&j?"+":" ")+k);k.length<O;)k=" "+k}else{for(k=(-w).toString();k.length<E;)k="0"+k;if(2&j)for(k="-"+k;k.length<O;)k+=" ";else if(8&j&&E===-1){for(;k.length<O-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<O;)k=" "+k}break e;case"b":case"B":case"o":case"x":case"X":switch(t.charAt(v)){case"b":case"B":M=2,T="0b",I=/^1+/,C="1";break;case"o":M=8,T="0",I=/^3?7+/,C="7";break;case"x":case"X":M=16,T="0x",I=/^f+/,C="f"}if((w=p.$Integer(c()))>=0){for(k=w.toString(M);k.length<E;)k="0"+k;if(2&j)for((4&j||16&j)&&(k=(4&j?"+":" ")+k),1&j&&0!==w&&(k=T+k);k.length<O;)k+=" ";else if(8&j&&E===-1){for(;k.length<O-(4&j||16&j?1:0)-(1&j&&0!==w?T.length:0);)k="0"+k;1&j&&0!==w&&(k=T+k),(4&j||16&j)&&(k=(4&j?"+":" ")+k)}else for(1&j&&0!==w&&(k=T+k),(4&j||16&j)&&(k=(4&j?"+":" ")+k);k.length<O;)k=" "+k}else if(4&j||16&j){for(k=(-w).toString(M);k.length<E;)k="0"+k;if(2&j)for(1&j&&(k=T+k),k="-"+k;k.length<O;)k+=" ";else if(8&j&&E===-1){for(;k.length<O-1-(1&j?2:0);)k="0"+k;1&j&&(k=T+k),k="-"+k}else for(1&j&&(k=T+k),k="-"+k;k.length<O;)k=" "+k}else{for(k=(w>>>0).toString(M).replace(I,C);k.length<E-2;)k=C+k;if(2&j)for(k=".."+k,1&j&&(k=T+k);k.length<O;)k+=" ";else if(8&j&&E===-1){for(;k.length<O-2-(1&j?T.length:0);)k=C+k;k=".."+k,1&j&&(k=T+k)}else for(k=".."+k,1&j&&(k=T+k);k.length<O;)k=" "+k}t.charAt(v)===t.charAt(v).toUpperCase()&&(k=k.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if((w=p.$Float(c()))>=0||isNaN(w)){if(1/0===w)k="Inf";else switch(t.charAt(v)){case"f":k=w.toFixed(E===-1?6:E);break;case"e":case"E":k=w.toExponential(E===-1?6:E);break;case"g":case"G":k=w.toExponential(),x=parseInt(k.split("e")[1],10),x<-4||x>=(E===-1?6:E)||(k=w.toPrecision(E===-1?1&j?6:void 0:E))}if(2&j)for((4&j||16&j)&&(k=(4&j?"+":" ")+k);k.length<O;)k+=" ";else if(8&j&&1/0!==w&&!isNaN(w)){for(;k.length<O-(4&j||16&j?1:0);)k="0"+k;(4&j||16&j)&&(k=(4&j?"+":" ")+k)}else for((4&j||16&j)&&(k=(4&j?"+":" ")+k);k.length<O;)k=" "+k}else{if(w===-1/0)k="Inf";else switch(t.charAt(v)){case"f":k=(-w).toFixed(E===-1?6:E);break;case"e":case"E":k=(-w).toExponential(E===-1?6:E);break;case"g":case"G":k=(-w).toExponential(),x=parseInt(k.split("e")[1],10),x<-4||x>=(E===-1?6:E)||(k=(-w).toPrecision(E===-1?1&j?6:void 0:E))}if(2&j)for(k="-"+k;k.length<O;)k+=" ";else if(8&j&&w!==-1/0){for(;k.length<O-1;)k="0"+k;k="-"+k}else for(k="-"+k;k.length<O;)k=" "+k}t.charAt(v)!==t.charAt(v).toUpperCase()||1/0===w||w===-1/0||isNaN(w)||(k=k.toUpperCase()),k=k.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":p.$raise(e.const_get(we,"NotImplementedError",!0,!0),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(w=c(),w["$respond_to?"]("to_ary")&&(w=w.$to_ary()[0]),k=w["$respond_to?"]("to_str")?w.$to_str():String.fromCharCode(e.Opal.$coerce_to(w,e.Integer,"to_int")),1!==k.length&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"%c requires a character"),2&j)for(;k.length<O;)k+=" ";else for(;k.length<O;)k=" "+k;break e;case"p":if(k=c().$inspect(),E!==-1&&(k=k.slice(0,E)),2&j)for(;k.length<O;)k+=" ";else for(;k.length<O;)k=" "+k;break e;case"s":if(k=c().$to_s(),E!==-1&&(k=k.slice(0,E)),2&j)for(;k.length<O;)k+=" ";else for(;k.length<O;)k=" "+k;break e;default:p.$raise(e.const_get(we,"ArgumentError",!0,!0),"malformed format string - %"+t.charAt(v))}void 0===k&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"malformed format string - %"),L+=t.slice(z,y)+k,z=v+1}return l.DEBUG&&B>=0&&D<f.length&&p.$raise(e.const_get(we,"ArgumentError",!0,!0),"too many arguments for format string"),L+t.slice(z)},C.$$arity=-2),e.defn(ye,"$hash",N=function(){return this.$__id__()},N.$$arity=0),e.defn(ye,"$initialize_copy",j=function(e){return o},j.$$arity=1),e.defn(ye,"$inspect",L=function(){return this.$to_s()},L.$$arity=0),e.defn(ye,"$instance_of?",z=function(t){var n=this;return t.$$is_class||t.$$is_module||n.$raise(e.const_get(we,"TypeError",!0,!0),"class or module required"),n.$$class===t},z.$$arity=1),e.defn(ye,"$instance_variable_defined?",P=function(t){var n=this;return t=e.Opal["$instance_variable_name!"](t),e.hasOwnProperty.call(n,t.substr(1))},P.$$arity=1),e.defn(ye,"$instance_variable_get",D=function(t){var n=this;t=e.Opal["$instance_variable_name!"](t);var $=n[e.ivar(t.substr(1))];return null==$?o:$},D.$$arity=1),e.defn(ye,"$instance_variable_set",B=function(t,n){var $=this;return t=e.Opal["$instance_variable_name!"](t),$[e.ivar(t.substr(1))]=n},B.$$arity=2),e.defn(ye,"$remove_instance_variable",q=function(t){var n=this;t=e.Opal["$instance_variable_name!"](t);var $,r=e.ivar(t.substr(1));return n.hasOwnProperty(r)?($=n[r],delete n[r],$):n.$raise(e.const_get(we,"NameError",!0,!0),"instance variable "+t+" not defined")},q.$$arity=1),e.defn(ye,"$instance_variables",F=function(){var e,t=this,n=[]
;for(var $ in t)t.hasOwnProperty($)&&"$"!==$.charAt(0)&&(e="$"===$.substr(-1)?$.slice(0,$.length-1):$,n.push("@"+e));return n},F.$$arity=0),e.defn(ye,"$Integer",U=function(t,n){var $,r,i,l=this;return t.$$is_string?"0"===t?0:(void 0===n?n=0:(1===(n=e.Opal.$coerce_to(n,e.Integer,"to_int"))||n<0||n>36)&&l.$raise(e.const_get(we,"ArgumentError",!0,!0),"invalid radix "+n),r=t.toLowerCase(),r=r.replace(/(\d)_(?=\d)/g,"$1"),r=r.replace(/^(\s*[+-]?)(0[bodx]?)/,function($,r,o){switch(o){case"0b":if(0===n||2===n)return n=2,r;case"0":case"0o":if(0===n||8===n)return n=8,r;case"0d":if(0===n||10===n)return n=10,r;case"0x":if(0===n||16===n)return n=16,r}l.$raise(e.const_get(we,"ArgumentError",!0,!0),'invalid value for Integer(): "'+t+'"')}),n=0===n?10:n,i="0-"+(n<=10?n-1:"9a-"+String.fromCharCode(n-11+97)),new RegExp("^\\s*[+-]?["+i+"]+\\s*$").test(r)||l.$raise(e.const_get(we,"ArgumentError",!0,!0),'invalid value for Integer(): "'+t+'"'),$=parseInt(r,n),isNaN($)&&l.$raise(e.const_get(we,"ArgumentError",!0,!0),'invalid value for Integer(): "'+t+'"'),$):(void 0!==n&&l.$raise(e.const_get(we,"ArgumentError",!0,!0),"base specified for non string value"),t===o&&l.$raise(e.const_get(we,"TypeError",!0,!0),"can't convert nil into Integer"),t.$$is_number?((1/0===t||t===-1/0||isNaN(t))&&l.$raise(e.const_get(we,"FloatDomainError",!0,!0),t),Math.floor(t)):t["$respond_to?"]("to_int")&&($=t.$to_int())!==o?$:e.Opal["$coerce_to!"](t,e.Integer,"to_i"))},U.$$arity=-2),e.defn(ye,"$Float",G=function(t){var n,$=this;return t===o&&$.$raise(e.const_get(we,"TypeError",!0,!0),"can't convert nil into Float"),t.$$is_string?(n=t.toString(),n=n.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(n)?$.$Integer(n):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(n)||$.$raise(e.const_get(we,"ArgumentError",!0,!0),'invalid value for Float(): "'+t+'"'),parseFloat(n))):e.Opal["$coerce_to!"](t,e.const_get(we,"Float",!0,!0),"to_f")},G.$$arity=1),e.defn(ye,"$Hash",H=function(t){var n,$;return(n=($=t["$nil?"]())!==!1&&$!==o&&null!=$?$:t["$=="]([]))===o||null==n||n.$$is_boolean&&1!=n?(n=e.const_get(we,"Hash",!0,!0)["$==="](t))===o||null==n||n.$$is_boolean&&1!=n?e.Opal["$coerce_to!"](t,e.const_get(we,"Hash",!0,!0),"to_hash"):t:s([],{})},H.$$arity=1),e.defn(ye,"$is_a?",Y=function(t){var n=this;return t.$$is_class||t.$$is_module||n.$raise(e.const_get(we,"TypeError",!0,!0),"class or module required"),e.is_a(n,t)},Y.$$arity=1),e.alias(ye,"kind_of?","is_a?"),e.defn(ye,"$lambda",K=function(){var e=K.$$p,t=e||o;return e&&(K.$$p=null),t.$$is_lambda=!0,t},K.$$arity=0),e.defn(ye,"$load",W=function(t){return t=e.Opal["$coerce_to!"](t,e.String,"to_str"),e.load(t)},W.$$arity=1),e.defn(ye,"$loop",X=function(){var t,n,$=this,r=X.$$p,i=r||o,l=o;if(r&&(X.$$p=null),i===o)return a($,"enum_for",["loop"],(t=function(){t.$$s;return e.const_get([e.const_get(we,"Float",!0,!0).$$scope],"INFINITY",!0,!0)},t.$$s=$,t.$$arity=0,t));for(;(n=!0)!==o&&null!=n&&(!n.$$is_boolean||1==n);)try{e.yieldX(i,[])}catch(t){if(!e.rescue(t,[e.const_get(we,"StopIteration",!0,!0)]))throw t;l=t;try{return l.$result()}finally{e.pop_exception()}}return $},X.$$arity=0),e.defn(ye,"$nil?",V=function(){return!1},V.$$arity=0),e.alias(ye,"object_id","__id__"),e.defn(ye,"$printf",J=function(n){var $,r,i=this,l=arguments.length,s=l-0;s<0&&(s=0),r=new Array(s);for(var c=0;c<l;c++)r[c-0]=arguments[c];return($=t(r.$length(),0))===o||null==$||$.$$is_boolean&&1!=$||i.$print(a(i,"format",e.to_a(r))),o},J.$$arity=-1),e.defn(ye,"$proc",Z=function(){var t=this,n=Z.$$p,$=n||o;return n&&(Z.$$p=null),$!==!1&&$!==o&&null!=$||t.$raise(e.const_get(we,"ArgumentError",!0,!0),"tried to create Proc object without a block"),$.$$is_lambda=!1,$},Z.$$arity=0),e.defn(ye,"$puts",Q=function(t){var n;null==l.stdout&&(l.stdout=o);var $=arguments.length,r=$-0;r<0&&(r=0),n=new Array(r);for(var i=0;i<$;i++)n[i-0]=arguments[i];return a(l.stdout,"puts",e.to_a(n))},Q.$$arity=-1),e.defn(ye,"$p",ee=function(e){var t,$,r,i=this,s=arguments.length,c=s-0;c<0&&(c=0),r=new Array(c);for(var u=0;u<s;u++)r[u-0]=arguments[u];return a(r,"each",[],(t=function(e){t.$$s;return null==l.stdout&&(l.stdout=o),null==e&&(e=o),l.stdout.$puts(e.$inspect())},t.$$s=i,t.$$arity=1,t)),($=n(r.$length(),1))===o||null==$||$.$$is_boolean&&1!=$?r:r["$[]"](0)},ee.$$arity=-1),e.defn(ye,"$print",te=function(t){var n;null==l.stdout&&(l.stdout=o);var $=arguments.length,r=$-0;r<0&&(r=0),n=new Array(r);for(var i=0;i<$;i++)n[i-0]=arguments[i];return a(l.stdout,"print",e.to_a(n))},te.$$arity=-1),e.defn(ye,"$warn",ne=function(t){var n,$,r;null==l.VERBOSE&&(l.VERBOSE=o),null==l.stderr&&(l.stderr=o);var i=arguments.length,s=i-0;s<0&&(s=0),r=new Array(s);for(var c=0;c<i;c++)r[c-0]=arguments[c];return(n=($=l.VERBOSE["$nil?"]())!==!1&&$!==o&&null!=$?$:r["$empty?"]())===o||null==n||n.$$is_boolean&&1!=n?a(l.stderr,"puts",e.to_a(r)):o},ne.$$arity=-1),e.defn(ye,"$raise",$e=function(t,n,$){if(null==l["!"]&&(l["!"]=o),null==n&&(n=o),null==$&&($=o),null==t&&l["!"]!==o)throw l["!"];throw null==t?t=e.const_get(we,"RuntimeError",!0,!0).$new():t.$$is_string?t=e.const_get(we,"RuntimeError",!0,!0).$new(t):t.$$is_class&&t["$respond_to?"]("exception")?t=t.$exception(n):t["$kind_of?"](e.const_get(we,"Exception",!0,!0))||(t=e.const_get(we,"TypeError",!0,!0).$new("exception class/object expected")),l["!"]!==o&&e.exceptions.push(l["!"]),l["!"]=t,t},$e.$$arity=-1),e.alias(ye,"fail","raise"),e.defn(ye,"$rand",re=function(t){return void 0===t?e.const_get([e.const_get(we,"Random",!0,!0).$$scope],"DEFAULT",!0,!0).$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=void 0)),e.const_get([e.const_get(we,"Random",!0,!0).$$scope],"DEFAULT",!0,!0).$rand(t))},re.$$arity=-1),e.defn(ye,"$respond_to?",oe=function(e,t){var n,$=this;if(null==t&&(t=!1),(n=$["$respond_to_missing?"](e,t))!==o&&null!=n&&(!n.$$is_boolean||1==n))return!0;var r=$["$"+e];return"function"==typeof r&&!r.$$stub},oe.$$arity=-2),e.defn(ye,"$respond_to_missing?",ie=function(e,t){return null==t&&(t=!1),!1},ie.$$arity=-2),e.defn(ye,"$require",le=function(t){return t=e.Opal["$coerce_to!"](t,e.String,"to_str"),e.require(t)},le.$$arity=1),e.defn(ye,"$require_relative",ae=function(t){return e.Opal["$try_convert!"](t,e.String,"to_str"),t=e.const_get(we,"File",!0,!0).$expand_path(e.const_get(we,"File",!0,!0).$join(e.current_file,"..",t)),e.require(t)},ae.$$arity=1),e.defn(ye,"$require_tree",se=function(t){t=e.const_get(we,"File",!0,!0).$expand_path(t),t["$=="](".")&&(t="");for(var n in e.modules)n["$start_with?"](t)&&e.require(n);return o},se.$$arity=1),e.alias(ye,"send","__send__"),e.alias(ye,"public_send","__send__"),e.defn(ye,"$singleton_class",ce=function(){var t=this;return e.get_singleton_class(t)},ce.$$arity=0),e.defn(ye,"$sleep",ue=function(t){var n=this;null==t&&(t=o),t===o&&n.$raise(e.const_get(we,"TypeError",!0,!0),"can't convert NilClass into time interval"),t.$$is_number||n.$raise(e.const_get(we,"TypeError",!0,!0),"can't convert "+t.$class()+" into time interval"),t<0&&n.$raise(e.const_get(we,"ArgumentError",!0,!0),"time interval must be positive");for(var $=new Date;new Date-$<=1e3*t;);return t},ue.$$arity=-1),e.alias(ye,"sprintf","format"),e.defn(ye,"$srand",_e=function(t){return null==t&&(t=e.const_get(we,"Random",!0,!0).$new_seed()),e.const_get(we,"Random",!0,!0).$srand(t)},_e.$$arity=-1),e.defn(ye,"$String",de=function(t){var n;return(n=e.Opal["$coerce_to?"](t,e.String,"to_str"))!==!1&&n!==o&&null!=n?n:e.Opal["$coerce_to!"](t,e.String,"to_s")},de.$$arity=1),e.defn(ye,"$tap",fe=function(){var t=this,n=fe.$$p,$=n||o;return n&&(fe.$$p=null),e.yield1($,t),t},fe.$$arity=0),e.defn(ye,"$to_proc",pe=function(){return this},pe.$$arity=0),e.defn(ye,"$to_s",he=function(){var e=this;return"#<"+e.$class()+":0x"+e.$__id__().$to_s(16)+">"},he.$$arity=0),e.defn(ye,"$catch",ge=function(t){var n=this,$=ge.$$p,r=$||o,i=o;$&&(ge.$$p=null);try{return e.yieldX(r,[])}catch($){if(!e.rescue($,[e.const_get(we,"UncaughtThrowError",!0,!0)]))throw $;i=$;try{return i.$sym()["$=="](t)?i.$arg():n.$raise()}finally{e.pop_exception()}}},ge.$$arity=1),e.defn(ye,"$throw",be=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];return $.$raise(e.const_get(we,"UncaughtThrowError",!0,!0).$new(n))},be.$$arity=-1),e.defn(ye,"$open",me=function(t){var n,$=me.$$p,r=$||o,i=arguments.length,l=i-0;l<0&&(l=0),n=new Array(l);for(var s=0;s<i;s++)n[s-0]=arguments[s];return $&&(me.$$p=null),a(e.const_get(we,"File",!0,!0),"open",e.to_a(n),r.$to_proc())},me.$$arity=-1)}($.base,r),function(t,n,$){function r(){}var o=r=c(t,null,"Object",r),i=(o.$$proto,o.$$scope),l=$.slice().concat(i);return o.$include(e.const_get(l,"Kernel",!0,!0))}($.base,0,r)},Opal.modules["corelib/error"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,e),$=[e],r=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send,l=e.module;return e.add_stubs(["$new","$clone","$to_s","$empty?","$class","$attr_reader","$[]","$>","$length","$inspect"]),function(t,n,$){function l(){}var a,s,c,u,_,d,f,p,h=l=o(t,n,"Exception",l),g=h.$$proto,b=h.$$scope,m=$.slice().concat(b);g.message=r;var y=e.const_get(m,"Kernel",!0,!0).$raise;e.defs(h,"$new",a=function(t){var n,$=this,o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<o;l++)n[l-0]=arguments[l];var a=n.length>0?n[0]:r,s=new $.$$alloc(a);return s.name=$.$$name,s.message=a,e.send(s,s.$initialize,n),Error.captureStackTrace&&Error.captureStackTrace(s,y),s},a.$$arity=-1),e.defs(h,"$exception",s=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var l=0;l<r;l++)n[l-0]=arguments[l];return i($,"new",e.to_a(n))},s.$$arity=-1),e.defn(h,"$initialize",c=function(e){var t,n=this,$=arguments.length,o=$-0;o<0&&(o=0),t=new Array(o);for(var i=0;i<$;i++)t[i-0]=arguments[i];return n.message=t.length>0?t[0]:r},c.$$arity=-1),e.defn(h,"$backtrace",u=function(){var e=this,t=e.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},u.$$arity=0),e.defn(h,"$exception",_=function(e){var t=this;if(null==e&&(e=r),e===r||t===e)return t;var n=t.$clone();return n.message=e,n},_.$$arity=-1),e.defn(h,"$message",d=function(){return this.$to_s()},d.$$arity=0),e.defn(h,"$inspect",f=function(){var e,t=this,n=r;return n=t.$to_s(),(e=n["$empty?"]())===r||null==e||e.$$is_boolean&&1!=e?"#<"+t.$class().$to_s()+": "+t.$to_s()+">":t.$class().$to_s()},f.$$arity=0),e.defn(h,"$to_s",p=function(){var e,t,n=this;return t=n.message,(e=t!==!1&&t!==r&&null!=t?n.message.$to_s():t)!==!1&&e!==r&&null!=e?e:n.$class().$to_s()},p.$$arity=0)}(n.base,Error,$),function(e,t,n){function $(){}var r=$=o(e,t,"ScriptError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"Exception",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"SyntaxError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"ScriptError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"LoadError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"ScriptError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"NotImplementedError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"ScriptError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"SystemExit",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"Exception",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"NoMemoryError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"Exception",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"SignalException",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"Exception",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"Interrupt",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"Exception",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"SecurityError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"Exception",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"StandardError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"Exception",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"ZeroDivisionError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"StandardError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"NameError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"StandardError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"NoMethodError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"NameError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"RuntimeError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"StandardError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"LocalJumpError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"StandardError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"TypeError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"StandardError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"ArgumentError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"StandardError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"IndexError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"StandardError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"StopIteration",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"IndexError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"KeyError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"IndexError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"RangeError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"StandardError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"FloatDomainError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"RangeError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"IOError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"StandardError",!0,!0),$),function(e,t,n){function $(){}var r=$=o(e,t,"SystemCallError",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(n.base,e.const_get($,"StandardError",!0,!0),$),function(t,n){var $,r=$=l(t,"Errno"),a=(r.$$proto,r.$$scope),s=n.slice().concat(a);!function(t,n,$){function r(){}var l,a=r=o(t,n,"EINVAL",r),s=(a.$$proto,a.$$scope);$.slice().concat(s);e.defs(a,"$new",l=function(){var t=this,n=l.$$p;return n&&(l.$$p=null),i(t,e.find_super_dispatcher(t,"new",l,!1,r),["Invalid argument"],null)},l.$$arity=0)}(a.base,e.const_get(s,"SystemCallError",!0,!0),s)}(n.base,$),function(n,$,l){function a(){}var s,c=a=o(n,$,"UncaughtThrowError",a),u=c.$$proto,_=c.$$scope;l.slice().concat(_);u.sym=r,c.$attr_reader("sym","arg"),e.defn(c,"$initialize",s=function(n){var $,o=this,l=s.$$p;return l&&(s.$$p=null),o.sym=n["$[]"](0),($=t(n.$length(),1))===r||null==$||$.$$is_boolean&&1!=$||(o.arg=n["$[]"](1)),i(o,e.find_super_dispatcher(o,"initialize",s,!1),["uncaught throw "+o.sym.$inspect()],null)},s.$$arity=1)}(n.base,e.const_get($,"ArgumentError",!0,!0),$),function(t,n,$){function l(){}var a,s=l=o(t,null,"NameError",l),c=(s.$$proto,s.$$scope);$.slice().concat(c);s.$attr_reader("name"),e.defn(s,"$initialize",a=function(t,n){var $=this,o=a.$$p;return null==n&&(n=r),o&&(a.$$p=null),i($,e.find_super_dispatcher($,"initialize",a,!1),[t],null),$.name=n},a.$$arity=-2)}(n.base,0,$),function(t,n,$){function l(){}var a,s=l=o(t,null,"NoMethodError",l),c=(s.$$proto,s.$$scope);$.slice().concat(c);s.$attr_reader("args"),e.defn(s,"$initialize",a=function(t,n,$){var o=this,l=a.$$p;return null==n&&(n=r),null==$&&($=[]),l&&(a.$$p=null),i(o,e.find_super_dispatcher(o,"initialize",a,!1),[t,n],null),o.args=$},a.$$arity=-2)}(n.base,0,$),function(e,t,n){function $(){}var r=$=o(e,null,"StopIteration",$),i=(r.$$proto,r.$$scope);n.slice().concat(i);r.$attr_reader("result")}(n.base,0,$),function(e,t){var n,$=n=l(e,"JS"),r=($.$$proto,$.$$scope),i=t.slice().concat(r);!function(e,t,n){function $(){}var r=$=o(e,null,"Error",$),i=(r.$$proto,r.$$scope);n.slice().concat(i)}(r.base,0,i)}(n.base,$)},Opal.modules["corelib/constants"]=function(e){var t=(e.top,e),n=[e];e.nil,e.breaker,e.slice;return e.cdecl(t,"RUBY_PLATFORM","opal"),e.cdecl(t,"RUBY_ENGINE","opal"),e.cdecl(t,"RUBY_VERSION","2.3.0"),e.cdecl(t,"RUBY_ENGINE_VERSION","0.11.0.dev"),e.cdecl(t,"RUBY_RELEASE_DATE","2016-10-31"),e.cdecl(t,"RUBY_PATCHLEVEL",0),e.cdecl(t,"RUBY_REVISION",0),e.cdecl(t,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),e.cdecl(t,"RUBY_DESCRIPTION","opal "+e.const_get(n,"RUBY_ENGINE_VERSION",!0,!0)+" ("+e.const_get(n,"RUBY_RELEASE_DATE",!0,!0)+" revision "+e.const_get(n,"RUBY_REVISION",!0,!0)+")")},Opal.modules["opal/base"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("corelib/runtime"),t.$require("corelib/helpers"),t.$require("corelib/module"),t.$require("corelib/class"),t.$require("corelib/basic_object"),t.$require("corelib/kernel"),t.$require("corelib/error"),t.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var n=(e.top,e),$=[e],r=e.nil,o=(e.breaker,e.slice,e.klass);return e.add_stubs(["$raise","$class","$new","$>","$length","$Rational"]),function(n,$,i){function l(){}var a,s,c,u,_,d,f,p,h,g,b,m,y,v,w,k,x,O,E=l=o(n,null,"NilClass",l),A=E.$$proto,S=E.$$scope,R=i.slice().concat(S);A.$$meta=E,e.defn(E,"$!",a=function(){return!0},a.$$arity=0),e.defn(E,"$&",s=function(e){return!1},s.$$arity=1),e.defn(E,"$|",c=function(e){return e!==!1&&e!==r},c.$$arity=1),e.defn(E,"$^",u=function(e){return e!==!1&&e!==r},u.$$arity=1),e.defn(E,"$==",_=function(e){return e===r},_.$$arity=1),e.defn(E,"$dup",d=function(){var t=this;return t.$raise(e.const_get(R,"TypeError",!0,!0),"can't dup "+t.$class())},d.$$arity=0),e.defn(E,"$clone",f=function(){var t=this;return t.$raise(e.const_get(R,"TypeError",!0,!0),"can't clone "+t.$class())},f.$$arity=0),e.defn(E,"$inspect",p=function(){return"nil"},p.$$arity=0),e.defn(E,"$nil?",h=function(){return!0},h.$$arity=0),e.defn(E,"$singleton_class",g=function(){return e.const_get(R,"NilClass",!0,!0)},g.$$arity=0),e.defn(E,"$to_a",b=function(){return[]},b.$$arity=0),e.defn(E,"$to_h",m=function(){return e.hash()},m.$$arity=0),e.defn(E,"$to_i",y=function(){return 0},y.$$arity=0),e.alias(E,"to_f","to_i"),e.defn(E,"$to_s",v=function(){return""},v.$$arity=0),e.defn(E,"$to_c",w=function(){return e.const_get(R,"Complex",!0,!0).$new(0,0)},w.$$arity=0),e.defn(E,"$rationalize",k=function(n){var $,o,i=this,l=arguments.length,a=l-0;a<0&&(a=0),o=new Array(a);for(var s=0;s<l;s++)o[s-0]=arguments[s];return($=t(o.$length(),1))===r||null==$||$.$$is_boolean&&1!=$||i.$raise(e.const_get(R,"ArgumentError",!0,!0)),i.$Rational(0,1)},k.$$arity=-1),e.defn(E,"$to_r",x=function(){return this.$Rational(0,1)},x.$$arity=0),e.defn(E,"$instance_variables",O=function(){return[]},O.$$arity=0)}(n.base,0,$),e.cdecl(n,"NIL",r)},Opal.modules["corelib/boolean"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$raise","$class"]),function(t,n,o){function i(){}var l,a,s,c,u,_,d,f,p,h,g=i=r(t,n,"Boolean",i),b=g.$$proto,m=g.$$scope,y=o.slice().concat(m);b.$$is_boolean=!0,b.$$meta=g,e.defn(g,"$__id__",l=function(){return this.valueOf()?2:0},l.$$arity=0),e.alias(g,"object_id","__id__"),e.defn(g,"$!",a=function(){return 1!=this},a.$$arity=0),e.defn(g,"$&",s=function(e){return 1==this&&e!==!1&&e!==$},s.$$arity=1),e.defn(g,"$|",c=function(e){return 1==this||e!==!1&&e!==$},c.$$arity=1),e.defn(g,"$^",u=function(e){return 1==this?e===!1||e===$:e!==!1&&e!==$},u.$$arity=1),e.defn(g,"$==",_=function(e){return 1==this===e.valueOf()},_.$$arity=1),e.alias(g,"equal?","=="),e.alias(g,"eql?","=="),e.defn(g,"$singleton_class",d=function(){return e.const_get(y,"Boolean",!0,!0)},d.$$arity=0),e.defn(g,"$to_s",f=function(){return 1==this?"true":"false"},f.$$arity=0),e.defn(g,"$dup",p=function(){var t=this;return t.$raise(e.const_get(y,"TypeError",!0,!0),"can't dup "+t.$class())},p.$$arity=0),e.defn(g,"$clone",h=function(){var t=this;return t.$raise(e.const_get(y,"TypeError",!0,!0),"can't clone "+t.$class())},h.$$arity=0)}(t.base,Boolean,n),e.cdecl(t,"TrueClass",e.const_get(n,"Boolean",!0,!0)),e.cdecl(t,"FalseClass",e.const_get(n,"Boolean",!0,!0)),e.cdecl(t,"TRUE",!0),e.cdecl(t,"FALSE",!1)},Opal.modules["corelib/comparable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var $=(e.top,e),r=[e],o=e.nil,i=(e.breaker,e.slice,e.module);return e.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function($,r){var l,a,s,c,u,_,d,f,p=l=i($,"Comparable"),h=(p.$$proto,p.$$scope),g=r.slice().concat(h);e.defs(p,"$normalize",a=function($){var r;return(r=e.Integer["$==="]($))===o||null==r||r.$$is_boolean&&1!=r?(r=t($,0))===o||null==r||r.$$is_boolean&&1!=r?(r=n($,0))===o||null==r||r.$$is_boolean&&1!=r?0:-1:1:$},a.$$arity=1),e.defn(p,"$==",s=function(t){var n,$=this,r=o;try{return!((n=$["$equal?"](t))===o||null==n||n.$$is_boolean&&1!=n)||$["$<=>"]!=e.Kernel["$<=>"]&&($.$$comparable?(delete $.$$comparable,!1):!((n=r=$["$<=>"](t))===o||null==n||n.$$is_boolean&&1!=n)&&0==e.const_get(g,"Comparable",!0,!0).$normalize(r))}catch(t){if(!e.rescue(t,[e.const_get(g,"StandardError",!0,!0)]))throw t;try{return!1}finally{e.pop_exception()}}},s.$$arity=1),e.defn(p,"$>",c=function(t){var n,$=this,r=o;return((n=r=$["$<=>"](t))===o||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(g,"ArgumentError",!0,!0),"comparison of "+$.$class()+" with "+t.$class()+" failed"),e.const_get(g,"Comparable",!0,!0).$normalize(r)>0},c.$$arity=1),e.defn(p,"$>=",u=function(t){var n,$=this,r=o;return((n=r=$["$<=>"](t))===o||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(g,"ArgumentError",!0,!0),"comparison of "+$.$class()+" with "+t.$class()+" failed"),e.const_get(g,"Comparable",!0,!0).$normalize(r)>=0},u.$$arity=1),e.defn(p,"$<",_=function(t){var n,$=this,r=o;return((n=r=$["$<=>"](t))===o||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(g,"ArgumentError",!0,!0),"comparison of "+$.$class()+" with "+t.$class()+" failed"),e.const_get(g,"Comparable",!0,!0).$normalize(r)<0},_.$$arity=1),e.defn(p,"$<=",d=function(t){var n,$=this,r=o;return((n=r=$["$<=>"](t))===o||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(g,"ArgumentError",!0,!0),"comparison of "+$.$class()+" with "+t.$class()+" failed"),e.const_get(g,"Comparable",!0,!0).$normalize(r)<=0},d.$$arity=1),e.defn(p,"$between?",f=function(e,$){var r=this;return!n(r,e)&&!t(r,$)},f.$$arity=2)}($.base,r)},Opal.modules["corelib/regexp"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.klass),o=e.send,i=e.gvars;return e.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function(e,t,n){function $(){}var o=$=r(e,t,"RegexpError",$),i=(o.$$proto,o.$$scope);n.slice().concat(i)}(t.base,e.const_get(n,"StandardError",!0,!0),n),function(t,n,l){function a(){}var s,c,u,_,d,f,p,h,g,b,m=a=r(t,n,"Regexp",a),y=m.$$proto,v=m.$$scope,w=l.slice().concat(v);e.cdecl(v,"IGNORECASE",1),e.cdecl(v,"MULTILINE",4),y.$$is_regexp=!0,function(t,n){var r,l,a,s,c,u=(t.$$proto,t.$$scope,n.slice().concat(t));e.defn(t,"$allocate",r=function(){var t=this,n=r.$$p,i=$,l=$,a=$,s=$;for(n&&(r.$$p=null),a=0,s=arguments.length,l=new Array(s);a<s;a++)l[a]=arguments[a];return i=o(t,e.find_super_dispatcher(t,"allocate",r,!1),l,n),i.uninitialized=!0,i},r.$$arity=0),e.defn(t,"$escape",l=function(t){return e.escape_regexp(t)},l.$$arity=1),e.defn(t,"$last_match",a=function(e){var t;return null==i["~"]&&(i["~"]=$),null==e&&(e=$),(t=e["$nil?"]())===$||null==t||t.$$is_boolean&&1!=t?i["~"]["$[]"](e):i["~"]},a.$$arity=-1),e.alias(t,"quote","escape"),e.defn(t,"$union",s=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];var l,a,s,c,_;if(0==n.length)return/(?!)/;l=n[0].$$is_array,n.length>1&&l&&$.$raise(e.const_get(u,"TypeError",!0,!0),"no implicit conversion of Array into String"),l&&(n=n[0]),c=void 0,a=[];for(var d=0;d<n.length;d++)s=n[d],s.$$is_string?a.push($.$escape(s)):s.$$is_regexp?(_=s.$options(),void 0!=c&&c!=_&&$.$raise(e.const_get(u,"TypeError",!0,!0),"All expressions must use the same options"),c=_,a.push("("+s.source+")")):a.push($.$escape(s.$to_str()));return $.$new(a.$join("|"),c)},s.$$arity=-1),e.defn(t,"$new",c=function(t,n){var $=this;if(t.$$is_regexp)return new RegExp(t);if(t=e.Opal["$coerce_to!"](t,e.String,"to_str"),"\\"===t.charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&$.$raise(e.const_get(u,"RegexpError",!0,!0),"too short escape sequence: /"+t+"/"),void 0===n||n["$!"]())return new RegExp(t);if(n.$$is_number){var r="";e.const_get(u,"IGNORECASE",!0,!0)&n&&(r+="i"),e.const_get(u,"MULTILINE",!0,!0)&n&&(r+="m"),n=r}else n="i";return new RegExp(t,n)},c.$$arity=-2)}(e.get_singleton_class(m),w),e.defn(m,"$==",s=function(e){var t=this;return e.constructor==RegExp&&t.toString()===e.toString()},s.$$arity=1),e.defn(m,"$===",c=function(t){return this.$match(e.Opal["$coerce_to?"](t,e.String,"to_str"))!==$},c.$$arity=1),e.defn(m,"$=~",u=function(e){var t,n=this;return null==i["~"]&&(i["~"]=$),t=n.$match(e),t!==!1&&t!==$&&null!=t?i["~"].$begin(0):t},u.$$arity=1),e.alias(m,"eql?","=="),e.defn(m,"$inspect",_=function(){var e=this,t=/^\/(.*)\/([^\/]*)$/,n=e.toString(),$=t.exec(n);if($){for(var r=$[1],o=$[2],i=r.split(""),l=i.length,a=!1,s="",c=0;c<l;c++){var u=i[c];a||"/"!=u||(s=s.concat("\\")),s=s.concat(u),a="\\"==u&&!a}return"/"+s+"/"+o}return n},_.$$arity=0),e.defn(m,"$match",d=function(t,n){var r=this,o=d.$$p,l=o||$;if(null==i["~"]&&(i["~"]=$),o&&(d.$$p=null),r.uninitialized&&r.$raise(e.const_get(w,"TypeError",!0,!0),"uninitialized Regexp"),n=void 0===n?0:e.Opal.$coerce_to(n,e.Integer,"to_int"),t===$)return i["~"]=$;if(t=e.Opal.$coerce_to(t,e.String,"to_str"),n<0&&(n+=t.length)<0)return i["~"]=$;var a=r.source,s="g";r.multiline&&(a=a.replace(".","[\\s\\S]"),s+="m");for(var c,u=new RegExp(a,s+(r.ignoreCase?"i":""));;){if(null===(c=u.exec(t)))return i["~"]=$;if(c.index>=n)return i["~"]=e.MatchData.$new(u,c),l===$?i["~"]:l.$call(i["~"]);u.lastIndex=c.index+1}},d.$$arity=-2),e.defn(m,"$~",f=function(){var e=this;return null==i._&&(i._=$),e["$=~"](i._)},f.$$arity=0),e.defn(m,"$source",p=function(){return this.source},p.$$arity=0),e.defn(m,"$options",h=function(){var t=this;t.uninitialized&&t.$raise(e.const_get(w,"TypeError",!0,!0),"uninitialized Regexp");var n=0;return t.multiline&&(n|=e.const_get(w,"MULTILINE",!0,!0)),t.ignoreCase&&(n|=e.const_get(w,"IGNORECASE",!0,!0)),n},h.$$arity=0),e.defn(m,"$casefold?",g=function(){return this.ignoreCase},g.$$arity=0),e.alias(m,"to_s","source"),e.defs(m,"$_load",b=function(t){return o(this,"new",e.to_a(t))},b.$$arity=1)}(t.base,RegExp,n),function(t,n,l){function a(){}var s,c,u,_,d,f,p,h,g,b,m,y,v=a=r(t,null,"MatchData",a),w=v.$$proto,k=v.$$scope,x=l.slice().concat(k);return w.matches=$,v.$attr_reader("post_match","pre_match","regexp","string"),e.defn(v,"$initialize",s=function(e,t){var n=this;i["~"]=n,n.regexp=e,n.begin=t.index,n.string=t.input,n.pre_match=t.input.slice(0,t.index),n.post_match=t.input.slice(t.index+t[0].length),n.matches=[];for(var r=0,o=t.length;r<o;r++){var l=t[r];null==l?n.matches.push($):n.matches.push(l)}},s.$$arity=2),e.defn(v,"$[]",c=function(t){var n,$=this,r=arguments.length,i=r-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<r;l++)n[l-0]=arguments[l];return o($.matches,"[]",e.to_a(n))},c.$$arity=-1),e.defn(v,"$offset",u=function(t){var n=this;return 0!==t&&n.$raise(e.const_get(x,"ArgumentError",!0,!0),"MatchData#offset only supports 0th element"),[n.begin,n.begin+n.matches[t].length]},u.$$arity=1),e.defn(v,"$==",_=function(t){var n,r,o,i,l=this;return!((n=e.MatchData["$==="](t))===$||null==n||n.$$is_boolean&&1!=n)&&(i=l.string==t.string,o=i!==!1&&i!==$&&null!=i?l.regexp.toString()==t.regexp.toString():i,r=o!==!1&&o!==$&&null!=o?l.pre_match==t.pre_match:o,n=r!==!1&&r!==$&&null!=r?l.post_match==t.post_match:r,n!==!1&&n!==$&&null!=n?l.begin==t.begin:n)},_.$$arity=1),e.alias(v,"eql?","=="),e.defn(v,"$begin",d=function(t){var n=this;return 0!==t&&n.$raise(e.const_get(x,"ArgumentError",!0,!0),"MatchData#begin only supports 0th element"),n.begin},d.$$arity=1),e.defn(v,"$end",f=function(t){var n=this;return 0!==t&&n.$raise(e.const_get(x,"ArgumentError",!0,!0),"MatchData#end only supports 0th element"),n.begin+n.matches[t].length},f.$$arity=1),e.defn(v,"$captures",p=function(){return this.matches.slice(1)},p.$$arity=0),e.defn(v,"$inspect",h=function(){for(var e=this,t="#<MatchData "+e.matches[0].$inspect(),n=1,$=e.matches.length;n<$;n++)t+=" "+n+":"+e.matches[n].$inspect();return t+">"},h.$$arity=0),e.defn(v,"$length",g=function(){return this.matches.length},g.$$arity=0),e.alias(v,"size","length"),e.defn(v,"$to_a",b=function(){return this.matches},b.$$arity=0),e.defn(v,"$to_s",m=function(){return this.matches[0]},m.$$arity=0),e.defn(v,"$values_at",y=function(t){var n,r=this,o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<o;l++)n[l-0]=arguments[l];var a,s,c,u=[];for(a=0;a<n.length;a++)n[a].$$is_range&&(s=n[a].$to_a(),s.unshift(a,1),Array.prototype.splice.apply(n,s)),c=e.Opal["$coerce_to!"](n[a],e.Integer,"to_int"),c<0&&(c+=r.matches.length)<0?u.push($):u.push(r.matches[c]);return u},y.$$arity=-1),$&&"values_at"}(t.base,0,n)},Opal.modules["corelib/string"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var $=e.top,r=e,o=[e],i=e.nil,l=(e.breaker,e.slice,e.klass),a=e.send,s=e.gvars;return e.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$shift","$__send__","$succ","$escape"]),$.$require("corelib/comparable"),$.$require("corelib/regexp"),function($,r,o){function c(){}function u(t){function n(e,t){if(0===e.length)return t;var n,$,r="",o=e.length;for(n=0;n<o;n++)$=e.charAt(n),t.indexOf($)!==-1&&(r+=$);return r}var $,r,o,i,l,a,s="",c="";for($=0,r=t.length;$<r;$++)o=e.Opal.$coerce_to(t[$],e.String,"to_str"),i="^"===o.charAt(0)&&o.length>1,o=function(t){var n,$,r,o,i,l,a="",s=t.length;for(n=0;n<s;n++)if("-"===($=t.charAt(n))&&n>0&&n<s-1&&!r){for(o=t.charCodeAt(n-1),i=t.charCodeAt(n+1),o>i&&Ee.$raise(e.const_get(Re,"ArgumentError",!0,!0),'invalid range "'+o+"-"+i+'" in string transliteration'),l=o+1;l<i+1;l++)a+=String.fromCharCode(l);r=!0,n++}else r="\\"===$,a+=$;return a}(i?o.slice(1):o),i?c=n(c,o):s=n(s,o);if(s.length>0&&c.length>0){for(a="",$=0,r=s.length;$<r;$++)l=s.charAt($),c.indexOf(l)===-1&&(a+=l);s=a,c=""}return s.length>0?"["+e.const_get(Re,"Regexp",!0,!0).$escape(s)+"]":c.length>0?"[^"+e.const_get(Re,"Regexp",!0,!0).$escape(c)+"]":null}var _,d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,oe,ie,le,ae,se,ce,ue,_e,de,fe,pe,he,ge,be,me,ye,ve,we,ke,xe,Oe,Ee=c=l($,r,"String",c),Ae=Ee.$$proto,Se=Ee.$$scope,Re=o.slice().concat(Se);Ae.length=i,Ee.$include(e.const_get(Re,"Comparable",!0,!0)),Ae.$$is_string=!0,e.defn(Ee,"$__id__",_=function(){return this.toString()},_.$$arity=0),e.alias(Ee,"object_id","__id__"),e.defs(Ee,"$try_convert",d=function(t){return e.Opal["$coerce_to?"](t,e.String,"to_str")},d.$$arity=1),e.defs(Ee,"$new",f=function(t){return null==t&&(t=""),
t=e.Opal.$coerce_to(t,e.String,"to_str"),new String(t)},f.$$arity=-1),e.defn(Ee,"$initialize",p=function(t){var n=this;return void 0===t?n:n.$raise(e.const_get(Re,"NotImplementedError",!0,!0),"Mutable strings are not supported in Opal.")},p.$$arity=-1),e.defn(Ee,"$%",h=function(t){var n,$=this;return(n=e.const_get(Re,"Array",!0,!0)["$==="](t))===i||null==n||n.$$is_boolean&&1!=n?$.$format($,t):a($,"format",[$].concat(e.to_a(t)))},h.$$arity=1),e.defn(Ee,"$*",g=function(t){var n=this;if(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&n.$raise(e.const_get(Re,"ArgumentError",!0,!0),"negative argument"),0===t)return"";var $="",r=n.toString();for(r.length*t>=1<<28&&n.$raise(e.const_get(Re,"RangeError",!0,!0),"multiply count must not overflow maximum string size");1==(1&t)&&($+=r),0!==(t>>>=1);)r+=r;return $},g.$$arity=1),e.defn(Ee,"$+",b=function(t){var n=this;return t=e.Opal.$coerce_to(t,e.String,"to_str"),n+t.$to_s()},b.$$arity=1),e.defn(Ee,"$<=>",m=function(e){var t,n=this;if((t=e["$respond_to?"]("to_str"))===i||null==t||t.$$is_boolean&&1!=t){var $=e["$<=>"](n);return $===i?i:$>0?-1:$<0?1:0}return e=e.$to_str().$to_s(),n>e?1:n<e?-1:0},m.$$arity=1),e.defn(Ee,"$==",y=function(t){var n=this;return t.$$is_string?n.toString()===t.toString():!!e.Opal["$respond_to?"](t,"to_str")&&t["$=="](n)},y.$$arity=1),e.alias(Ee,"eql?","=="),e.alias(Ee,"===","=="),e.defn(Ee,"$=~",v=function(t){var n=this;return t.$$is_string&&n.$raise(e.const_get(Re,"TypeError",!0,!0),"type mismatch: String given"),t["$=~"](n)},v.$$arity=1),e.defn(Ee,"$[]",w=function(t,n){var $,r=this,o=r.length;if(t.$$is_range)return $=t.exclude,n=e.Opal.$coerce_to(t.end,e.Integer,"to_int"),t=e.Opal.$coerce_to(t.begin,e.Integer,"to_int"),Math.abs(t)>o?i:(t<0&&(t+=o),n<0&&(n+=o),$||(n+=1),n-=t,n<0&&(n=0),r.substr(t,n));if(t.$$is_string)return null!=n&&r.$raise(e.const_get(Re,"TypeError",!0,!0)),r.indexOf(t)!==-1?t:i;if(t.$$is_regexp){var l=r.match(t);return null===l?(s["~"]=i,i):(s["~"]=e.MatchData.$new(t,l),null==n?l[0]:(n=e.Opal.$coerce_to(n,e.Integer,"to_int"),n<0&&-n<l.length?l[n+=l.length]:n>=0&&n<l.length?l[n]:i))}return t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&(t+=o),null==n?t>=o||t<0?i:r.substr(t,1):(n=e.Opal.$coerce_to(n,e.Integer,"to_int"),n<0?i:t>o||t<0?i:r.substr(t,n))},w.$$arity=-2),e.alias(Ee,"byteslice","[]"),e.defn(Ee,"$capitalize",k=function(){var e=this;return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},k.$$arity=0),e.defn(Ee,"$casecmp",x=function(t){var n=this;t=e.Opal.$coerce_to(t,e.String,"to_str").$to_s();var $=/^[\x00-\x7F]*$/;return $.test(n)&&$.test(t)&&(n=n.toLowerCase(),t=t.toLowerCase()),n["$<=>"](t)},x.$$arity=1),e.defn(Ee,"$center",O=function($,r){var o,l=this;if(null==r&&(r=" "),$=e.Opal.$coerce_to($,e.Integer,"to_int"),r=e.Opal.$coerce_to(r,e.String,"to_str").$to_s(),(o=r["$empty?"]())===i||null==o||o.$$is_boolean&&1!=o||l.$raise(e.const_get(Re,"ArgumentError",!0,!0),"zero width padding"),(o=$<=l.length)!==i&&null!=o&&(!o.$$is_boolean||1==o))return l;var a=l.$ljust(t(n($,l.length),2).$ceil(),r);return l.$rjust(t(n($,l.length),2).$floor(),r)+a.slice(l.length)},O.$$arity=-2),e.defn(Ee,"$chars",E=function(){var e=this,t=E.$$p,n=t||i;return t&&(E.$$p=null),n===!1||n===i||null==n?e.$each_char().$to_a():a(e,"each_char",[],n.$to_proc())},E.$$arity=0),e.defn(Ee,"$chomp",A=function(t){var n,$=this;if(null==s["/"]&&(s["/"]=i),null==t&&(t=s["/"]),(n=t===i||0===$.length)!==i&&null!=n&&(!n.$$is_boolean||1==n))return $;if("\n"===(t=e.Opal["$coerce_to!"](t,e.String,"to_str").$to_s()))return $.replace(/\r?\n?$/,"");if(""===t)return $.replace(/(\r?\n)+$/,"");if($.length>t.length){if($.substr($.length-t.length,t.length)===t)return $.substr(0,$.length-t.length)}return $},A.$$arity=-1),e.defn(Ee,"$chop",S=function(){var e=this,t=e.length;return t<=1?"":"\n"===e.charAt(t-1)&&"\r"===e.charAt(t-2)?e.substr(0,t-2):e.substr(0,t-1)},S.$$arity=0),e.defn(Ee,"$chr",R=function(){return this.charAt(0)},R.$$arity=0),e.defn(Ee,"$clone",M=function(){var e=this,t=i;return t=e.slice(),t.$copy_singleton_methods(e),t.$initialize_clone(e),t},M.$$arity=0),e.defn(Ee,"$dup",T=function(){var e=this,t=i;return t=e.slice(),t.$initialize_dup(e),t},T.$$arity=0),e.defn(Ee,"$count",I=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];0===n.length&&$.$raise(e.const_get(Re,"ArgumentError",!0,!0),"ArgumentError: wrong number of arguments (0 for 1+)");var l=u(n);return null===l?0:$.length-$.replace(new RegExp(l,"g"),"").length},I.$$arity=-1),e.defn(Ee,"$delete",C=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];0===n.length&&$.$raise(e.const_get(Re,"ArgumentError",!0,!0),"ArgumentError: wrong number of arguments (0 for 1+)");var l=u(n);return null===l?$:$.replace(new RegExp(l,"g"),"")},C.$$arity=-1),e.defn(Ee,"$downcase",N=function(){return this.toLowerCase()},N.$$arity=0),e.defn(Ee,"$each_char",j=function(){var t,n=this,$=j.$$p,r=$||i;if($&&(j.$$p=null),r===i)return a(n,"enum_for",["each_char"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o=0,l=n.length;o<l;o++)e.yield1(r,n.charAt(o));return n},j.$$arity=0),e.defn(Ee,"$each_line",L=function(t){var n=this,$=L.$$p,r=$||i;if(null==s["/"]&&(s["/"]=i),null==t&&(t=s["/"]),$&&(L.$$p=null),r===i)return n.$enum_for("each_line",t);if(t===i)return e.yield1(r,n),n;t=e.Opal.$coerce_to(t,e.String,"to_str");var o,l,a,c,u,_,d;if(0===t.length){for(o=n.split(/(\n{2,})/),l=0,a=o.length;l<a;l+=2)(o[l]||o[l+1])&&e.yield1(r,(o[l]||"")+(o[l+1]||""));return n}for(u=n.$chomp(t),_=n.length!=u.length,d=u.split(t),l=0,c=d.length;l<c;l++)l<c-1||_?e.yield1(r,d[l]+t):e.yield1(r,d[l]);return n},L.$$arity=-1),e.defn(Ee,"$empty?",z=function(){return 0===this.length},z.$$arity=0),e.defn(Ee,"$end_with?",P=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];for(var l=0,a=n.length;l<a;l++){var s=e.Opal.$coerce_to(n[l],e.String,"to_str").$to_s();if($.length>=s.length&&$.substr($.length-s.length,s.length)==s)return!0}return!1},P.$$arity=-1),e.alias(Ee,"eql?","=="),e.alias(Ee,"equal?","==="),e.defn(Ee,"$gsub",D=function(t,n){var $=this,r=D.$$p,o=r||i;if(r&&(D.$$p=null),void 0===n&&o===i)return $.$enum_for("gsub",t);var l,a,c="",u=i,_=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=e.Opal.$coerce_to(t,e.String,"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(l=t.exec($))){s["~"]=i,c+=$.slice(_);break}u=e.MatchData.$new(t,l),void 0===n?a=o(l[0]):n.$$is_hash?a=n["$[]"](l[0]).$to_s():(n.$$is_string||(n=e.Opal.$coerce_to(n,e.String,"to_str")),a=n.replace(/([\\]+)([0-9+&`'])/g,function(e,t,n){if(t.length%2==0)return e;switch(n){case"+":for(var r=l.length-1;r>0;r--)if(void 0!==l[r])return t.slice(1)+l[r];return"";case"&":return t.slice(1)+l[0];case"`":return t.slice(1)+$.slice(0,l.index);case"'":return t.slice(1)+$.slice(l.index+l[0].length);default:return t.slice(1)+(l[n]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===l.index?(c+=a+$.slice(_,l.index+1),t.lastIndex+=1):c+=$.slice(_,l.index)+a,_=t.lastIndex}return s["~"]=u,c},D.$$arity=-2),e.defn(Ee,"$hash",B=function(){return this.toString()},B.$$arity=0),e.defn(Ee,"$hex",q=function(){return this.$to_i(16)},q.$$arity=0),e.defn(Ee,"$include?",F=function(t){var n=this;return t.$$is_string||(t=e.Opal.$coerce_to(t,e.String,"to_str")),n.indexOf(t)!==-1},F.$$arity=1),e.defn(Ee,"$index",U=function(t,n){var $,r,o,l=this;if(void 0===n)n=0;else if((n=e.Opal.$coerce_to(n,e.Integer,"to_int"))<0&&(n+=l.length)<0)return i;if(t.$$is_regexp)for(o=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(r=o.exec(l))){s["~"]=i,$=-1;break}if(r.index>=n){s["~"]=e.MatchData.$new(o,r),$=r.index;break}o.lastIndex=r.index+1}else t=e.Opal.$coerce_to(t,e.String,"to_str"),$=0===t.length&&n>l.length?-1:l.indexOf(t,n);return $===-1?i:$},U.$$arity=-2),e.defn(Ee,"$inspect",G=function(){var e=this,t={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+e.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(e){return t[e]||"\\u"+("0000"+e.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},G.$$arity=0),e.defn(Ee,"$intern",H=function(){return this},H.$$arity=0),e.defn(Ee,"$lines",Y=function(e){var t=this,n=Y.$$p,$=n||i,r=i;return null==s["/"]&&(s["/"]=i),null==e&&(e=s["/"]),n&&(Y.$$p=null),r=a(t,"each_line",[e],$.$to_proc()),$!==!1&&$!==i&&null!=$?t:r.$to_a()},Y.$$arity=-1),e.defn(Ee,"$length",K=function(){return this.length},K.$$arity=0),e.defn(Ee,"$ljust",W=function(t,n){var $,r=this;if(null==n&&(n=" "),t=e.Opal.$coerce_to(t,e.Integer,"to_int"),n=e.Opal.$coerce_to(n,e.String,"to_str").$to_s(),($=n["$empty?"]())===i||null==$||$.$$is_boolean&&1!=$||r.$raise(e.const_get(Re,"ArgumentError",!0,!0),"zero width padding"),($=t<=r.length)!==i&&null!=$&&(!$.$$is_boolean||1==$))return r;var o=-1,l="";for(t-=r.length;++o<t;)l+=n;return r+l.slice(0,t)},W.$$arity=-2),e.defn(Ee,"$lstrip",X=function(){return this.replace(/^\s*/,"")},X.$$arity=0),e.defn(Ee,"$ascii_only?",V=function(){var e=this;return e.match(/[ -~\n]*/)[0]===e},V.$$arity=0),e.defn(Ee,"$match",J=function(t,n){var $,r,o=this,l=J.$$p,s=l||i;return l&&(J.$$p=null),($=(r=e.String["$==="](t))!==!1&&r!==i&&null!=r?r:t["$respond_to?"]("to_str"))===i||null==$||$.$$is_boolean&&1!=$||(t=e.const_get(Re,"Regexp",!0,!0).$new(t.$to_str())),(($=e.const_get(Re,"Regexp",!0,!0)["$==="](t))===i||null==$||$.$$is_boolean&&1!=$)&&o.$raise(e.const_get(Re,"TypeError",!0,!0),"wrong argument type "+t.$class()+" (expected Regexp)"),a(t,"match",[o,n],s.$to_proc())},J.$$arity=-2),e.defn(Ee,"$next",Z=function(){var e=this,t=e.length;if(0===t)return"";for(var n,$=e,r=e.search(/[a-zA-Z0-9]/),o=!1;t--;){if((n=e.charCodeAt(t))>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)switch(n){case 57:o=!0,n=48;break;case 90:o=!0,n=65;break;case 122:o=!0,n=97;break;default:o=!1,n+=1}else r===-1?255===n?(o=!0,n=0):(o=!1,n+=1):o=!0;if($=$.slice(0,t)+String.fromCharCode(n)+$.slice(t+1),o&&(0===t||t===r)){switch(n){case 65:case 97:break;default:n+=1}$=0===t?String.fromCharCode(n)+$:$.slice(0,t)+String.fromCharCode(n)+$.slice(t),o=!1}if(!o)break}return $},Z.$$arity=0),e.defn(Ee,"$oct",Q=function(){var e,t=this,n=t,$=8;return/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(e,t,n,r){switch(r.charAt(0)){case"+":case"-":return e;case"0":if("x"===r.charAt(1)&&"0x"===n)return e}switch(n){case"0b":$=2;break;case"0":case"0o":$=8;break;case"0d":$=10;break;case"0x":$=16}return t+r}),e=parseInt(n.replace(/_(?!_)/g,""),$),isNaN(e)?0:e)},Q.$$arity=0),e.defn(Ee,"$ord",ee=function(){return this.charCodeAt(0)},ee.$$arity=0),e.defn(Ee,"$partition",te=function(t){var n,$,r=this;return t.$$is_regexp?($=t.exec(r),null===$?n=-1:(e.MatchData.$new(t,$),t=$[0],n=$.index)):(t=e.Opal.$coerce_to(t,e.String,"to_str"),n=r.indexOf(t)),n===-1?[r,"",""]:[r.slice(0,n),r.slice(n,n+t.length),r.slice(n+t.length)]},te.$$arity=1),e.defn(Ee,"$reverse",ne=function(){return this.split("").reverse().join("")},ne.$$arity=0),e.defn(Ee,"$rindex",$e=function(t,n){var $,r,o,l,a=this;if(void 0===n)n=a.length;else if((n=e.Opal.$coerce_to(n,e.Integer,"to_int"))<0&&(n+=a.length)<0)return i;if(t.$$is_regexp){for(r=null,o=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(l=o.exec(a))||l.index>n)break;r=l,o.lastIndex=r.index+1}null===r?(s["~"]=i,$=-1):(e.MatchData.$new(o,r),$=r.index)}else t=e.Opal.$coerce_to(t,e.String,"to_str"),$=a.lastIndexOf(t,n);return $===-1?i:$},$e.$$arity=-2),e.defn(Ee,"$rjust",re=function(t,n){var $,r=this;if(null==n&&(n=" "),t=e.Opal.$coerce_to(t,e.Integer,"to_int"),n=e.Opal.$coerce_to(n,e.String,"to_str").$to_s(),($=n["$empty?"]())===i||null==$||$.$$is_boolean&&1!=$||r.$raise(e.const_get(Re,"ArgumentError",!0,!0),"zero width padding"),($=t<=r.length)!==i&&null!=$&&(!$.$$is_boolean||1==$))return r;var o=Math.floor(t-r.length),l=Math.floor(o/n.length),a=Array(l+1).join(n),s=o-a.length;return a+n.slice(0,s)+r},re.$$arity=-2),e.defn(Ee,"$rpartition",oe=function(t){var n,$,r,o,i=this;if(t.$$is_regexp){for($=null,r=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===(o=r.exec(i)))break;$=o,r.lastIndex=$.index+1}null===$?n=-1:(e.MatchData.$new(r,$),t=$[0],n=$.index)}else t=e.Opal.$coerce_to(t,e.String,"to_str"),n=i.lastIndexOf(t);return n===-1?["","",i]:[i.slice(0,n),i.slice(n,n+t.length),i.slice(n+t.length)]},oe.$$arity=1),e.defn(Ee,"$rstrip",ie=function(){return this.replace(/[\s\u0000]*$/,"")},ie.$$arity=0),e.defn(Ee,"$scan",le=function(t){var n=this,$=le.$$p,r=$||i;$&&(le.$$p=null);var o,l=[],a=i;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=e.Opal.$coerce_to(t,e.String,"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(o=t.exec(n));)a=e.MatchData.$new(t,o),r===i?1==o.length?l.push(o[0]):l.push(a.$captures()):1==o.length?r(o[0]):r.call(n,a.$captures()),t.lastIndex===o.index&&(t.lastIndex+=1);return s["~"]=a,r!==i?n:l},le.$$arity=1),e.alias(Ee,"size","length"),e.alias(Ee,"slice","[]"),e.defn(Ee,"$split",ae=function(t,n){var $,r=this;if(null==s[";"]&&(s[";"]=i),0===r.length)return[];if(void 0===n)n=0;else if(1===(n=e.Opal["$coerce_to!"](n,e.Integer,"to_int")))return[r];void 0!==t&&t!==i||(t=($=s[";"])!==!1&&$!==i&&null!=$?$:" ");var o,l,a=[],c=r.toString(),u=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=e.Opal.$coerce_to(t,e.String,"to_str").$to_s()," "===t?(t=/\s+/gm,c=c.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),a=c.split(t),1===a.length&&a[0]===c)return a;for(;(l=a.indexOf(void 0))!==-1;)a.splice(l,1);if(0===n){for(;""===a[a.length-1];)a.length-=1;return a}if(o=t.exec(c),n<0){if(null!==o&&""===o[0]&&t.source.indexOf("(?=")===-1)for(l=0;l<o.length;l++)a.push("");return a}if(null!==o&&""===o[0])return a.splice(n-1,a.length-1,a.slice(n-1).join("")),a;if(n>=a.length)return a;for(l=0;null!==o&&(l++,u=t.lastIndex,l+1!==n);)o=t.exec(c);return a.splice(n-1,a.length-1,c.slice(u)),a},ae.$$arity=-1),e.defn(Ee,"$squeeze",se=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];if(0===t.length)return n.replace(/(.)\1+/g,"$1");var i=u(t);return null===i?n:n.replace(new RegExp("("+i+")\\1+","g"),"$1")},se.$$arity=-1),e.defn(Ee,"$start_with?",ce=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];for(var l=0,a=n.length;l<a;l++){var s=e.Opal.$coerce_to(n[l],e.String,"to_str").$to_s();if(0===$.indexOf(s))return!0}return!1},ce.$$arity=-1),e.defn(Ee,"$strip",ue=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},ue.$$arity=0),e.defn(Ee,"$sub",_e=function(t,n){var $=this,r=_e.$$p,o=r||i;r&&(_e.$$p=null),t.$$is_regexp||(t=e.Opal.$coerce_to(t,e.String,"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var l=t.exec($);return null===l?(s["~"]=i,$.toString()):(e.MatchData.$new(t,l),void 0===n?(o===i&&$.$raise(e.const_get(Re,"ArgumentError",!0,!0),"wrong number of arguments (1 for 2)"),$.slice(0,l.index)+o(l[0])+$.slice(l.index+l[0].length)):n.$$is_hash?$.slice(0,l.index)+n["$[]"](l[0]).$to_s()+$.slice(l.index+l[0].length):(n=e.Opal.$coerce_to(n,e.String,"to_str"),n=n.replace(/([\\]+)([0-9+&`'])/g,function(e,t,n){if(t.length%2==0)return e;switch(n){case"+":for(var r=l.length-1;r>0;r--)if(void 0!==l[r])return t.slice(1)+l[r];return"";case"&":return t.slice(1)+l[0];case"`":return t.slice(1)+$.slice(0,l.index);case"'":return t.slice(1)+$.slice(l.index+l[0].length);default:return t.slice(1)+(l[n]||"")}}).replace(/\\\\/g,"\\"),$.slice(0,l.index)+n+$.slice(l.index+l[0].length)))},_e.$$arity=-2),e.alias(Ee,"succ","next"),e.defn(Ee,"$sum",de=function(t){var n=this;null==t&&(t=16),t=e.Opal.$coerce_to(t,e.Integer,"to_int");for(var $=0,r=n.length,o=0;o<r;o++)$+=n.charCodeAt(o);return t<=0?$:$&Math.pow(2,t)-1},de.$$arity=-1),e.defn(Ee,"$swapcase",fe=function(){var e=this,t=e.replace(/([a-z]+)|([A-Z]+)/g,function(e,t,n){return t?e.toUpperCase():e.toLowerCase()});return e.constructor===String?t:e.$class().$new(t)},fe.$$arity=0),e.defn(Ee,"$to_f",pe=function(){var e=this;if("_"===e.charAt(0))return 0;var t=parseFloat(e.replace(/_/g,""));return isNaN(t)||1/0==t||t==-1/0?0:t},pe.$$arity=0),e.defn(Ee,"$to_i",he=function(t){var n=this;null==t&&(t=10);var $,r=n.toLowerCase(),o=e.Opal.$coerce_to(t,e.Integer,"to_int");return(1===o||o<0||o>36)&&n.$raise(e.const_get(Re,"ArgumentError",!0,!0),"invalid radix "+o),/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(e,t,n,$){switch($.charAt(0)){case"+":case"-":return e;case"0":if("x"===$.charAt(1)&&"0x"===n&&(0===o||16===o))return e}switch(n){case"0b":if(0===o||2===o)return o=2,t+$;break;case"0":case"0o":if(0===o||8===o)return o=8,t+$;break;case"0d":if(0===o||10===o)return o=10,t+$;break;case"0x":if(0===o||16===o)return o=16,t+$}return e}),$=parseInt(r.replace(/_(?!_)/g,""),o),isNaN($)?0:$)},he.$$arity=-1),e.defn(Ee,"$to_proc",ge=function(){var t,n=this,$=i;return $=n,a(n,"proc",[],(t=function(n){var r,o,l,s=t.$$s||this,c=i;(r=t.$$p||i)&&(t.$$p=null);var u=arguments.length,_=u-0;_<0&&(_=0),o=new Array(_);for(var d=0;d<u;d++)o[d-0]=arguments[d];return(l=o["$empty?"]())===i||null==l||l.$$is_boolean&&1!=l||s.$raise(e.const_get(Re,"ArgumentError",!0,!0),"no receiver given"),c=o.$shift(),a(c,"__send__",[$].concat(e.to_a(o)),r.$to_proc())},t.$$s=n,t.$$arity=-1,t))},ge.$$arity=0),e.defn(Ee,"$to_s",be=function(){return this.toString()},be.$$arity=0),e.alias(Ee,"to_str","to_s"),e.alias(Ee,"to_sym","intern"),e.defn(Ee,"$tr",me=function(t,n){var $=this;if(t=e.Opal.$coerce_to(t,e.String,"to_str").$to_s(),n=e.Opal.$coerce_to(n,e.String,"to_str").$to_s(),0==t.length||t===n)return $;var r,o,i,l,a,s,c,u={},_=t.split(""),d=_.length,f=n.split(""),p=f.length,h=!1,g=null;"^"===_[0]&&_.length>1&&(h=!0,_.shift(),g=f[p-1],d-=1);var b=[],m=null;for(o=!1,r=0;r<d;r++)if(l=_[r],null==m)m=l,b.push(l);else if("-"===l)"-"===m?(b.push("-"),b.push("-")):r==d-1?b.push("-"):o=!0;else if(o){for(a=m.charCodeAt(0),s=l.charCodeAt(0),a>s&&$.$raise(e.const_get(Re,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)b.push(String.fromCharCode(i));b.push(l),o=null,m=null}else b.push(l);if(_=b,d=_.length,h)for(r=0;r<d;r++)u[_[r]]=!0;else{if(p>0){var y=[],v=null;for(o=!1,r=0;r<p;r++)if(l=f[r],null==v)v=l,y.push(l);else if("-"===l)"-"===v?(y.push("-"),y.push("-")):r==p-1?y.push("-"):o=!0;else if(o){for(a=v.charCodeAt(0),s=l.charCodeAt(0),a>s&&$.$raise(e.const_get(Re,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)y.push(String.fromCharCode(i));y.push(l),o=null,v=null}else y.push(l);f=y,p=f.length}var w=d-p;if(w>0){var k=p>0?f[p-1]:"";for(r=0;r<w;r++)f.push(k)}for(r=0;r<d;r++)u[_[r]]=f[r]}var x="";for(r=0,c=$.length;r<c;r++){l=$.charAt(r);var O=u[l];x+=h?null==O?g:l:null!=O?O:l}return x},me.$$arity=2),e.defn(Ee,"$tr_s",ye=function(t,n){var $=this;if(t=e.Opal.$coerce_to(t,e.String,"to_str").$to_s(),n=e.Opal.$coerce_to(n,e.String,"to_str").$to_s(),0==t.length)return $;var r,o,i,l,a,s,c,u={},_=t.split(""),d=_.length,f=n.split(""),p=f.length,h=!1,g=null;"^"===_[0]&&_.length>1&&(h=!0,_.shift(),g=f[p-1],d-=1);var b=[],m=null;for(o=!1,r=0;r<d;r++)if(l=_[r],null==m)m=l,b.push(l);else if("-"===l)"-"===m?(b.push("-"),b.push("-")):r==d-1?b.push("-"):o=!0;else if(o){for(a=m.charCodeAt(0),s=l.charCodeAt(0),a>s&&$.$raise(e.const_get(Re,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)b.push(String.fromCharCode(i));b.push(l),o=null,m=null}else b.push(l);if(_=b,d=_.length,h)for(r=0;r<d;r++)u[_[r]]=!0;else{if(p>0){var y=[];for(o=!1,r=0;r<p;r++)if(l=f[r],null==m)m=l,y.push(l);else if("-"===l)r==p-1?y.push("-"):o=!0;else if(o){for(a=m.charCodeAt(0),s=l.charCodeAt(0),a>s&&$.$raise(e.const_get(Re,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)y.push(String.fromCharCode(i));y.push(l),o=null,m=null}else y.push(l);f=y,p=f.length}var v=d-p;if(v>0){var w=p>0?f[p-1]:"";for(r=0;r<v;r++)f.push(w)}for(r=0;r<d;r++)u[_[r]]=f[r]}var k="",x=null;for(r=0,c=$.length;r<c;r++){l=$.charAt(r);var O=u[l];h?null==O?null==x&&(k+=g,x=!0):(k+=l,x=null):null!=O?null!=x&&x===O||(k+=O,x=O):(k+=l,x=null)}return k},ye.$$arity=2),e.defn(Ee,"$upcase",ve=function(){return this.toUpperCase()},ve.$$arity=0),e.defn(Ee,"$upto",we=function(t,n){var $=this,r=we.$$p,o=r||i;if(null==n&&(n=!1),r&&(we.$$p=null),o===i)return $.$enum_for("upto",t,n);t=e.Opal.$coerce_to(t,e.String,"to_str");var l,a,s=$.toString();if(1===s.length&&1===t.length)for(l=s.charCodeAt(0),a=t.charCodeAt(0);l<=a&&(!n||l!==a);)o(String.fromCharCode(l)),l+=1;else if(parseInt(s,10).toString()===s&&parseInt(t,10).toString()===t)for(l=parseInt(s,10),a=parseInt(t,10);l<=a&&(!n||l!==a);)o(l.toString()),l+=1;else for(;s.length<=t.length&&s<=t&&(!n||s!==t);)o(s),s=s.$succ();return $},we.$$arity=-2),e.defn(Ee,"$instance_variables",ke=function(){return[]},ke.$$arity=0),e.defs(Ee,"$_load",xe=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];return a($,"new",e.to_a(n))},xe.$$arity=-1),e.defn(Ee,"$unpack",Oe=function(t){function n(e){var t,n,$=e.length,r=[];for(t=0;t<$;t++)n=e.charCodeAt(t),r.push(n);return r}var $=this,r=i;return function(){return r=t,"U*"["$==="](r)||"C*"["$==="](r)?n($):$.$raise(e.const_get(Re,"NotImplementedError",!0,!0))}()},Oe.$$arity=1)}(r.base,String,o),e.cdecl(r,"Symbol",e.String)},Opal.modules["corelib/enumerable"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var l=(e.top,e),a=[e],s=e.nil,c=(e.breaker,e.slice,e.module),u=e.send;return e.add_stubs(["$each","$destructure","$raise","$new","$yield","$slice_when","$!","$enum_for","$enumerator_size","$flatten","$map","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$to_enum","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$lambda","$sort!","$map!","$zip"]),function(l,a){var _,d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,oe=_=c(l,"Enumerable"),ie=(oe.$$proto,oe.$$scope),le=a.slice().concat(ie);e.defn(oe,"$all?",d=function(){try{var t,n,$=this,r=d.$$p,o=r||s;return r&&(d.$$p=null),o!==s?u($,"each",[],(t=function(n){var $,r,i=(t.$$s,arguments.length),l=i-0;l<0&&(l=0),$=new Array(l);for(var a=0;a<i;a++)$[a-0]=arguments[a];if(!((r=e.yieldX(o,e.to_a($)))===s||null==r||r.$$is_boolean&&1!=r))return s;e.ret(!1)},t.$$s=$,t.$$arity=-1,t)):u($,"each",[],(n=function(t){var $,r,o=(n.$$s,arguments.length),i=o-0;i<0&&(i=0),$=new Array(i);for(var l=0;l<o;l++)$[l-0]=arguments[l];if(!((r=e.Opal.$destructure($))===s||null==r||r.$$is_boolean&&1!=r))return s;e.ret(!1)},n.$$s=$,n.$$arity=-1,n)),!0}catch(t){if(t===e.returner)return t.$v;throw t}},d.$$arity=0),e.defn(oe,"$any?",f=function(){try{var t,n,$=this,r=f.$$p,o=r||s;return r&&(f.$$p=null),o!==s?u($,"each",[],(t=function(n){var $,r,i=(t.$$s,arguments.length),l=i-0;l<0&&(l=0),$=new Array(l);for(var a=0;a<i;a++)$[a-0]=arguments[a];if((r=e.yieldX(o,e.to_a($)))===s||null==r||r.$$is_boolean&&1!=r)return s;e.ret(!0)},t.$$s=$,t.$$arity=-1,t)):u($,"each",[],(n=function(t){var $,r,o=(n.$$s,arguments.length),i=o-0;i<0&&(i=0),$=new Array(i);for(var l=0;l<o;l++)$[l-0]=arguments[l];if((r=e.Opal.$destructure($))===s||null==r||r.$$is_boolean&&1!=r)return s;e.ret(!0)},n.$$s=$,n.$$arity=-1,n)),!1}catch(t){if(t===e.returner)return t.$v;throw t}},f.$$arity=0),e.defn(oe,"$chunk",p=function(){var t,n=this,$=p.$$p,r=$||s;return $&&(p.$$p=null),r!==s||e.const_get(le,"Kernel",!0,!0).$raise(e.const_get(le,"ArgumentError",!0,!0),"no block given"),u(e.const_get([e.Object.$$scope],"Enumerator",!0,!0),"new",[],(t=function(n){function $(){l.length>0&&n.$yield(i,l)}var o=t.$$s||this;null==n&&(n=s);var i=s,l=[];o.$each.$$p=function(t){var n=e.yield1(r,t);n===s?($(),l=[],i=s):(i===s||i===n?l.push(t):($(),l=[t]),i=n)},o.$each(),$()},t.$$s=n,t.$$arity=1,t))},p.$$arity=0),e.defn(oe,"$chunk_while",h=function(){var t,n=this,$=h.$$p,r=$||s;return $&&(h.$$p=null),r!==s||n.$raise(e.const_get(le,"ArgumentError",!0,!0),"no block given"),u(n,"slice_when",[],(t=function(n,$){t.$$s;return null==n&&(n=s),null==$&&($=s),e.yieldX(r,[n,$])["$!"]()},t.$$s=n,t.$$arity=2,t))},h.$$arity=0),e.defn(oe,"$collect",g=function(){var t,n=this,$=g.$$p,r=$||s;if($&&(g.$$p=null),r===s)return u(n,"enum_for",["collect"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=n,t.$$arity=0,t));var o=[];return n.$each.$$p=function(){var t=e.yieldX(r,arguments);o.push(t)},n.$each(),o},g.$$arity=0),e.defn(oe,"$collect_concat",b=function(){var t,n,$=this,r=b.$$p,o=r||s;return r&&(b.$$p=null),o===s?u($,"enum_for",["collect_concat"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=$,t.$$arity=0,t)):u($,"map",[],(n=function(t){n.$$s;return null==t&&(t=s),e.yield1(o,t)},n.$$s=$,n.$$arity=1,n)).$flatten(1)},b.$$arity=0),e.defn(oe,"$count",m=function(t){var n,$,r,o,i=this,l=m.$$p,a=l||s,c=s;return l&&(m.$$p=null),c=0,(n=null!=t)===s||null==n||n.$$is_boolean&&1!=n?(n=a["$nil?"]())===s||null==n||n.$$is_boolean&&1!=n||(a=u(i,"proc",[],(r=function(){r.$$s;return!0},r.$$s=i,r.$$arity=0,r))):a=u(i,"proc",[],($=function(n){var r,o=($.$$s,arguments.length),i=o-0;i<0&&(i=0),r=new Array(i);for(var l=0;l<o;l++)r[l-0]=arguments[l];return e.Opal.$destructure(r)["$=="](t)},$.$$s=i,$.$$arity=-1,$)),u(i,"each",[],(o=function(t){var n,$,r=(o.$$s,arguments.length),i=r-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<r;l++)n[l-0]=arguments[l];return($=e.yieldX(a,n))===s||null==$||$.$$is_boolean&&1!=$?s:c++},o.$$s=i,o.$$arity=-1,o)),c},m.$$arity=-1),e.defn(oe,"$cycle",y=function($){var r,o,i=this,l=y.$$p,a=l||s;if(null==$&&($=s),l&&(y.$$p=null),a===s)return u(i,"enum_for",["cycle",$],(r=function(){var o,i=r.$$s||this;return $["$=="](s)?(o=i["$respond_to?"]("size"))===s||null==o||o.$$is_boolean&&1!=o?s:e.const_get([e.const_get(le,"Float",!0,!0).$$scope],"INFINITY",!0,!0):($=e.Opal["$coerce_to!"]($,e.Integer,"to_int"),(o=t($,0))===s||null==o||o.$$is_boolean&&1!=o?0:n(i.$enumerator_size(),$))},r.$$s=i,r.$$arity=0,r));if((o=$["$nil?"]())===s||null==o||o.$$is_boolean&&1!=o){if($=e.Opal["$coerce_to!"]($,e.Integer,"to_int"),(o=$<=0)!==s&&null!=o&&(!o.$$is_boolean||1==o))return s}else;var c,_,d=[];if(i.$each.$$p=function(){var t=e.Opal.$destructure(arguments);e.yield1(a,t);d.push(t)},i.$each(),0===d.length)return s;if($===s)for(;;)for(c=0,_=d.length;c<_;c++)e.yield1(a,d[c]);else for(;$>1;){for(c=0,_=d.length;c<_;c++)e.yield1(a,d[c]);$--}},y.$$arity=-1),e.defn(oe,"$detect",v=function(t){try{var n,$=this,r=v.$$p,o=r||s;return r&&(v.$$p=null),o===s?$.$enum_for("detect",t):(u($,"each",[],(n=function(t){var $,r,i=(n.$$s,s),l=arguments.length,a=l-0;a<0&&(a=0),$=new Array(a);for(var c=0;c<l;c++)$[c-0]=arguments[c];if(i=e.Opal.$destructure($),(r=e.yield1(o,i))===s||null==r||r.$$is_boolean&&1!=r)return s;e.ret(i)},n.$$s=$,n.$$arity=-1,n)),void 0!==t?"function"==typeof t?t():t:s)}catch(t){if(t===e.returner)return t.$v;throw t}},v.$$arity=-1),e.defn(oe,"$drop",w=function(t){var n,$=this;t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<0)===s||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(le,"ArgumentError",!0,!0),"attempt to drop negative size");var r=[],o=0;return $.$each.$$p=function(){t<=o&&r.push(e.Opal.$destructure(arguments)),o++},$.$each(),r},w.$$arity=1),e.defn(oe,"$drop_while",k=function(){var t,n=this,$=k.$$p,r=$||s;if($&&(k.$$p=null),r===s)return n.$enum_for("drop_while");var o=[],i=!0;return n.$each.$$p=function(){var n=e.Opal.$destructure(arguments);if(i){var $=e.yield1(r,n);((t=$)===s||null==t||t.$$is_boolean&&0==t)&&(i=!1,o.push(n))}else o.push(n)},n.$each(),o},k.$$arity=0),e.defn(oe,"$each_cons",x=function(t){var n,i,l=this,a=x.$$p,c=a||s;if(a&&(x.$$p=null),(n=1!=arguments.length)===s||null==n||n.$$is_boolean&&1!=n||l.$raise(e.const_get(le,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 1)"),t=e.Opal.$try_convert(t,e.Integer,"to_int"),(n=t<=0)===s||null==n||n.$$is_boolean&&1!=n||l.$raise(e.const_get(le,"ArgumentError",!0,!0),"invalid size"),c===s)return u(l,"enum_for",["each_cons",t],(i=function(){var e,n,l=i.$$s||this,a=s;return a=l.$enumerator_size(),(e=a["$nil?"]())===s||null==e||e.$$is_boolean&&1!=e?(e=(n=a["$=="](0))!==!1&&n!==s&&null!=n?n:$(a,t))===s||null==e||e.$$is_boolean&&1!=e?r(o(a,t),1):0:s},i.$$s=l,i.$$arity=0,i));var _=[],d=s;return l.$each.$$p=function(){var n=e.Opal.$destructure(arguments);_.push(n),_.length>t&&_.shift(),_.length==t&&e.yield1(c,_.slice(0,t))},l.$each(),d},x.$$arity=1),e.defn(oe,"$each_entry",O=function(t){var n,$,r=this,o=O.$$p,i=o||s,l=arguments.length,a=l-0;a<0&&(a=0),$=new Array(a);for(var c=0;c<l;c++)$[c-0]=arguments[c];return o&&(O.$$p=null),i===s?u(r,"to_enum",["each_entry"].concat(e.to_a($)),(n=function(){return(n.$$s||this).$enumerator_size()},n.$$s=r,n.$$arity=0,n)):(r.$each.$$p=function(){var t=e.Opal.$destructure(arguments);e.yield1(i,t)},r.$each.apply(r,$),r)},O.$$arity=-1),e.defn(oe,"$each_slice",E=function(t){var n,$,r=this,o=E.$$p,l=o||s;if(o&&(E.$$p=null),t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<=0)===s||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(le,"ArgumentError",!0,!0),"invalid slice size"),l===s)return u(r,"enum_for",["each_slice",t],($=function(){var e,n=$.$$s||this;return(e=n["$respond_to?"]("size"))===s||null==e||e.$$is_boolean&&1!=e?s:i(n.$size(),t).$ceil()},$.$$s=r,$.$$arity=0,$));var a=[];return r.$each.$$p=function(){var n=e.Opal.$destructure(arguments);a.push(n),a.length===t&&(e.yield1(l,a),a=[])},r.$each(),a.length>0&&e.yield1(l,a),s},E.$$arity=1),e.defn(oe,"$each_with_index",A=function(t){var n,$,r=this,o=A.$$p,i=o||s,l=arguments.length,a=l-0;a<0&&(a=0),$=new Array(a);for(var c=0;c<l;c++)$[c-0]=arguments[c];if(o&&(A.$$p=null),i===s)return u(r,"enum_for",["each_with_index"].concat(e.to_a($)),(n=function(){return(n.$$s||this).$enumerator_size()},n.$$s=r,n.$$arity=0,n));var _=0;return r.$each.$$p=function(){var t=e.Opal.$destructure(arguments);i(t,_),_++},r.$each.apply(r,$),r},A.$$arity=-1),e.defn(oe,"$each_with_object",S=function(t){var n,$=this,r=S.$$p,o=r||s;if(r&&(S.$$p=null),o===s)return u($,"enum_for",["each_with_object",t],(n=function(){return(n.$$s||this).$enumerator_size()},n.$$s=$,n.$$arity=0,n));return $.$each.$$p=function(){var n=e.Opal.$destructure(arguments);o(n,t)},$.$each(),t},S.$$arity=1),e.defn(oe,"$entries",R=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];var l=[];return $.$each.$$p=function(){l.push(e.Opal.$destructure(arguments))},$.$each.apply($,n),l},R.$$arity=-1),e.alias(oe,"find","detect"),e.defn(oe,"$find_all",M=function(){var t,n,$=this,r=M.$$p,o=r||s;if(r&&(M.$$p=null),o===s)return u($,"enum_for",["find_all"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=$,t.$$arity=0,t));var i=[];return $.$each.$$p=function(){var t=e.Opal.$destructure(arguments),$=e.yield1(o,t);(n=$)===s||null==n||n.$$is_boolean&&1!=n||i.push(t)},$.$each(),i},M.$$arity=0),
e.defn(oe,"$find_index",T=function(t){try{var n,$,r,o=this,i=T.$$p,l=i||s,a=s;return i&&(T.$$p=null),(n=void 0===t&&l===s)===s||null==n||n.$$is_boolean&&1!=n?(a=0,(n=null!=t)===s||null==n||n.$$is_boolean&&1!=n?u(o,"each",[],(r=function(t){var n,$,o=(r.$$s,arguments.length),i=o-0;i<0&&(i=0),n=new Array(i);for(var c=0;c<o;c++)n[c-0]=arguments[c];return($=e.yieldX(l,e.to_a(n)))===s||null==$||$.$$is_boolean&&1!=$||e.ret(a),a+=1},r.$$s=o,r.$$arity=-1,r)):u(o,"each",[],($=function(n){var r,o=($.$$s,arguments.length),i=o-0;i<0&&(i=0),r=new Array(i);for(var l=0;l<o;l++)r[l-0]=arguments[l];return e.Opal.$destructure(r)["$=="](t)&&e.ret(a),a+=1},$.$$s=o,$.$$arity=-1,$)),s):o.$enum_for("find_index")}catch(t){if(t===e.returner)return t.$v;throw t}},T.$$arity=-1),e.defn(oe,"$first",I=function(t){try{var n,$,r,o=this,i=s,l=s;return(n=void 0===t)===s||null==n||n.$$is_boolean&&1!=n?(i=[],t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<0)===s||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(le,"ArgumentError",!0,!0),"attempt to take negative size"),(n=0==t)===s||null==n||n.$$is_boolean&&1!=n?(l=0,u(o,"each",[],(r=function(n){var $,o,a=(r.$$s,arguments.length),c=a-0;c<0&&(c=0),$=new Array(c);for(var u=0;u<a;u++)$[u-0]=arguments[u];if(i.push(e.Opal.$destructure($)),(o=t<=++l)===s||null==o||o.$$is_boolean&&1!=o)return s;e.ret(i)},r.$$s=o,r.$$arity=-1,r)),i):[]):u(o,"each",[],($=function(t){$.$$s;null==t&&(t=s),e.ret(t)},$.$$s=o,$.$$arity=1,$))}catch(t){if(t===e.returner)return t.$v;throw t}},I.$$arity=-1),e.alias(oe,"flat_map","collect_concat"),e.defn(oe,"$grep",C=function(t){var n,$=this,r=C.$$p,o=r||s;r&&(C.$$p=null);var i=[];return $.$each.$$p=o!==s?function(){var $=e.Opal.$destructure(arguments),r=t["$==="]($);(n=r)===s||null==n||n.$$is_boolean&&1!=n||(r=e.yield1(o,$),i.push(r))}:function(){var $=e.Opal.$destructure(arguments),r=t["$==="]($);(n=r)===s||null==n||n.$$is_boolean&&1!=n||i.push($)},$.$each(),i},C.$$arity=1),e.defn(oe,"$grep_v",N=function(t){var n,$=this,r=N.$$p,o=r||s;r&&(N.$$p=null);var i=[];return $.$each.$$p=o!==s?function(){var $=e.Opal.$destructure(arguments),r=t["$==="]($);((n=r)===s||null==n||n.$$is_boolean&&0==n)&&(r=e.yield1(o,$),i.push(r))}:function(){var $=e.Opal.$destructure(arguments),r=t["$==="]($);((n=r)===s||null==n||n.$$is_boolean&&0==n)&&i.push($)},$.$each(),i},N.$$arity=1),e.defn(oe,"$group_by",j=function(){var t,n,$,r,o=this,i=j.$$p,l=i||s,a=s;if(i&&(j.$$p=null),l===s)return u(o,"enum_for",["group_by"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=o,t.$$arity=0,t));a=e.const_get(le,"Hash",!0,!0).$new();return o.$each.$$p=function(){var t=e.Opal.$destructure(arguments),o=e.yield1(l,t);(n=o,$=a,(r=$["$[]"](n))!==!1&&r!==s&&null!=r?r:$["$[]="](n,[]))["$<<"](t)},o.$each(),a},j.$$arity=0),e.defn(oe,"$include?",L=function(t){try{var n,$=this;return u($,"each",[],(n=function($){var r,o=(n.$$s,arguments.length),i=o-0;i<0&&(i=0),r=new Array(i);for(var l=0;l<o;l++)r[l-0]=arguments[l];if(!e.Opal.$destructure(r)["$=="](t))return s;e.ret(!0)},n.$$s=$,n.$$arity=-1,n)),!1}catch(t){if(t===e.returner)return t.$v;throw t}},L.$$arity=1),e.defn(oe,"$inject",z=function(t,n){var $=this,r=z.$$p,o=r||s;r&&(z.$$p=null);var i=t;return o!==s&&void 0===n?$.$each.$$p=function(){var t=e.Opal.$destructure(arguments);if(void 0===i)return void(i=t);t=e.yieldX(o,[i,t]),i=t}:(void 0===n&&(e.const_get(le,"Symbol",!0,!0)["$==="](t)||$.$raise(e.const_get(le,"TypeError",!0,!0),t.$inspect()+" is not a Symbol"),n=t,i=void 0),$.$each.$$p=function(){var t=e.Opal.$destructure(arguments);if(void 0===i)return void(i=t);i=i.$__send__(n,t)}),$.$each(),void 0==i?s:i},z.$$arity=-1),e.defn(oe,"$lazy",P=function(){var t,n=this;return u(e.const_get([e.const_get(le,"Enumerator",!0,!0).$$scope],"Lazy",!0,!0),"new",[n,n.$enumerator_size()],(t=function(n,$){var r,o=(t.$$s,arguments.length),i=o-1;i<0&&(i=0),r=new Array(i);for(var l=1;l<o;l++)r[l-1]=arguments[l];return null==n&&(n=s),u(n,"yield",e.to_a(r))},t.$$s=n,t.$$arity=-2,t))},P.$$arity=0),e.defn(oe,"$enumerator_size",D=function(){var e,t=this;return(e=t["$respond_to?"]("size"))===s||null==e||e.$$is_boolean&&1!=e?s:t.$size()},D.$$arity=0),e.alias(oe,"map","collect"),e.defn(oe,"$max",B=function(t){var n=this,$=B.$$p,r=$||s;if($&&(B.$$p=null),void 0===t||t===s){var o,i;return n.$each.$$p=function(){var t=e.Opal.$destructure(arguments);if(void 0===o)return void(o=t);i=r!==s?e.yieldX(r,[t,o]):t["$<=>"](o),i===s&&n.$raise(e.const_get(le,"ArgumentError",!0,!0),"comparison failed"),i>0&&(o=t)},n.$each(),void 0===o?s:o}return t=e.Opal.$coerce_to(t,e.Integer,"to_int"),u(n,"sort",[],r.$to_proc()).$reverse().$first(t)},B.$$arity=-1),e.defn(oe,"$max_by",q=function(){var t,n=this,$=q.$$p,r=$||s;if($&&(q.$$p=null),r===!1||r===s||null==r)return u(n,"enum_for",["max_by"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=n,t.$$arity=0,t));var o,i;return n.$each.$$p=function(){var t=e.Opal.$destructure(arguments),n=e.yield1(r,t);if(void 0===o)return o=t,void(i=n);n["$<=>"](i)>0&&(o=t,i=n)},n.$each(),void 0===o?s:o},q.$$arity=0),e.alias(oe,"member?","include?"),e.defn(oe,"$min",F=function(){var t=this,n=F.$$p,$=n||s;n&&(F.$$p=null);var r;return t.$each.$$p=$!==s?function(){var n=e.Opal.$destructure(arguments);if(void 0===r)return void(r=n);var o=$(n,r);o===s&&t.$raise(e.const_get(le,"ArgumentError",!0,!0),"comparison failed"),o<0&&(r=n)}:function(){var t=e.Opal.$destructure(arguments);if(void 0===r)return void(r=t);e.Opal.$compare(t,r)<0&&(r=t)},t.$each(),void 0===r?s:r},F.$$arity=0),e.defn(oe,"$min_by",U=function(){var t,n=this,$=U.$$p,r=$||s;if($&&(U.$$p=null),r===!1||r===s||null==r)return u(n,"enum_for",["min_by"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=n,t.$$arity=0,t));var o,i;return n.$each.$$p=function(){var t=e.Opal.$destructure(arguments),n=e.yield1(r,t);if(void 0===o)return o=t,void(i=n);n["$<=>"](i)<0&&(o=t,i=n)},n.$each(),void 0===o?s:o},U.$$arity=0),e.defn(oe,"$minmax",G=function(){var t,n,$=this,r=G.$$p,o=r||s;r&&(G.$$p=null),(t=o)!==!1&&t!==s&&null!=t||(o=u($,"proc",[],(n=function(e,t){n.$$s;return null==e&&(e=s),null==t&&(t=s),e["$<=>"](t)},n.$$s=$,n.$$arity=2,n)));var i=s,l=s,a=!0;return $.$each.$$p=function(){var t=e.Opal.$destructure(arguments);if(a)i=l=t,a=!1;else{var n=o.$call(i,t);n===s?$.$raise(e.const_get(le,"ArgumentError",!0,!0),"comparison failed"):n>0&&(i=t);var r=o.$call(l,t);r===s?$.$raise(e.const_get(le,"ArgumentError",!0,!0),"comparison failed"):r<0&&(l=t)}},$.$each(),[i,l]},G.$$arity=0),e.defn(oe,"$minmax_by",H=function(){var t=this,n=H.$$p;return n&&(H.$$p=null),t.$raise(e.const_get(le,"NotImplementedError",!0,!0))},H.$$arity=0),e.defn(oe,"$none?",Y=function(){try{var t,n,$=this,r=Y.$$p,o=r||s;return r&&(Y.$$p=null),o!==s?u($,"each",[],(t=function(n){var $,r,i=(t.$$s,arguments.length),l=i-0;l<0&&(l=0),$=new Array(l);for(var a=0;a<i;a++)$[a-0]=arguments[a];if((r=e.yieldX(o,e.to_a($)))===s||null==r||r.$$is_boolean&&1!=r)return s;e.ret(!1)},t.$$s=$,t.$$arity=-1,t)):u($,"each",[],(n=function(t){var $,r,o=(n.$$s,arguments.length),i=o-0;i<0&&(i=0),$=new Array(i);for(var l=0;l<o;l++)$[l-0]=arguments[l];if((r=e.Opal.$destructure($))===s||null==r||r.$$is_boolean&&1!=r)return s;e.ret(!1)},n.$$s=$,n.$$arity=-1,n)),!0}catch(t){if(t===e.returner)return t.$v;throw t}},Y.$$arity=0),e.defn(oe,"$one?",K=function(){try{var n,$,o=this,i=K.$$p,l=i||s,a=s;return i&&(K.$$p=null),a=0,l!==s?u(o,"each",[],(n=function($){var o,i,c=(n.$$s,arguments.length),u=c-0;u<0&&(u=0),o=new Array(u);for(var _=0;_<c;_++)o[_-0]=arguments[_];return(i=e.yieldX(l,e.to_a(o)))===s||null==i||i.$$is_boolean&&1!=i?s:(a=r(a,1),(i=t(a,1))===s||null==i||i.$$is_boolean&&1!=i?s:void e.ret(!1))},n.$$s=o,n.$$arity=-1,n)):u(o,"each",[],($=function(n){var o,i,l=($.$$s,arguments.length),c=l-0;c<0&&(c=0),o=new Array(c);for(var u=0;u<l;u++)o[u-0]=arguments[u];return(i=e.Opal.$destructure(o))===s||null==i||i.$$is_boolean&&1!=i?s:(a=r(a,1),(i=t(a,1))===s||null==i||i.$$is_boolean&&1!=i?s:void e.ret(!1))},$.$$s=o,$.$$arity=-1,$)),a["$=="](1)}catch(t){if(t===e.returner)return t.$v;throw t}},K.$$arity=0),e.defn(oe,"$partition",W=function(){var t,n,$=this,r=W.$$p,o=r||s;if(r&&(W.$$p=null),o===s)return u($,"enum_for",["partition"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=$,t.$$arity=0,t));var i=[],l=[];return $.$each.$$p=function(){var t=e.Opal.$destructure(arguments),$=e.yield1(o,t);(n=$)===s||null==n||n.$$is_boolean&&1!=n?l.push(t):i.push(t)},$.$each(),[i,l]},W.$$arity=0),e.alias(oe,"reduce","inject"),e.defn(oe,"$reject",X=function(){var t,n,$=this,r=X.$$p,o=r||s;if(r&&(X.$$p=null),o===s)return u($,"enum_for",["reject"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=$,t.$$arity=0,t));var i=[];return $.$each.$$p=function(){var t=e.Opal.$destructure(arguments),$=e.yield1(o,t);((n=$)===s||null==n||n.$$is_boolean&&0==n)&&i.push(t)},$.$each(),i},X.$$arity=0),e.defn(oe,"$reverse_each",V=function(){var t,n=this,$=V.$$p,r=$||s;if($&&(V.$$p=null),r===s)return u(n,"enum_for",["reverse_each"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=n,t.$$arity=0,t));var o=[];n.$each.$$p=function(){o.push(arguments)},n.$each();for(var i=o.length-1;i>=0;i--)e.yieldX(r,o[i]);return o},V.$$arity=0),e.alias(oe,"select","find_all"),e.defn(oe,"$slice_before",J=function(t){var n,$,r=this,o=J.$$p,i=o||s;return o&&(J.$$p=null),(n=void 0===t&&i===s)===s||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(le,"ArgumentError",!0,!0),"both pattern and block are given"),(n=void 0!==t&&i!==s||arguments.length>1)===s||null==n||n.$$is_boolean&&1!=n||r.$raise(e.const_get(le,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" expected 1)"),u(e.const_get(le,"Enumerator",!0,!0),"new",[],($=function(n){var r,o=$.$$s||this;null==n&&(n=s);var l=[];o.$each.$$p=i!==s?void 0===t?function(){var t=e.Opal.$destructure(arguments),$=e.yield1(i,t);(r=$)!==s&&null!=r&&(!r.$$is_boolean||1==r)&&l.length>0&&(n["$<<"](l),l=[]),l.push(t)}:function(){var $=e.Opal.$destructure(arguments),o=i($,t.$dup());(r=o)!==s&&null!=r&&(!r.$$is_boolean||1==r)&&l.length>0&&(n["$<<"](l),l=[]),l.push($)}:function(){var $=e.Opal.$destructure(arguments),o=t["$==="]($);(r=o)!==s&&null!=r&&(!r.$$is_boolean||1==r)&&l.length>0&&(n["$<<"](l),l=[]),l.push($)},o.$each(),l.length>0&&n["$<<"](l)},$.$$s=r,$.$$arity=1,$))},J.$$arity=-1),e.defn(oe,"$slice_after",Z=function(t){var n,$,r,o=this,i=Z.$$p,l=i||s;return i&&(Z.$$p=null),(n=void 0===t&&l===s)===s||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(le,"ArgumentError",!0,!0),"both pattern and block are given"),(n=void 0!==t&&l!==s||arguments.length>1)===s||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(le,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" expected 1)"),(n=void 0!==t)===s||null==n||n.$$is_boolean&&1!=n||(l=u(o,"proc",[],($=function(e){$.$$s;return null==e&&(e=s),t["$==="](e)},$.$$s=o,$.$$arity=1,$))),u(e.const_get(le,"Enumerator",!0,!0),"new",[],(r=function(t){var n,$=r.$$s||this;null==t&&(t=s);var o;$.$each.$$p=function(){var $=e.Opal.$destructure(arguments),r=e.yield1(l,$);null==o&&(o=[]),(n=r)===s||null==n||n.$$is_boolean&&1!=n?o.push($):(o.push($),t.$yield(o),o=null)},$.$each(),null!=o&&t.$yield(o)},r.$$s=o,r.$$arity=1,r))},Z.$$arity=-1),e.defn(oe,"$slice_when",Q=function(){var t,n=this,$=Q.$$p,r=$||s;return $&&(Q.$$p=null),r!==s||n.$raise(e.const_get(le,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1)"),u(e.const_get(le,"Enumerator",!0,!0),"new",[],(t=function(n){var $,o=t.$$s||this;null==n&&(n=s);var i=s,l=s;o.$each_cons.$$p=function(){var t=e.Opal.$destructure(arguments),o=t[0],a=t[1],c=e.yieldX(r,[o,a]);l=a,i===s&&(i=[]),($=c)===s||null==$||$.$$is_boolean&&1!=$?i.push(o):(i.push(o),n.$yield(i),i=[])},o.$each_cons(2),i!==s&&(i.push(l),n.$yield(i))},t.$$s=n,t.$$arity=1,t))},Q.$$arity=0),e.defn(oe,"$sort",ee=function(){var e,t=this,n=ee.$$p,$=n||s,r=s;return n&&(ee.$$p=null),r=t.$to_a(),$!==s||($=u(t,"lambda",[],(e=function(t,n){e.$$s;return null==t&&(t=s),null==n&&(n=s),t["$<=>"](n)},e.$$s=t,e.$$arity=2,e))),u(r,"sort",[],$.$to_proc())},ee.$$arity=0),e.defn(oe,"$sort_by",te=function(){var t,n,$,r,o=this,i=te.$$p,l=i||s,a=s;return i&&(te.$$p=null),l===s?u(o,"enum_for",["sort_by"],(t=function(){return(t.$$s||this).$enumerator_size()},t.$$s=o,t.$$arity=0,t)):(a=u(o,"map",[],(n=function(){var t=(n.$$s,s);return t=e.Opal.$destructure(arguments),[e.yield1(l,t),t]},n.$$s=o,n.$$arity=0,n)),u(a,"sort!",[],($=function(e,t){$.$$s;return null==e&&(e=s),null==t&&(t=s),e[0]["$<=>"](t[0])},$.$$s=o,$.$$arity=2,$)),u(a,"map!",[],(r=function(e){r.$$s;return null==e&&(e=s),e[1]},r.$$s=o,r.$$arity=1,r)))},te.$$arity=0),e.defn(oe,"$take",ne=function(e){return this.$first(e)},ne.$$arity=1),e.defn(oe,"$take_while",$e=function(){try{var t,n=this,$=$e.$$p,r=$||s,o=s;return $&&($e.$$p=null),r===!1||r===s||null==r?n.$enum_for("take_while"):(o=[],u(n,"each",[],(t=function(n){var $,i,l=(t.$$s,s),a=arguments.length,c=a-0;c<0&&(c=0),$=new Array(c);for(var u=0;u<a;u++)$[u-0]=arguments[u];return l=e.Opal.$destructure($),((i=e.yield1(r,l))===s||null==i||i.$$is_boolean&&1!=i)&&e.ret(o),o.push(l)},t.$$s=n,t.$$arity=-1,t)))}catch(t){if(t===e.returner)return t.$v;throw t}},$e.$$arity=0),e.alias(oe,"to_a","entries"),e.defn(oe,"$zip",re=function(t){var n,$=this,r=re.$$p,o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<o;l++)n[l-0]=arguments[l];return r&&(re.$$p=null),u($.$to_a(),"zip",e.to_a(n))},re.$$arity=-1)}(l.base,a)},Opal.modules["corelib/enumerator"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var $=e.top,r=e,o=[e],i=e.nil,l=e.breaker,a=e.slice,s=e.klass,c=e.send;return e.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),$.$require("corelib/enumerable"),function($,r,o){function u(){}var _,d,f,p,h,g,b=u=s($,null,"Enumerator",u),m=b.$$proto,y=b.$$scope,v=o.slice().concat(y);return m.size=m.args=m.object=m.method=i,b.$include(e.const_get(v,"Enumerable",!0,!0)),m.$$is_enumerator=!0,e.defs(b,"$for",_=function(e,t,n){var $,r=this,o=_.$$p,l=o||i;null==t&&(t="each");var a=arguments.length,s=a-2;s<0&&(s=0),$=new Array(s);for(var c=2;c<a;c++)$[c-2]=arguments[c];o&&(_.$$p=null);var u=r.$allocate();return u.object=e,u.size=l,u.method=t,u.args=$,u},_.$$arity=-2),e.defn(b,"$initialize",d=function(t){var n,$=this,r=d.$$p,o=r||i;return r&&(d.$$p=null),o!==!1&&o!==i&&null!=o?($.object=c(e.const_get(v,"Generator",!0,!0),"new",[],o.$to_proc()),$.method="each",$.args=[],$.size=arguments[0]||i,(n=$.size)===i||null==n||n.$$is_boolean&&1!=n?i:$.size=e.Opal.$coerce_to($.size,e.Integer,"to_int")):($.object=arguments[0],$.method=arguments[1]||"each",$.args=a.call(arguments,2),$.size=i)},d.$$arity=-1),e.defn(b,"$each",f=function(n){var $,r,o,l=this,a=f.$$p,s=a||i,u=arguments.length,_=u-0;_<0&&(_=0),o=new Array(_);for(var d=0;d<u;d++)o[d-0]=arguments[d];return a&&(f.$$p=null),r=s["$nil?"](),($=r!==!1&&r!==i&&null!=r?o["$empty?"]():r)===i||null==$||$.$$is_boolean&&1!=$?(o=t(l.args,o),($=s["$nil?"]())===i||null==$||$.$$is_boolean&&1!=$?c(l.object,"__send__",[l.method].concat(e.to_a(o)),s.$to_proc()):c(l.$class(),"new",[l.object,l.method].concat(e.to_a(o)))):l},f.$$arity=-1),e.defn(b,"$size",p=function(){var t,n=this;return(t=e.const_get(v,"Proc",!0,!0)["$==="](n.size))===i||null==t||t.$$is_boolean&&1!=t?n.size:c(n.size,"call",e.to_a(n.args))},p.$$arity=0),e.defn(b,"$with_index",h=function(t){var n,$=this,r=h.$$p,o=r||i;if(null==t&&(t=0),r&&(h.$$p=null),t=t!==!1&&t!==i&&null!=t?e.Opal.$coerce_to(t,e.Integer,"to_int"):0,o===!1||o===i||null==o)return c($,"enum_for",["with_index",t],(n=function(){return(n.$$s||this).$size()},n.$$s=$,n.$$arity=0,n));var l=t;return $.$each.$$p=function(){var t=e.Opal.$destructure(arguments),n=o(t,l);return l++,n},$.$each()},h.$$arity=-1),e.alias(b,"with_object","each_with_object"),e.defn(b,"$inspect",g=function(){var n,$=this,r=i;return r="#<"+$.$class()+": "+$.object.$inspect()+":"+$.method,((n=$.args["$empty?"]())===i||null==n||n.$$is_boolean&&1!=n)&&(r=t(r,"("+$.args.$inspect()["$[]"](e.const_get(v,"Range",!0,!0).$new(1,-2))+")")),t(r,">")},g.$$arity=0),function(t,n,$){function r(){}var o,a,u=r=s(t,null,"Generator",r),_=u.$$proto,d=u.$$scope,f=$.slice().concat(d);_.block=i,u.$include(e.const_get(f,"Enumerable",!0,!0)),e.defn(u,"$initialize",o=function(){var t=this,n=o.$$p,$=n||i;return n&&(o.$$p=null),$!==!1&&$!==i&&null!=$||t.$raise(e.const_get(f,"LocalJumpError",!0,!0),"no block given"),t.block=$},o.$$arity=0),e.defn(u,"$each",a=function(t){var n,$=this,r=a.$$p,o=r||i,s=i,u=arguments.length,_=u-0;_<0&&(_=0),n=new Array(_);for(var d=0;d<u;d++)n[d-0]=arguments[d];r&&(a.$$p=null),s=c(e.const_get(f,"Yielder",!0,!0),"new",[],o.$to_proc());try{n.unshift(s),e.yieldX($.block,n)}catch(e){if(e===l)return l.$v;throw e}return $},a.$$arity=-1)}(y.base,0,v),function(t,n,$){function r(){}var o,a,u,_=r=s(t,null,"Yielder",r),d=_.$$proto,f=_.$$scope;$.slice().concat(f);d.block=i,e.defn(_,"$initialize",o=function(){var e=this,t=o.$$p,n=t||i;return t&&(o.$$p=null),e.block=n},o.$$arity=0),e.defn(_,"$yield",a=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];var a=e.yieldX($.block,n);if(a===l)throw l;return a},a.$$arity=-1),e.defn(_,"$<<",u=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];return c($,"yield",e.to_a(n)),$},u.$$arity=-1)}(y.base,0,v),function($,r,o){function l(){}var a,u,_,d,f,p,h,g,b,m,y,v,w,k=l=s($,r,"Lazy",l),x=k.$$proto,O=k.$$scope,E=o.slice().concat(O);return x.enumerator=i,function(e,t,n){function $(){}var r=$=s(e,t,"StopLazyError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(O.base,e.const_get(E,"Exception",!0,!0),E),e.defn(k,"$initialize",a=function(t,n){var $,r=this,o=a.$$p,l=o||i;return null==n&&(n=i),o&&(a.$$p=null),l!==i||r.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy new without a block"),r.enumerator=t,c(r,e.find_super_dispatcher(r,"initialize",a,!1),[n],($=function(n,r){var o,a,s=$.$$s||this,u=arguments.length,_=u-1;_<0&&(_=0),o=new Array(_);for(var d=1;d<u;d++)o[d-1]=arguments[d];null==n&&(n=i);try{return c(t,"each",e.to_a(o),(a=function(t){var $,r=(a.$$s,arguments.length),o=r-0;o<0&&(o=0),$=new Array(o);for(var i=0;i<r;i++)$[i-0]=arguments[i];$.unshift(n),e.yieldX(l,$)},a.$$s=s,a.$$arity=-1,a))}catch(t){if(!e.rescue(t,[e.const_get(E,"Exception",!0,!0)]))throw t;try{return i}finally{e.pop_exception()}}},$.$$s=r,$.$$arity=-2,$))},a.$$arity=-2),e.alias(k,"force","to_a"),e.defn(k,"$lazy",u=function(){return this},u.$$arity=0),e.defn(k,"$collect",_=function(){var t,n=this,$=_.$$p,r=$||i;return $&&(_.$$p=null),r!==!1&&r!==i&&null!=r||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy map without a block"),c(e.const_get(E,"Lazy",!0,!0),"new",[n,n.$enumerator_size()],(t=function(n,$){var o,l=(t.$$s,arguments.length),a=l-1;a<0&&(a=0),o=new Array(a);for(var s=1;s<l;s++)o[s-1]=arguments[s];null==n&&(n=i);var c=e.yieldX(r,o);n.$yield(c)},t.$$s=n,t.$$arity=-2,t))},_.$$arity=0),e.defn(k,"$collect_concat",d=function(){var t,n=this,$=d.$$p,r=$||i;return $&&(d.$$p=null),r!==!1&&r!==i&&null!=r||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy map without a block"),c(e.const_get(E,"Lazy",!0,!0),"new",[n,i],(t=function(n,$){var o,l,a,s=t.$$s||this,u=arguments.length,_=u-1;_<0&&(_=0),o=new Array(_);for(var d=1;d<u;d++)o[d-1]=arguments[d];null==n&&(n=i);var f=e.yieldX(r,o);if(f["$respond_to?"]("force")&&f["$respond_to?"]("each"))c(f,"each",[],(l=function(e){l.$$s;return null==e&&(e=i),n.$yield(e)},l.$$s=s,l.$$arity=1,l));else{e.Opal.$try_convert(f,e.const_get(E,"Array",!0,!0),"to_ary")===i?n.$yield(f):c(f,"each",[],(a=function(e){a.$$s;return null==e&&(e=i),n.$yield(e)},a.$$s=s,a.$$arity=1,a))}},t.$$s=n,t.$$arity=-2,t))},d.$$arity=0),e.defn(k,"$drop",f=function($){var r,o,l=this,a=i,s=i,u=i;return $=e.Opal.$coerce_to($,e.Integer,"to_int"),(r=n($,0))===i||null==r||r.$$is_boolean&&1!=r||l.$raise(e.const_get(E,"ArgumentError",!0,!0),"attempt to drop negative size"),a=l.$enumerator_size(),s=function(){return(r=e.Integer["$==="](a))===i||null==r||r.$$is_boolean&&1!=r?a:(r=n($,a))===i||null==r||r.$$is_boolean&&1!=r?a:$}(),u=0,c(e.const_get(E,"Lazy",!0,!0),"new",[l,s],(o=function(r,l){var a,s,_=(o.$$s,arguments.length),d=_-1;d<0&&(d=0),a=new Array(d);for(var f=1;f<_;f++)a[f-1]=arguments[f];return null==r&&(r=i),(s=n(u,$))===i||null==s||s.$$is_boolean&&1!=s?c(r,"yield",e.to_a(a)):u=t(u,1)},o.$$s=l,o.$$arity=-2,o))},f.$$arity=1),e.defn(k,"$drop_while",p=function(){var t,n=this,$=p.$$p,r=$||i,o=i;return $&&(p.$$p=null),r!==!1&&r!==i&&null!=r||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy drop_while without a block"),o=!0,c(e.const_get(E,"Lazy",!0,!0),"new",[n,i],(t=function(n,$){var l,a,s=(t.$$s,arguments.length),u=s-1;u<0&&(u=0),l=new Array(u);for(var _=1;_<s;_++)l[_-1]=arguments[_];if(null==n&&(n=i),o===!1||o===i||null==o)return c(n,"yield",e.to_a(l));((a=e.yieldX(r,l))===i||null==a||a.$$is_boolean&&0==a)&&(o=!1,c(n,"yield",e.to_a(l)))},t.$$s=n,t.$$arity=-2,t))},p.$$arity=0),e.defn(k,"$enum_for",h=function(t,n){var $,r=this,o=h.$$p,l=o||i;null==t&&(t="each");var a=arguments.length,s=a-1;s<0&&(s=0),$=new Array(s);for(var u=1;u<a;u++)$[u-1]=arguments[u];return o&&(h.$$p=null),c(r.$class(),"for",[r,t].concat(e.to_a($)),l.$to_proc())},h.$$arity=-1),e.defn(k,"$find_all",g=function(){var t,n=this,$=g.$$p,r=$||i;return $&&(g.$$p=null),r!==!1&&r!==i&&null!=r||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy select without a block"),c(e.const_get(E,"Lazy",!0,!0),"new",[n,i],(t=function(n,$){var o,l,a=(t.$$s,arguments.length),s=a-1;s<0&&(s=0),o=new Array(s);for(var u=1;u<a;u++)o[u-1]=arguments[u];null==n&&(n=i),(l=e.yieldX(r,o))===i||null==l||l.$$is_boolean&&1!=l||c(n,"yield",e.to_a(o))},t.$$s=n,t.$$arity=-2,t))},g.$$arity=0),e.alias(k,"flat_map","collect_concat"),e.defn(k,"$grep",b=function(t){var n,$,r=this,o=b.$$p,l=o||i;return o&&(b.$$p=null),l!==!1&&l!==i&&null!=l?c(e.const_get(E,"Lazy",!0,!0),"new",[r,i],(n=function($,r){var o,a,s=(n.$$s,arguments.length),c=s-1;c<0&&(c=0),o=new Array(c);for(var u=1;u<s;u++)o[u-1]=arguments[u];null==$&&($=i);var _=e.Opal.$destructure(o),d=t["$==="](_);(a=d)===i||null==a||a.$$is_boolean&&1!=a||(d=e.yield1(l,_),$.$yield(e.yield1(l,_)))},n.$$s=r,n.$$arity=-2,n)):c(e.const_get(E,"Lazy",!0,!0),"new",[r,i],($=function(n,r){var o,l,a=($.$$s,arguments.length),s=a-1;s<0&&(s=0),o=new Array(s);for(var c=1;c<a;c++)o[c-1]=arguments[c];null==n&&(n=i);var u=e.Opal.$destructure(o);(l=t["$==="](u))===i||null==l||l.$$is_boolean&&1!=l||n.$yield(u)},$.$$s=r,$.$$arity=-2,$))},b.$$arity=1),e.alias(k,"map","collect"),e.alias(k,"select","find_all"),e.defn(k,"$reject",m=function(){var t,n=this,$=m.$$p,r=$||i;return $&&(m.$$p=null),r!==!1&&r!==i&&null!=r||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy reject without a block"),c(e.const_get(E,"Lazy",!0,!0),"new",[n,i],(t=function(n,$){var o,l,a=(t.$$s,arguments.length),s=a-1;s<0&&(s=0),o=new Array(s);for(var u=1;u<a;u++)o[u-1]=arguments[u];null==n&&(n=i),((l=e.yieldX(r,o))===i||null==l||l.$$is_boolean&&0==l)&&c(n,"yield",e.to_a(o))},t.$$s=n,t.$$arity=-2,t))},m.$$arity=0),e.defn(k,"$take",y=function($){var r,o,l=this,a=i,s=i,u=i;return $=e.Opal.$coerce_to($,e.Integer,"to_int"),(r=n($,0))===i||null==r||r.$$is_boolean&&1!=r||l.$raise(e.const_get(E,"ArgumentError",!0,!0),"attempt to take negative size"),a=l.$enumerator_size(),s=function(){return(r=e.Integer["$==="](a))===i||null==r||r.$$is_boolean&&1!=r?a:(r=n($,a))===i||null==r||r.$$is_boolean&&1!=r?a:$}(),u=0,c(e.const_get(E,"Lazy",!0,!0),"new",[l,s],(o=function(r,l){var a,s,_=o.$$s||this,d=arguments.length,f=d-1;f<0&&(f=0),a=new Array(f);for(var p=1;p<d;p++)a[p-1]=arguments[p];return null==r&&(r=i),(s=n(u,$))===i||null==s||s.$$is_boolean&&1!=s?_.$raise(e.const_get(E,"StopLazyError",!0,!0)):(c(r,"yield",e.to_a(a)),u=t(u,1))},o.$$s=l,o.$$arity=-2,o))},y.$$arity=1),e.defn(k,"$take_while",v=function(){var t,n=this,$=v.$$p,r=$||i;return $&&(v.$$p=null),r!==!1&&r!==i&&null!=r||n.$raise(e.const_get(E,"ArgumentError",!0,!0),"tried to call lazy take_while without a block"),c(e.const_get(E,"Lazy",!0,!0),"new",[n,i],(t=function(n,$){var o,l,a=t.$$s||this,s=arguments.length,u=s-1;u<0&&(u=0),o=new Array(u);for(var _=1;_<s;_++)o[_-1]=arguments[_];null==n&&(n=i),(l=e.yieldX(r,o))===i||null==l||l.$$is_boolean&&1!=l?a.$raise(e.const_get(E,"StopLazyError",!0,!0)):c(n,"yield",e.to_a(o))},t.$$s=n,t.$$arity=-2,t))},v.$$arity=0),e.alias(k,"to_enum","enum_for"),e.defn(k,"$inspect",w=function(){var e=this;return"#<"+e.$class()+": "+e.enumerator.$inspect()+">"},w.$$arity=0),i&&"inspect"}(y.base,b,v)}(r.base,0,o)},Opal.modules["corelib/numeric"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var i=e.top,l=e,a=[e],s=e.nil,c=(e.breaker,e.slice,e.klass);return e.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),i.$require("corelib/comparable"),function(i,l,a){function u(){}var _,d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K=u=c(i,null,"Numeric",u),W=(K.$$proto,K.$$scope),X=a.slice().concat(W);return K.$include(e.const_get(X,"Comparable",!0,!0)),e.defn(K,"$coerce",_=function(e){var t,n=this;return(t=e["$instance_of?"](n.$class()))===s||null==t||t.$$is_boolean&&1!=t?[n.$Float(e),n.$Float(n)]:[e,n]},_.$$arity=1),e.defn(K,"$__coerced__",d=function(t,n){var $,r,o=this,i=s,l=s,a=s;try{r=n.$coerce(o),$=e.to_ary(r),i=null==$[0]?s:$[0],l=null==$[1]?s:$[1]}catch($){if(!e.rescue($,[e.const_get(X,"StandardError",!0,!0)]))throw $;try{a=t,"+"["$==="](a)||"-"["$==="](a)||"*"["$==="](a)||"/"["$==="](a)||"%"["$==="](a)||"&"["$==="](a)||"|"["$==="](a)||"^"["$==="](a)||"**"["$==="](a)?o.$raise(e.const_get(X,"TypeError",!0,!0),n.$class()+" can't be coerce into Numeric"):(">"["$==="](a)||">="["$==="](a)||"<"["$==="](a)||"<="["$==="](a)||"<=>"["$==="](a))&&o.$raise(e.const_get(X,"ArgumentError",!0,!0),"comparison of "+o.$class()+" with "+n.$class()+" failed")}finally{e.pop_exception()}}return i.$__send__(t,l)},d.$$arity=2),e.defn(K,"$<=>",f=function(e){var t;return(t=this["$equal?"](e))===s||null==t||t.$$is_boolean&&1!=t?s:0},f.$$arity=1),e.defn(K,"$+@",p=function(){return this},p.$$arity=0),e.defn(K,"$-@",h=function(){return t(0,this)},h.$$arity=0),e.defn(K,"$%",g=function(e){var $=this;return t($,n(e,$.$div(e)))},g.$$arity=1),e.defn(K,"$abs",b=function(){var e=this;return $(e,0)?e["$-@"]():e},b.$$arity=0),e.defn(K,"$abs2",m=function(){var e=this;return n(e,e)},m.$$arity=0),e.defn(K,"$angle",y=function(){return $(this,0)?e.const_get([e.const_get(X,"Math",!0,!0).$$scope],"PI",!0,!0):0},y.$$arity=0),e.alias(K,"arg","angle"),e.defn(K,"$ceil",v=function(){return this.$to_f().$ceil()},v.$$arity=0),e.defn(K,"$conj",w=function(){return this},w.$$arity=0),e.alias(K,"conjugate","conj"),e.defn(K,"$denominator",k=function(){return this.$to_r().$denominator()},k.$$arity=0),e.defn(K,"$div",x=function(t){var n=this;return t["$=="](0)&&n.$raise(e.const_get(X,"ZeroDivisionError",!0,!0),"divided by o"),r(n,t).$floor()},x.$$arity=1),e.defn(K,"$divmod",O=function(e){var t=this;return[t.$div(e),t["$%"](e)]},O.$$arity=1),e.defn(K,"$fdiv",E=function(e){return r(this.$to_f(),e)},E.$$arity=1),e.defn(K,"$floor",A=function(){return this.$to_f().$floor()},A.$$arity=0),e.defn(K,"$i",S=function(){var e=this;return e.$Complex(0,e)},S.$$arity=0),e.defn(K,"$imag",R=function(){return 0},R.$$arity=0),e.alias(K,"imaginary","imag"),e.defn(K,"$integer?",M=function(){return!1},M.$$arity=0),e.alias(K,"magnitude","abs"),e.alias(K,"modulo","%"),e.defn(K,"$nonzero?",T=function(){var e,t=this;return(e=t["$zero?"]())===s||null==e||e.$$is_boolean&&1!=e?t:s},T.$$arity=0),e.defn(K,"$numerator",I=function(){return this.$to_r().$numerator()},I.$$arity=0),e.alias(K,"phase","arg"),e.defn(K,"$polar",C=function(){var e=this;return[e.$abs(),e.$arg()]},C.$$arity=0),e.defn(K,"$quo",N=function(t){var n=this;return r(e.Opal["$coerce_to!"](n,e.const_get(X,"Rational",!0,!0),"to_r"),t)},N.$$arity=1),e.defn(K,"$real",j=function(){return this},j.$$arity=0),e.defn(K,"$real?",L=function(){return!0},L.$$arity=0),e.defn(K,"$rect",z=function(){return[this,0]},z.$$arity=0),e.alias(K,"rectangular","rect"),e.defn(K,"$round",P=function(e){return this.$to_f().$round(e)},P.$$arity=-1),e.defn(K,"$to_c",D=function(){var e=this;return e.$Complex(e,0)},D.$$arity=0),e.defn(K,"$to_int",B=function(){return this.$to_i()},B.$$arity=0),e.defn(K,"$truncate",q=function(){return this.$to_f().$truncate()},q.$$arity=0),e.defn(K,"$zero?",F=function(){return this["$=="](0)},F.$$arity=0),e.defn(K,"$positive?",U=function(){return o(this,0)},U.$$arity=0),e.defn(K,"$negative?",G=function(){return $(this,0)},G.$$arity=0),e.defn(K,"$dup",H=function(){var t=this;return t.$raise(e.const_get(X,"TypeError",!0,!0),"can't dup "+t.$class())},H.$$arity=0),e.defn(K,"$clone",Y=function(){var t=this;return t.$raise(e.const_get(X,"TypeError",!0,!0),"can't clone "+t.$class())},Y.$$arity=0),s&&"clone"}(l.base,0,a)},Opal.modules["corelib/array"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var o=e.top,i=e,l=[e],a=e.nil,s=(e.breaker,e.slice,e.klass),c=e.hash2,u=e.send,_=e.gvars;return e.add_stubs(["$require","$include","$to_a","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$empty?","$enum_for","$bsearch_index","$to_proc","$coerce_to!","$>","$*","$enumerator_size","$size","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$!","$>=","$**","$delete_if","$each","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$dup","$<","$sort","$sort_by","$!=","$times","$[]=","$<<","$values","$kind_of?","$last","$first","$upto","$reject","$pristine"]),o.$require("corelib/enumerable"),o.$require("corelib/numeric"),function(o,i,l){function d(){}function f(t,n){return n.$$name===e.Array?t:n.$allocate().$replace(t.$to_a())}function p(e,t){return e===t||0===t?1:t>0&&e>t?p(e-1,t-1)+p(e-1,t):0}function h(e,t){for(var n=t>=0?1:0;t;)n*=e,e--,t--;return n}var g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,oe,ie,le,ae,se,ce,ue,_e,de,fe,pe,he,ge,be,me,ye,ve,we,ke,xe,Oe,Ee,Ae,Se,Re,Me,Te,Ie,Ce,Ne,je,Le,ze,Pe,De,Be,qe,Fe,Ue,Ge,He,Ye,Ke,We,Xe,Ve,Je,Ze,Qe=d=s(o,i,"Array",d),et=Qe.$$proto,tt=Qe.$$scope,nt=l.slice().concat(tt);return et.length=a,Qe.$include(e.const_get(nt,"Enumerable",!0,!0)),et.$$is_array=!0,e.defs(Qe,"$[]",g=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];return f(t,n)},g.$$arity=-1),e.defn(Qe,"$initialize",b=function(t,n){var $=this,r=b.$$p,o=r||a;if(null==t&&(t=a),null==n&&(n=a),r&&(b.$$p=null),
t>e.const_get([e.Integer.$$scope],"MAX",!0,!0)&&$.$raise(e.const_get(nt,"ArgumentError",!0,!0),"array size too big"),arguments.length>2&&$.$raise(e.const_get(nt,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return $.splice(0,$.length),$;if(1===arguments.length){if(t.$$is_array)return $.$replace(t.$to_a()),$;if(t["$respond_to?"]("to_ary"))return $.$replace(t.$to_ary()),$}t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&$.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative array size"),$.splice(0,$.length);var i,l;if(o===a)for(i=0;i<t;i++)$.push(n);else for(i=0,l;i<t;i++)l=o(i),$[i]=l;return $},b.$$arity=-1),e.defs(Qe,"$try_convert",m=function(t){return e.Opal["$coerce_to?"](t,e.const_get(nt,"Array",!0,!0),"to_ary")},m.$$arity=1),e.defn(Qe,"$&",y=function(t){var n,$=this;t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a();var r,o,i,l=[],s=c([],{});for(r=0,o=t.length;r<o;r++)e.hash_put(s,t[r],!0);for(r=0,o=$.length;r<o;r++)i=$[r],void 0!==e.hash_delete(s,i)&&l.push(i);return l},y.$$arity=1),e.defn(Qe,"$|",v=function(t){var n,$=this;t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a();var r,o,i=c([],{});for(r=0,o=$.length;r<o;r++)e.hash_put(i,$[r],!0);for(r=0,o=t.length;r<o;r++)e.hash_put(i,t[r],!0);return i.$keys()},v.$$arity=1),e.defn(Qe,"$*",w=function(t){var n,$=this;if((n=t["$respond_to?"]("to_str"))!==a&&null!=n&&(!n.$$is_boolean||1==n))return $.$join(t.$to_str());t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<0)===a||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative argument");for(var r=[],o=$.$to_a(),i=0;i<t;i++)r=r.concat(o);return f(r,$.$class())},w.$$arity=1),e.defn(Qe,"$+",k=function(t){var n,$=this;return t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a(),$.concat(t)},k.$$arity=1),e.defn(Qe,"$-",x=function(t){var n,$=this;if(t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a(),(n=0===$.length)!==a&&null!=n&&(!n.$$is_boolean||1==n))return[];if((n=0===t.length)!==a&&null!=n&&(!n.$$is_boolean||1==n))return $.slice();var r,o,i,l=[],s=c([],{});for(r=0,o=t.length;r<o;r++)e.hash_put(s,t[r],!0);for(r=0,o=$.length;r<o;r++)i=$[r],void 0===e.hash_get(s,i)&&l.push(i);return l},x.$$arity=1),e.defn(Qe,"$<<",O=function(e){var t=this;return t.push(e),t},O.$$arity=1),e.defn(Qe,"$<=>",E=function(t){var n,$=this;if((n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n){if((n=t["$respond_to?"]("to_ary"))===a||null==n||n.$$is_boolean&&1!=n)return a;t=t.$to_ary().$to_a()}else t=t.$to_a();if($.$hash()===t.$hash())return 0;for(var r=Math.min($.length,t.length),o=0;o<r;o++){var i=$[o]["$<=>"](t[o]);if(0!==i)return i}return $.length["$<=>"](t.length)},E.$$arity=1),e.defn(Qe,"$==",A=function(t){function n(t,$){var o,i,l,a;if(t===$)return!0;if(!$.$$is_array)return!!e.Opal["$respond_to?"]($,"to_ary")&&$["$=="](t);if(t.constructor!==Array&&(t=t.$to_a()),$.constructor!==Array&&($=$.$to_a()),t.length!==$.length)return!1;for(r[t.$object_id()]=!0,o=0,i=t.length;o<i;o++)if(l=t[o],a=$[o],l.$$is_array){if(a.$$is_array&&a.length!==l.length)return!1;if(!r.hasOwnProperty(l.$object_id())&&!n(l,a))return!1}else if(!l["$=="](a))return!1;return!0}var $=this,r={};return n($,t)},A.$$arity=1),e.defn(Qe,"$[]",S=function(t,n){var $,r,o,i,l=this,s=l.length;if(t.$$is_range){if($=t.exclude,r=e.Opal.$coerce_to(t.begin,e.Integer,"to_int"),o=e.Opal.$coerce_to(t.end,e.Integer,"to_int"),r<0&&(r+=s)<0)return a;if(r>s)return a;if(o<0&&(o+=s)<0)return[];$||(o+=1),i=l.slice(r,o)}else{if((t=e.Opal.$coerce_to(t,e.Integer,"to_int"))<0&&(t+=s)<0)return a;if(void 0===n)return t>=s||t<0?a:l[t];if((n=e.Opal.$coerce_to(n,e.Integer,"to_int"))<0||t>s||t<0)return a;i=l.slice(t,t+n)}return f(i,l.$class())},S.$$arity=-2),e.defn(Qe,"$[]=",R=function(t,n,$){var r,o,i=this,l=a,s=a,c=i.length;if((r=e.const_get(nt,"Range",!0,!0)["$==="](t))===a||null==r||r.$$is_boolean&&1!=r){(r=void 0===$)===a||null==r||r.$$is_boolean&&1!=r?(s=n,n=$,l=(r=e.const_get(nt,"Array",!0,!0)["$==="](n))===a||null==r||r.$$is_boolean&&1!=r?(r=n["$respond_to?"]("to_ary"))===a||null==r||r.$$is_boolean&&1!=r?[n]:n.$to_ary().$to_a():n.$to_a()):s=1;var u;if(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),s=e.Opal.$coerce_to(s,e.Integer,"to_int"),t<0&&(u=t,(t+=c)<0&&i.$raise(e.const_get(nt,"IndexError",!0,!0),"index "+u+" too small for array; minimum "+-i.length)),s<0&&i.$raise(e.const_get(nt,"IndexError",!0,!0),"negative length ("+s+")"),t>c)for(o=c;o<t;o++)i[o]=a;return void 0===$?i[t]=n:i.splice.apply(i,[t,s].concat(l)),n}l=(r=e.const_get(nt,"Array",!0,!0)["$==="](n))===a||null==r||r.$$is_boolean&&1!=r?(r=n["$respond_to?"]("to_ary"))===a||null==r||r.$$is_boolean&&1!=r?[n]:n.$to_ary().$to_a():n.$to_a();var _=t.exclude,d=e.Opal.$coerce_to(t.begin,e.Integer,"to_int"),f=e.Opal.$coerce_to(t.end,e.Integer,"to_int");if(d<0&&(d+=c)<0&&i.$raise(e.const_get(nt,"RangeError",!0,!0),t.$inspect()+" out of range"),f<0&&(f+=c),_||(f+=1),d>c)for(o=c;o<d;o++)i[o]=a;return f<0?i.splice.apply(i,[d,0].concat(l)):i.splice.apply(i,[d,f-d].concat(l)),n},R.$$arity=-3),e.defn(Qe,"$any?",M=function(){var t,n=this,$=M.$$p,r=a,o=a,i=a;for($&&(M.$$p=null),o=0,i=arguments.length,r=new Array(i);o<i;o++)r[o]=arguments[o];return!!((t=n["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t)&&u(n,e.find_super_dispatcher(n,"any?",M,!1),r,$)},M.$$arity=0),e.defn(Qe,"$assoc",T=function(e){for(var t,n=this,$=0,r=n.length;$<r;$++)if(t=n[$],t.length&&t[0]["$=="](e))return t;return a},T.$$arity=1),e.defn(Qe,"$at",I=function(t){var n=this;return t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&(t+=n.length),t<0||t>=n.length?a:n[t]},I.$$arity=1),e.defn(Qe,"$bsearch_index",C=function(){var t=this,n=C.$$p,$=n||a;if(n&&(C.$$p=null),$===a)return t.$enum_for("bsearch_index");for(var r,o,i,l=0,s=t.length,c=!1,u=a;l<s;){if(r=l+Math.floor((s-l)/2),o=t[r],(i=e.yield1($,o))===!0)u=r,c=!0;else if(i===!1||i===a)c=!1;else if(i.$$is_number){if(0===i)return r;c=i<0}else t.$raise(e.const_get(nt,"TypeError",!0,!0),"wrong argument type "+i.$class()+" (must be numeric, true, false or nil)");c?s=r:l=r+1}return u},C.$$arity=0),e.defn(Qe,"$bsearch",N=function(){var e=this,t=N.$$p,n=t||a,$=a;return t&&(N.$$p=null),n===a?e.$enum_for("bsearch"):($=u(e,"bsearch_index",[],n.$to_proc()),null!=$&&$.$$is_number?e[$]:$)},N.$$arity=0),e.defn(Qe,"$cycle",j=function($){var r,o,i,l=this,s=j.$$p,c=s||a;if(null==$&&($=a),s&&(j.$$p=null),c===a)return u(l,"enum_for",["cycle",$],(r=function(){var o,i=r.$$s||this;return $["$=="](a)?e.const_get([e.const_get(nt,"Float",!0,!0).$$scope],"INFINITY",!0,!0):($=e.Opal["$coerce_to!"]($,e.Integer,"to_int"),(o=t($,0))===a||null==o||o.$$is_boolean&&1!=o?0:n(i.$enumerator_size(),$))},r.$$s=l,r.$$arity=0,r));if((o=(i=l["$empty?"]())!==!1&&i!==a&&null!=i?i:$["$=="](0))!==a&&null!=o&&(!o.$$is_boolean||1==o))return a;var _,d;if($===a)for(;;)for(_=0,d=l.length;_<d;_++)e.yield1(c,l[_]);else{if(($=e.Opal["$coerce_to!"]($,e.Integer,"to_int"))<=0)return l;for(;$>0;){for(_=0,d=l.length;_<d;_++)e.yield1(c,l[_]);$--}}return l},j.$$arity=-1),e.defn(Qe,"$clear",L=function(){var e=this;return e.splice(0,e.length),e},L.$$arity=0),e.defn(Qe,"$count",z=function(t){var n,$,r=this,o=z.$$p,i=o||a,l=a,s=a,c=a;for(null==t&&(t=a),o&&(z.$$p=null),s=0,c=arguments.length,l=new Array(c);s<c;s++)l[s]=arguments[s];return(n=($=t)!==!1&&$!==a&&null!=$?$:i)===a||null==n||n.$$is_boolean&&1!=n?r.$size():u(r,e.find_super_dispatcher(r,"count",z,!1),l,o)},z.$$arity=-1),e.defn(Qe,"$initialize_copy",P=function(e){return this.$replace(e)},P.$$arity=1),e.defn(Qe,"$collect",D=function(){var t,n=this,$=D.$$p,r=$||a;if($&&(D.$$p=null),r===a)return u(n,"enum_for",["collect"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o=[],i=0,l=n.length;i<l;i++){var s=e.yield1(r,n[i]);o.push(s)}return o},D.$$arity=0),e.defn(Qe,"$collect!",B=function(){var t,n=this,$=B.$$p,r=$||a;if($&&(B.$$p=null),r===a)return u(n,"enum_for",["collect!"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o=0,i=n.length;o<i;o++){var l=e.yield1(r,n[o]);n[o]=l}return n},B.$$arity=0),e.defn(Qe,"$combination",q=function(t){var n,$=this,r=q.$$p,o=r||a,i=a;if(r&&(q.$$p=null),i=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),o===a)return u($,"enum_for",["combination",i],(n=function(){return p((n.$$s||this).length,i)},n.$$s=$,n.$$arity=0,n));var l,s,c,_,d,f,h;if(0===i)e.yield1(o,[]);else if(1===i)for(l=0,s=$.length;l<s;l++)e.yield1(o,[$[l]]);else if(i===$.length)e.yield1(o,$.slice());else if(i>=0&&i<$.length){for(c=[],l=0;l<=i+1;l++)c.push(0);for(_=[],d=0,f=!1,c[0]=-1;!f;){for(_[d]=$[c[d+1]];d<i-1;)d++,h=c[d+1]=c[d]+1,_[d]=$[h];e.yield1(o,_.slice()),d++;do{f=0===d,c[d]++,d--}while(c[d+1]+i===$.length+d+1)}}return $},q.$$arity=1),e.defn(Qe,"$repeated_combination",F=function(t){function n(t,$,r,o){if(r.length==t){var l=r.slice();return void e.yield1(i,l)}for(var a=$;a<o.length;a++)r.push(o[a]),n(t,a,r,o),r.pop()}var $,r=this,o=F.$$p,i=o||a,l=a;return o&&(F.$$p=null),l=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),i===a?u(r,"enum_for",["repeated_combination",l],($=function(){return p(($.$$s||this).length+l-1,l)},$.$$s=r,$.$$arity=0,$)):(l>=0&&n(l,0,[],r),r)},F.$$arity=1),e.defn(Qe,"$compact",U=function(){for(var e,t=this,n=[],$=0,r=t.length;$<r;$++)(e=t[$])!==a&&n.push(e);return n},U.$$arity=0),e.defn(Qe,"$compact!",G=function(){for(var e=this,t=e.length,n=0,$=e.length;n<$;n++)e[n]===a&&(e.splice(n,1),$--,n--);return e.length===t?a:e},G.$$arity=0),e.defn(Qe,"$concat",H=function(t){var n,$=this;t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a();for(var r=0,o=t.length;r<o;r++)$.push(t[r]);return $},H.$$arity=1),e.defn(Qe,"$delete",Y=function(t){var n=this,$=Y.$$p,r=$||a;$&&(Y.$$p=null);for(var o=n.length,i=0,l=o;i<l;i++)n[i]["$=="](t)&&(n.splice(i,1),l--,i--);return n.length===o?r!==a?e.yieldX(r,[]):a:t},Y.$$arity=1),e.defn(Qe,"$delete_at",K=function(t){var n=this;if(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&(t+=n.length),t<0||t>=n.length)return a;var $=n[t];return n.splice(t,1),$},K.$$arity=1),e.defn(Qe,"$delete_if",W=function(){var e,t=this,n=W.$$p,$=n||a;if(n&&(W.$$p=null),$===a)return u(t,"enum_for",["delete_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));for(var r,o=0,i=t.length;o<i;o++)(r=$(t[o]))!==!1&&r!==a&&(t.splice(o,1),i--,o--);return t},W.$$arity=0),e.defn(Qe,"$dig",X=function(t,n){var $,r,o=this,i=a,l=arguments.length,s=l-1;s<0&&(s=0),r=new Array(s);for(var c=1;c<l;c++)r[c-1]=arguments[c];return(i=o["$[]"](t))===a||0===r.length?i:((($=i["$respond_to?"]("dig"))===a||null==$||$.$$is_boolean&&1!=$)&&o.$raise(e.const_get(nt,"TypeError",!0,!0),i.$class()+" does not have #dig method"),u(i,"dig",e.to_a(r)))},X.$$arity=-2),e.defn(Qe,"$drop",V=function(t){var n=this;return t<0&&n.$raise(e.const_get(nt,"ArgumentError",!0,!0)),n.slice(t)},V.$$arity=1),e.defn(Qe,"$dup",J=function(){var t=this,n=J.$$p,$=a,r=a,o=a;for(n&&(J.$$p=null),r=0,o=arguments.length,$=new Array(o);r<o;r++)$[r]=arguments[r];return t.$$class===e.Array&&t.$allocate.$$pristine&&t.$copy_instance_variables.$$pristine&&t.$initialize_dup.$$pristine?t.slice(0):u(t,e.find_super_dispatcher(t,"dup",J,!1),$,n)},J.$$arity=0),e.defn(Qe,"$each",Z=function(){var t,n=this,$=Z.$$p,r=$||a;if($&&(Z.$$p=null),r===a)return u(n,"enum_for",["each"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o=0,i=n.length;o<i;o++){e.yield1(r,n[o])}return n},Z.$$arity=0),e.defn(Qe,"$each_index",Q=function(){var t,n=this,$=Q.$$p,r=$||a;if($&&(Q.$$p=null),r===a)return u(n,"enum_for",["each_index"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o=0,i=n.length;o<i;o++){e.yield1(r,o)}return n},Q.$$arity=0),e.defn(Qe,"$empty?",ee=function(){return 0===this.length},ee.$$arity=0),e.defn(Qe,"$eql?",te=function(e){function t(e,n){var r,o,i,l;if(!n.$$is_array)return!1;if(n=n.$to_a(),e.length!==n.length)return!1;for($[e.$object_id()]=!0,r=0,o=e.length;r<o;r++)if(i=e[r],l=n[r],i.$$is_array){if(l.$$is_array&&l.length!==i.length)return!1;if(!$.hasOwnProperty(i.$object_id())&&!t(i,l))return!1}else if(!i["$eql?"](l))return!1;return!0}var n=this,$={};return t(n,e)},te.$$arity=1),e.defn(Qe,"$fetch",ne=function(t,n){var $=this,r=ne.$$p,o=r||a;r&&(ne.$$p=null);var i=t;return t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&(t+=$.length),t>=0&&t<$.length?$[t]:o!==a?o(i):null!=n?n:void(0===$.length?$.$raise(e.const_get(nt,"IndexError",!0,!0),"index "+i+" outside of array bounds: 0...0"):$.$raise(e.const_get(nt,"IndexError",!0,!0),"index "+i+" outside of array bounds: -"+$.length+"..."+$.length))},ne.$$arity=-2),e.defn(Qe,"$fill",$e=function(t){var n,$,r,o=this,i=$e.$$p,l=i||a,s=a,c=a,u=a,_=a,d=a,f=arguments.length,p=f-0;p<0&&(p=0),r=new Array(p);for(var h=0;h<f;h++)r[h-0]=arguments[h];i&&($e.$$p=null);var g,b;if(l!==!1&&l!==a&&null!=l?((n=r.length>2)===a||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(nt,"ArgumentError",!0,!0),"wrong number of arguments ("+r.$length()+" for 0..2)"),$=r,n=e.to_ary($),s=null==n[0]?a:n[0],c=null==n[1]?a:n[1]):((n=0==r.length)===a||null==n||n.$$is_boolean&&1!=n?(n=r.length>3)===a||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(nt,"ArgumentError",!0,!0),"wrong number of arguments ("+r.$length()+" for 1..3)"):o.$raise(e.const_get(nt,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),$=r,n=e.to_ary($),u=null==n[0]?a:n[0],s=null==n[1]?a:n[1],c=null==n[2]?a:n[2]),(n=e.const_get(nt,"Range",!0,!0)["$==="](s))===a||null==n||n.$$is_boolean&&1!=n)if(s!==!1&&s!==a&&null!=s)if(_=e.Opal.$coerce_to(s,e.Integer,"to_int"),(n=_<0)===a||null==n||n.$$is_boolean&&1!=n||(_+=o.length),(n=_<0)===a||null==n||n.$$is_boolean&&1!=n||(_=0),c!==!1&&c!==a&&null!=c){if(d=e.Opal.$coerce_to(c,e.Integer,"to_int"),(n=0==d)!==a&&null!=n&&(!n.$$is_boolean||1==n))return o;d+=_}else d=o.length;else _=0,d=o.length;else if(c!==!1&&c!==a&&null!=c&&o.$raise(e.const_get(nt,"TypeError",!0,!0),"length invalid with range"),_=e.Opal.$coerce_to(s.$begin(),e.Integer,"to_int"),(n=_<0)===a||null==n||n.$$is_boolean&&1!=n||(_+=o.length),(n=_<0)===a||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(nt,"RangeError",!0,!0),s.$inspect()+" out of range"),d=e.Opal.$coerce_to(s.$end(),e.Integer,"to_int"),(n=d<0)===a||null==n||n.$$is_boolean&&1!=n||(d+=o.length),((n=s["$exclude_end?"]())===a||null==n||n.$$is_boolean&&1!=n)&&(d+=1),(n=d<=_)!==a&&null!=n&&(!n.$$is_boolean||1==n))return o;if((n=_>o.length)!==a&&null!=n&&(!n.$$is_boolean||1==n))for(g=o.length;g<d;g++)o[g]=a;if((n=d>o.length)===a||null==n||n.$$is_boolean&&1!=n||(o.length=d),l!==!1&&l!==a&&null!=l)for(o.length;_<d;_++)b=l(_),o[_]=b;else for(o.length;_<d;_++)o[_]=u;return o},$e.$$arity=-1),e.defn(Qe,"$first",re=function(t){var n=this;return null==t?0===n.length?a:n[0]:(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&n.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative array size"),n.slice(0,t))},re.$$arity=-1),e.defn(Qe,"$flatten",oe=function(t){function n(t,r){var o,i,l,s,c=[];for(t=t.$to_a(),o=0,i=t.length;o<i;o++)if(l=t[o],e.Opal["$respond_to?"](l,"to_ary"))if((s=l.$to_ary())!==a)switch(s.$$is_array||$.$raise(e.const_get(nt,"TypeError",!0,!0)),s===$&&$.$raise(e.const_get(nt,"ArgumentError",!0,!0)),r){case void 0:c=c.concat(n(s));break;case 0:c.push(s);break;default:c.push.apply(c,n(s,r-1))}else c.push(l);else c.push(l);return c}var $=this;return void 0!==t&&(t=e.Opal.$coerce_to(t,e.Integer,"to_int")),f(n($,t),$.$class())},oe.$$arity=-1),e.defn(Qe,"$flatten!",ie=function(e){var t=this,n=t.$flatten(e);if(t.length==n.length){for(var $=0,r=t.length;$<r&&t[$]===n[$];$++);if($==r)return a}return t.$replace(n),t},ie.$$arity=-1),e.defn(Qe,"$hash",le=function(){var t,n,$,r=this,o=void 0==e.hash_ids,i=["A"],l=r.$object_id();try{if(o&&(e.hash_ids={}),e.hash_ids.hasOwnProperty(l))return"self";for($ in e.hash_ids)if(e.hash_ids.hasOwnProperty($)&&(t=e.hash_ids[$],r["$eql?"](t)))return"self";for(e.hash_ids[l]=r,n=0;n<r.length;n++)t=r[n],i.push(t.$hash());return i.join(",")}finally{o&&delete e.hash_ids}},le.$$arity=0),e.defn(Qe,"$include?",ae=function(e){for(var t=this,n=0,$=t.length;n<$;n++)if(t[n]["$=="](e))return!0;return!1},ae.$$arity=1),e.defn(Qe,"$index",se=function(e){var t=this,n=se.$$p,$=n||a;n&&(se.$$p=null);var r,o,i;if(null!=e){for(r=0,o=t.length;r<o;r++)if(t[r]["$=="](e))return r}else{if($===a)return t.$enum_for("index");for(r=0,o=t.length;r<o;r++)if((i=$(t[r]))!==!1&&i!==a)return r}return a},se.$$arity=-1),e.defn(Qe,"$insert",ce=function(t,n){var $,r=this,o=arguments.length,i=o-1;i<0&&(i=0),$=new Array(i);for(var l=1;l<o;l++)$[l-1]=arguments[l];if(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),$.length>0){if(t<0&&(t+=r.length+1)<0&&r.$raise(e.const_get(nt,"IndexError",!0,!0),t+" is out of bounds"),t>r.length)for(var s=r.length;s<t;s++)r.push(a);r.splice.apply(r,[t,0].concat($))}return r},ce.$$arity=-2),e.defn(Qe,"$inspect",ue=function(){for(var e=this,t=[],n=e.$__id__(),$=0,r=e.length;$<r;$++){var o=e["$[]"]($);o.$__id__()===n?t.push("[...]"):t.push(o.$inspect())}return"["+t.join(", ")+"]"},ue.$$arity=0),e.defn(Qe,"$join",_e=function(t){var n,$=this;if(null==_[","]&&(_[","]=a),null==t&&(t=a),(n=0===$.length)!==a&&null!=n&&(!n.$$is_boolean||1==n))return"";(n=t===a)===a||null==n||n.$$is_boolean&&1!=n||(t=_[","]);var r,o,i,l,s=[];for(r=0,o=$.length;r<o;r++)i=$[r],e.Opal["$respond_to?"](i,"to_str")&&(l=i.$to_str())!==a?s.push(l.$to_s()):e.Opal["$respond_to?"](i,"to_ary")&&(l=i.$to_ary(),l===$&&$.$raise(e.const_get(nt,"ArgumentError",!0,!0)),l!==a)?s.push(l.$join(t)):e.Opal["$respond_to?"](i,"to_s")&&(l=i.$to_s())!==a?s.push(l):$.$raise(e.const_get(nt,"NoMethodError",!0,!0).$new(e.Opal.$inspect(i)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return t===a?s.join(""):s.join(e.Opal["$coerce_to!"](t,e.String,"to_str").$to_s())},_e.$$arity=-1),e.defn(Qe,"$keep_if",de=function(){var e,t=this,n=de.$$p,$=n||a;if(n&&(de.$$p=null),$===a)return u(t,"enum_for",["keep_if"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));for(var r,o=0,i=t.length;o<i;o++)(r=$(t[o]))!==!1&&r!==a||(t.splice(o,1),i--,o--);return t},de.$$arity=0),e.defn(Qe,"$last",fe=function(t){var n=this;return null==t?0===n.length?a:n[n.length-1]:(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),t<0&&n.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative array size"),t>n.length&&(t=n.length),n.slice(n.length-t,n.length))},fe.$$arity=-1),e.defn(Qe,"$length",pe=function(){return this.length},pe.$$arity=0),e.alias(Qe,"map","collect"),e.alias(Qe,"map!","collect!"),e.defn(Qe,"$permutation",he=function(t){var n,$=this,r=he.$$p,o=r||a,i=a,l=a;if(r&&(he.$$p=null),o===a)return u($,"enum_for",["permutation",t],(n=function(){var e=n.$$s||this;return h(e.length,void 0===t?e.length:t)},n.$$s=$,n.$$arity=0,n));var s,c,_;if((t=void 0===t?$.length:e.Opal.$coerce_to(t,e.Integer,"to_int"))<0||$.length<t);else if(0===t)e.yield1(o,[]);else if(1===t)for(var d=0;d<$.length;d++)e.yield1(o,[$[d]]);else i=e.const_get(nt,"Array",!0,!0).$new(t),l=e.const_get(nt,"Array",!0,!0).$new($.length,!1),s=function(t,n,r,o,i){$=this;for(var l=0;l<$.length;l++)if(o["$[]"](l)["$!"]())if(n[r]=l,r<t-1)o[l]=!0,s.call($,t,n,r+1,o,i),o[l]=!1;else{_=[];for(var a=0;a<n.length;a++)_.push($[n[a]]);e.yield1(i,_)}},o!==a?(c=$.slice(),s.call(c,t,i,0,l,o)):s.call($,t,i,0,l,o);return $},he.$$arity=-1),e.defn(Qe,"$repeated_permutation",ge=function(t){function n(t,$,r){if($.length==t){var o=$.slice();return void e.yield1(l,o)}for(var i=0;i<r.length;i++)$.push(r[i]),n(t,$,r),$.pop()}var r,o=this,i=ge.$$p,l=i||a,s=a;return i&&(ge.$$p=null),s=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),l===a?u(o,"enum_for",["repeated_permutation",s],(r=function(){var e,t=r.$$s||this;return(e=$(s,0))===a||null==e||e.$$is_boolean&&1!=e?0:t.$size()["$**"](s)},r.$$s=o,r.$$arity=0,r)):(n(s,[],o.slice()),o)},ge.$$arity=1),e.defn(Qe,"$pop",be=function(t){var n,$=this;return(n=void 0===t)===a||null==n||n.$$is_boolean&&1!=n?(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<0)===a||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative array size"),(n=0===$.length)===a||null==n||n.$$is_boolean&&1!=n?(n=t>$.length)===a||null==n||n.$$is_boolean&&1!=n?$.splice($.length-t,$.length):$.splice(0,$.length):[]):(n=0===$.length)===a||null==n||n.$$is_boolean&&1!=n?$.pop():a},be.$$arity=-1),e.defn(Qe,"$product",me=function(t){var n,$=this,r=me.$$p,o=r||a,i=arguments.length,l=i-0;l<0&&(l=0),n=new Array(l);for(var s=0;s<i;s++)n[s-0]=arguments[s];r&&(me.$$p=null);var c,u,_,d,f=o!==a?null:[],p=n.length+1,h=new Array(p),g=new Array(p),b=new Array(p),m=1;for(b[0]=$,c=1;c<p;c++)b[c]=e.Opal.$coerce_to(n[c-1],e.const_get(nt,"Array",!0,!0),"to_ary");for(c=0;c<p;c++){if(0===(d=b[c].length))return f||$;m*=d,m>2147483647&&$.$raise(e.const_get(nt,"RangeError",!0,!0),"too big to product"),g[c]=d,h[c]=0}e:for(;;){for(_=[],c=0;c<p;c++)_.push(b[c][h[c]]);for(f?f.push(_):e.yield1(o,_),u=p-1,h[u]++;h[u]===g[u];){if(h[u]=0,--u<0)break e;h[u]++}}return f||$},me.$$arity=-1),e.defn(Qe,"$push",ye=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];for(var i=0,l=t.length;i<l;i++)n.push(t[i]);return n},ye.$$arity=-1),e.defn(Qe,"$rassoc",ve=function(e){for(var t,n=this,$=0,r=n.length;$<r;$++)if(t=n[$],t.length&&void 0!==t[1]&&t[1]["$=="](e))return t;return a},ve.$$arity=1),e.defn(Qe,"$reject",we=function(){var e,t=this,n=we.$$p,$=n||a;if(n&&(we.$$p=null),$===a)return u(t,"enum_for",["reject"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));for(var r,o=[],i=0,l=t.length;i<l;i++)(r=$(t[i]))!==!1&&r!==a||o.push(t[i]);return o},we.$$arity=0),e.defn(Qe,"$reject!",ke=function(){var e,t=this,n=ke.$$p,$=n||a,r=a;return n&&(ke.$$p=null),$===a?u(t,"enum_for",["reject!"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e)):(r=t.$length(),u(t,"delete_if",[],$.$to_proc()),t.$length()["$=="](r)?a:t)},ke.$$arity=0),e.defn(Qe,"$replace",xe=function(t){var n,$=this;return t=(n=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==n||n.$$is_boolean&&1!=n?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a(),$.splice(0,$.length),$.push.apply($,t),$},xe.$$arity=1),e.defn(Qe,"$reverse",Oe=function(){return this.slice(0).reverse()},Oe.$$arity=0),e.defn(Qe,"$reverse!",Ee=function(){return this.reverse()},Ee.$$arity=0),e.defn(Qe,"$reverse_each",Ae=function(){var e,t=this,n=Ae.$$p,$=n||a;return n&&(Ae.$$p=null),$===a?u(t,"enum_for",["reverse_each"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e)):(u(t.$reverse(),"each",[],$.$to_proc()),t)},Ae.$$arity=0),e.defn(Qe,"$rindex",Se=function(e){var t=this,n=Se.$$p,$=n||a;n&&(Se.$$p=null);var r,o;if(null!=e){for(r=t.length-1;r>=0&&!(r>=t.length);r--)if(t[r]["$=="](e))return r}else if($!==a){for(r=t.length-1;r>=0&&!(r>=t.length);r--)if((o=$(t[r]))!==!1&&o!==a)return r}else if(null==e)return t.$enum_for("rindex");return a},Se.$$arity=-1),e.defn(Qe,"$rotate",Re=function(t){var n=this;null==t&&(t=1),t=e.Opal.$coerce_to(t,e.Integer,"to_int");var $,r,o,i;return 1===n.length?n.slice():0===n.length?[]:($=n.slice(),r=t%$.length,o=$.slice(r),i=$.slice(0,r),o.concat(i))},Re.$$arity=-1),e.defn(Qe,"$rotate!",Me=function(t){var n=this,$=a;return null==t&&(t=1),0===n.length||1===n.length?n:(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),$=n.$rotate(t),n.$replace($))},Me.$$arity=-1),function(t,n,$){function r(){}var o,i,l=r=s(t,null,"SampleRandom",r),c=l.$$proto,u=l.$$scope,_=$.slice().concat(u);c.rng=a,e.defn(l,"$initialize",o=function(e){return this.rng=e},o.$$arity=1),e.defn(l,"$rand",i=function(t){var n,$=this,r=a;return r=e.Opal.$coerce_to($.rng.$rand(t),e.Integer,"to_int"),(n=r<0)===a||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(_,"RangeError",!0,!0),"random value must be >= 0"),((n=r<t)===a||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(_,"RangeError",!0,!0),"random value must be less than Array size"),r},i.$$arity=1)}(tt.base,0,nt),e.defn(Qe,"$sample",Te=function(t,n){var $,r=this,o=a,i=a;if(($=void 0===t)!==a&&null!=$&&(!$.$$is_boolean||1==$))return r.$at(e.const_get(nt,"Kernel",!0,!0).$rand(r.length));if(($=void 0===n)===a||null==$||$.$$is_boolean&&1!=$?(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),n=e.Opal.$coerce_to(n,e.const_get(nt,"Hash",!0,!0),"to_hash")):($=o=e.Opal["$coerce_to?"](t,e.const_get(nt,"Hash",!0,!0),"to_hash"))===a||null==$||$.$$is_boolean&&1!=$?(n=a,t=e.Opal.$coerce_to(t,e.Integer,"to_int")):(n=o,t=a),($=t!==!1&&t!==a&&null!=t?t<0:t)===a||null==$||$.$$is_boolean&&1!=$||r.$raise(e.const_get(nt,"ArgumentError",!0,!0),"count must be greater than 0"),n!==!1&&n!==a&&null!=n&&(i=n["$[]"]("random")),i=($=i!==!1&&i!==a&&null!=i?i["$respond_to?"]("rand"):i)===a||null==$||$.$$is_boolean&&1!=$?e.const_get(nt,"Kernel",!0,!0):e.const_get(nt,"SampleRandom",!0,!0).$new(i),t===!1||t===a||null==t)return r[i.$rand(r.length)];var l,s,c,u,_,d,f,p;switch(t>r.length&&(t=r.length),t){case 0:return[];case 1:return[r[i.$rand(r.length)]];case 2:return u=i.$rand(r.length),_=i.$rand(r.length),u===_&&(_=0===u?u+1:u-1),[r[u],r[_]];default:if(r.length/t>3){for(l=!1,s=0,c=e.const_get(nt,"Array",!0,!0).$new(t),u=1,c[0]=i.$rand(r.length);u<t;){for(d=i.$rand(r.length),_=0;_<u;){for(;d===c[_];){if(++s>100){l=!0;break}d=i.$rand(r.length)}if(l)break;_++}if(l)break;c[u]=d,u++}if(!l){for(u=0;u<t;)c[u]=r[c[u]],u++;return c}}c=r.slice();for(var h=0;h<t;h++)f=i.$rand(r.length),p=c[h],c[h]=c[f],c[f]=p;return t===r.length?c:c["$[]"](0,t)}},Te.$$arity=-1),e.defn(Qe,"$select",Ie=function(){var t,n=this,$=Ie.$$p,r=$||a;if($&&(Ie.$$p=null),r===a)return u(n,"enum_for",["select"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,l=[],s=0,c=n.length;s<c;s++)o=n[s],(i=e.yield1(r,o))!==!1&&i!==a&&l.push(o);return l},Ie.$$arity=0),e.defn(Qe,"$select!",Ce=function(){var e,t=this,n=Ce.$$p,$=n||a;if(n&&(Ce.$$p=null),$===a)return u(t,"enum_for",["select!"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));var r=t.length;return u(t,"keep_if",[],$.$to_proc()),t.length===r?a:t},Ce.$$arity=0),e.defn(Qe,"$shift",Ne=function(t){var n,$=this;return(n=void 0===t)===a||null==n||n.$$is_boolean&&1!=n?(t=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=t<0)===a||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(nt,"ArgumentError",!0,!0),"negative array size"),(n=0===$.length)===a||null==n||n.$$is_boolean&&1!=n?$.splice(0,t):[]):(n=0===$.length)===a||null==n||n.$$is_boolean&&1!=n?$.shift():a},Ne.$$arity=-1),e.alias(Qe,"size","length"),e.defn(Qe,"$shuffle",je=function(e){return this.$dup().$to_a()["$shuffle!"](e)},je.$$arity=-1),e.defn(Qe,"$shuffle!",Le=function(t){var n,$,r,o=this,i=o.length;for(void 0!==t&&(t=e.Opal["$coerce_to?"](t,e.const_get(nt,"Hash",!0,!0),"to_hash"))!==a&&(t=t["$[]"]("random"))!==a&&t["$respond_to?"]("rand")&&(n=t);i;)n?($=n.$rand(i).$to_int(),$<0&&o.$raise(e.const_get(nt,"RangeError",!0,!0),"random number too small "+$),$>=i&&o.$raise(e.const_get(nt,"RangeError",!0,!0),"random number too big "+$)):$=o.$rand(i),r=o[--i],o[i]=o[$],o[$]=r;return o},Le.$$arity=-1),e.alias(Qe,"slice","[]"),e.defn(Qe,"$slice!",ze=function(t,n){var $,r=this,o=a,i=a,l=a,s=a,c=a;if(o=a,($=void 0===n)===a||null==$||$.$$is_boolean&&1!=$){if(c=e.Opal.$coerce_to(t,e.Integer,"to_int"),(n=e.Opal.$coerce_to(n,e.Integer,"to_int"))<0)return a;o=r["$[]"](c,n),c<0&&(c+=r.length),c+n>r.length&&(n=r.length-c),c<r.length&&c>=0&&r.splice(c,n)}else if(($=e.const_get(nt,"Range",!0,!0)["$==="](t))===a||null==$||$.$$is_boolean&&1!=$){if(c=e.Opal.$coerce_to(t,e.Integer,"to_int"),c<0&&(c+=r.length),c<0||c>=r.length)return a;o=r[c],0===c?r.shift():r.splice(c,1)}else{i=t,o=r["$[]"](i),l=e.Opal.$coerce_to(i.$begin(),e.Integer,"to_int"),s=e.Opal.$coerce_to(i.$end(),e.Integer,"to_int"),l<0&&(l+=r.length),s<0?s+=r.length:s>=r.length&&(s=r.length-1,i.exclude&&(s+=1));var u=s-l;i.exclude?s-=1:u+=1,l<r.length&&l>=0&&s<r.length&&s>=0&&u>0&&r.splice(l,u)}return o},ze.$$arity=-2),e.defn(Qe,"$sort",Pe=function(){var n,$=this,o=Pe.$$p,i=o||a;return o&&(Pe.$$p=null),(n=$.length>1)===a||null==n||n.$$is_boolean&&1!=n?$:(i===a&&(i=function(e,t){return e["$<=>"](t)}),$.slice().sort(function(n,o){var l=i(n,o);return l===a&&$.$raise(e.const_get(nt,"ArgumentError",!0,!0),"comparison of "+n.$inspect()+" with "+o.$inspect()+" failed"),t(l,0)?1:r(l,0)?-1:0}))},Pe.$$arity=0),e.defn(Qe,"$sort!",De=function(){var e=this,t=De.$$p,n=t||a;t&&(De.$$p=null);var $;$=n!==a?u(e.slice(),"sort",[],n.$to_proc()):e.slice().$sort(),e.length=0;for(var r=0,o=$.length;r<o;r++)e.push($[r]);return e},De.$$arity=0),e.defn(Qe,"$sort_by!",Be=function(){var e,t=this,n=Be.$$p,$=n||a;return n&&(Be.$$p=null),$===a?u(t,"enum_for",["sort_by!"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e)):t.$replace(u(t,"sort_by",[],$.$to_proc()))},Be.$$arity=0),e.defn(Qe,"$take",qe=function(t){var n=this;return t<0&&n.$raise(e.const_get(nt,"ArgumentError",!0,!0)),n.slice(0,t)},qe.$$arity=1),e.defn(Qe,"$take_while",Fe=function(){var e=this,t=Fe.$$p,n=t||a;t&&(Fe.$$p=null);for(var $,r,o=[],i=0,l=e.length;i<l;i++){if($=e[i],(r=n($))===!1||r===a)return o;o.push($)}return o},Fe.$$arity=0),e.defn(Qe,"$to_a",Ue=function(){return this},Ue.$$arity=0),e.alias(Qe,"to_ary","to_a"),e.defn(Qe,"$to_h",Ge=function(){var t,n,$,r,o=this,i=o.length,l=c([],{});for(t=0;t<i;t++)n=e.Opal["$coerce_to?"](o[t],e.const_get(nt,"Array",!0,!0),"to_ary"),n.$$is_array||o.$raise(e.const_get(nt,"TypeError",!0,!0),"wrong element type "+n.$class()+" at "+t+" (expected array)"),2!==n.length&&o.$raise(e.const_get(nt,"ArgumentError",!0,!0),"wrong array length at "+t+" (expected 2, was "+n.$length()+")"),$=n[0],r=n[1],e.hash_put(l,$,r);return l},Ge.$$arity=0),e.alias(Qe,"to_s","inspect"),e.defn(Qe,"$transpose",He=function(){var t,n,$=this,r=a,o=a;return(t=$["$empty?"]())===a||null==t||t.$$is_boolean&&1!=t?(r=[],o=a,u($,"each",[],(n=function(t){var $,i,l=n.$$s||this;return null==t&&(t=a),t=($=e.const_get(nt,"Array",!0,!0)["$==="](t))===a||null==$||$.$$is_boolean&&1!=$?e.Opal.$coerce_to(t,e.const_get(nt,"Array",!0,!0),"to_ary").$to_a():t.$to_a(),($=o)!==!1&&$!==a&&null!=$||(o=t.length),($=t.length["$!="](o))===a||null==$||$.$$is_boolean&&1!=$||l.$raise(e.const_get(nt,"IndexError",!0,!0),"element size differs ("+t.length+" should be "+o),u(t.length,"times",[],(i=function(e){var n,$,o,l=(i.$$s,a);return null==e&&(e=a),n=e,$=r,l=(o=$["$[]"](n))!==!1&&o!==a&&null!=o?o:$["$[]="](n,[]),l["$<<"](t.$at(e))},i.$$s=l,i.$$arity=1,i))},n.$$s=$,n.$$arity=1,n)),r):[]},He.$$arity=0),e.defn(Qe,"$uniq",Ye=function(){var t=this,n=Ye.$$p,$=n||a;n&&(Ye.$$p=null);var r,o,i,l,s=c([],{});if($===a)for(r=0,o=t.length;r<o;r++)i=t[r],void 0===e.hash_get(s,i)&&e.hash_put(s,i,i);else for(r=0,o=t.length;r<o;r++)i=t[r],l=e.yield1($,i),void 0===e.hash_get(s,l)&&e.hash_put(s,l,i);return f(s.$values(),t.$class())},Ye.$$arity=0),e.defn(Qe,"$uniq!",Ke=function(){var t=this,n=Ke.$$p,$=n||a;n&&(Ke.$$p=null);var r,o,i,l,s=t.length,u=c([],{});for(r=0,o=s;r<o;r++)i=t[r],l=$===a?i:e.yield1($,i),void 0!==e.hash_get(u,l)?(t.splice(r,1),o--,r--):e.hash_put(u,l,i);return t.length===s?a:t},Ke.$$arity=0),e.defn(Qe,"$unshift",We=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];for(var i=t.length-1;i>=0;i--)n.unshift(t[i]);return n},We.$$arity=-1),e.defn(Qe,"$values_at",Xe=function(t){var n,$,r=this,o=a,i=arguments.length,l=i-0;l<0&&(l=0),$=new Array(l);for(var s=0;s<i;s++)$[s-0]=arguments[s];return o=[],u($,"each",[],(n=function(t){
var $,r,i=n.$$s||this,l=a,s=a,c=a;return null==t&&(t=a),($=t["$kind_of?"](e.const_get(nt,"Range",!0,!0)))===a||null==$||$.$$is_boolean&&1!=$?(c=e.Opal.$coerce_to(t,e.Integer,"to_int"),o["$<<"](i.$at(c))):(l=e.Opal.$coerce_to(t.$last(),e.Integer,"to_int"),(s=e.Opal.$coerce_to(t.$first(),e.Integer,"to_int"))<0?(s+=i.length,a):(l<0&&(l+=i.length),t["$exclude_end?"]()&&l--,l<s?a:u(s,"upto",[l],(r=function(e){var t=r.$$s||this;return null==e&&(e=a),o["$<<"](t.$at(e))},r.$$s=i,r.$$arity=1,r))))},n.$$s=r,n.$$arity=1,n)),o},Xe.$$arity=-1),e.defn(Qe,"$zip",Ve=function(t){var n,$,r=this,o=Ve.$$p,i=o||a,l=arguments.length,s=l-0;s<0&&(s=0),$=new Array(s);for(var c=0;c<l;c++)$[c-0]=arguments[c];o&&(Ve.$$p=null);var u,_,d,f,p,h=[],g=r.length;for(f=0,p=$.length;f<p;f++)_=$[f],_.$$is_array||(_.$$is_enumerator?1/0===_.$size()?$[f]=_.$take(g):$[f]=_.$to_a():$[f]=((n=e.Opal["$coerce_to?"](_,e.const_get(nt,"Array",!0,!0),"to_ary"))!==!1&&n!==a&&null!=n?n:e.Opal["$coerce_to!"](_,e.const_get(nt,"Enumerator",!0,!0),"each")).$to_a());for(d=0;d<g;d++){for(u=[r[d]],f=0,p=$.length;f<p;f++)_=$[f][d],null==_&&(_=a),u[f+1]=_;h[d]=u}if(i!==a){for(d=0;d<g;d++)i(h[d]);return a}return h},Ve.$$arity=-1),e.defs(Qe,"$inherited",Je=function(e){e.$$proto.$to_a=function(){return this.slice(0,this.length)}},Je.$$arity=1),e.defn(Qe,"$instance_variables",Ze=function(){var t,n=this,$=Ze.$$p,r=a,o=a,i=a;for($&&(Ze.$$p=null),o=0,i=arguments.length,r=new Array(i);o<i;o++)r[o]=arguments[o];return u(u(n,e.find_super_dispatcher(n,"instance_variables",Ze,!1),r,$),"reject",[],(t=function(e){var n;t.$$s;return null==e&&(e=a),(n=/^@\d+$/.test(e))!==!1&&n!==a&&null!=n?n:e["$=="]("@length")},t.$$s=n,t.$$arity=1,t))},Ze.$$arity=0),e.Opal.$pristine(Qe,"allocate","copy_instance_variables","initialize_dup")}(i.base,Array,l)},Opal.modules["corelib/hash"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=e.top,o=e,i=[e],l=e.nil,a=(e.breaker,e.slice,e.klass),s=e.send;return e.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$lambda?","$abs","$arity","$call","$enum_for","$size","$respond_to?","$class","$dig","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$alias_method","$proc"]),r.$require("corelib/enumerable"),function(r,o,i){function c(){}var u,_,d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,oe,ie,le,ae,se,ce=c=a(r,null,"Hash",c),ue=ce.$$proto,_e=ce.$$scope,de=i.slice().concat(_e);ce.$include(e.const_get(de,"Enumerable",!0,!0)),ue.$$is_hash=!0,e.defs(ce,"$[]",u=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];var a,s,c=n.length;if(1===c){if((a=e.Opal["$coerce_to?"](n["$[]"](0),e.const_get(de,"Hash",!0,!0),"to_hash"))!==l)return $.$allocate()["$merge!"](a);for(n=e.Opal["$coerce_to?"](n["$[]"](0),e.const_get(de,"Array",!0,!0),"to_ary"),n===l&&$.$raise(e.const_get(de,"ArgumentError",!0,!0),"odd number of arguments for Hash"),c=n.length,a=$.$allocate(),s=0;s<c;s++)if(n[s].$$is_array)switch(n[s].length){case 1:a.$store(n[s][0],l);break;case 2:a.$store(n[s][0],n[s][1]);break;default:$.$raise(e.const_get(de,"ArgumentError",!0,!0),"invalid number of elements ("+n[s].length+" for 1..2)")}return a}for(c%2!=0&&$.$raise(e.const_get(de,"ArgumentError",!0,!0),"odd number of arguments for Hash"),a=$.$allocate(),s=0;s<c;s+=2)a.$store(n[s],n[s+1]);return a},u.$$arity=-1),e.defs(ce,"$allocate",_=function(){var t=this,n=new t.$$alloc;return e.hash_init(n),n.$$none=l,n.$$proc=l,n},_.$$arity=0),e.defs(ce,"$try_convert",d=function(t){return e.Opal["$coerce_to?"](t,e.const_get(de,"Hash",!0,!0),"to_hash")},d.$$arity=1),e.defn(ce,"$initialize",f=function(t){var n=this,$=f.$$p,r=$||l;return $&&(f.$$p=null),void 0!==t&&r!==l&&n.$raise(e.const_get(de,"ArgumentError",!0,!0),"wrong number of arguments (1 for 0)"),n.$$none=void 0===t?l:t,n.$$proc=r,n},f.$$arity=-1),e.defn(ce,"$==",p=function(t){var n=this;if(n===t)return!0;if(!t.$$is_hash)return!1;if(n.$$keys.length!==t.$$keys.length)return!1;for(var $,r,o,i=0,l=n.$$keys,a=l.length;i<a;i++)if($=l[i],$.$$is_string?(r=n.$$smap[$],o=t.$$smap[$]):(r=$.value,o=e.hash_get(t,$.key)),void 0===o||!r["$eql?"](o))return!1;return!0},p.$$arity=1),e.defn(ce,"$>=",h=function(t){var n,$=this,r=l;return t=e.Opal["$coerce_to!"](t,e.const_get(de,"Hash",!0,!0),"to_hash"),!($.$$keys.length<t.$$keys.length)&&(r=!0,s(t,"each",[],(n=function(e,t){var $=n.$$s||this,o=l;if(null==e&&(e=l),null==t&&(t=l),null==(o=$.$fetch(e,null))||o!==t)return void(r=!1)},n.$$s=$,n.$$arity=2,n)),r)},h.$$arity=1),e.defn(ce,"$>",g=function(n){var $=this;return n=e.Opal["$coerce_to!"](n,e.const_get(de,"Hash",!0,!0),"to_hash"),!($.$$keys.length<=n.$$keys.length)&&t($,n)},g.$$arity=1),e.defn(ce,"$<",b=function(t){var $=this;return t=e.Opal["$coerce_to!"](t,e.const_get(de,"Hash",!0,!0),"to_hash"),n(t,$)},b.$$arity=1),e.defn(ce,"$<=",m=function(n){var $=this;return n=e.Opal["$coerce_to!"](n,e.const_get(de,"Hash",!0,!0),"to_hash"),t(n,$)},m.$$arity=1),e.defn(ce,"$[]",y=function(t){var n=this,$=e.hash_get(n,t);return void 0!==$?$:n.$default(t)},y.$$arity=1),e.defn(ce,"$[]=",v=function(t,n){var $=this;return e.hash_put($,t,n),n},v.$$arity=2),e.defn(ce,"$assoc",w=function(e){for(var t,n=this,$=0,r=n.$$keys,o=r.length;$<o;$++)if(t=r[$],t.$$is_string){if(t["$=="](e))return[t,n.$$smap[t]]}else if(t.key["$=="](e))return[t.key,t.value];return l},w.$$arity=1),e.defn(ce,"$clear",k=function(){var t=this;return e.hash_init(t),t},k.$$arity=0),e.defn(ce,"$clone",x=function(){var t=this,n=new t.$$class.$$alloc;return e.hash_init(n),e.hash_clone(t,n),n},x.$$arity=0),e.defn(ce,"$default",O=function(e){var t=this;return void 0!==e&&t.$$proc!==l&&void 0!==t.$$proc?t.$$proc.$call(t,e):void 0===t.$$none?l:t.$$none},O.$$arity=-1),e.defn(ce,"$default=",E=function(e){var t=this;return t.$$proc=l,t.$$none=e,e},E.$$arity=1),e.defn(ce,"$default_proc",A=function(){var e=this;return void 0!==e.$$proc?e.$$proc:l},A.$$arity=0),e.defn(ce,"$default_proc=",S=function(t){var n=this,$=t;return $!==l&&($=e.Opal["$coerce_to!"]($,e.const_get(de,"Proc",!0,!0),"to_proc"),$["$lambda?"]()&&2!==$.$arity().$abs()&&n.$raise(e.const_get(de,"TypeError",!0,!0),"default_proc takes two arguments")),n.$$none=l,n.$$proc=$,t},S.$$arity=1),e.defn(ce,"$delete",R=function(t){var n=this,$=R.$$p,r=$||l;$&&(R.$$p=null);var o=e.hash_delete(n,t);return void 0!==o?o:r!==l?r.$call(t):l},R.$$arity=1),e.defn(ce,"$delete_if",M=function(){var t,n=this,$=M.$$p,r=$||l;if($&&(M.$$p=null),r===!1||r===l||null==r)return s(n,"enum_for",["delete_if"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=0,u=n.$$keys,_=u.length;c<_;c++)o=u[c],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=r(o,i))!==!1&&a!==l&&void 0!==e.hash_delete(n,o)&&(_--,c--);return n},M.$$arity=0),e.alias(ce,"dup","clone"),e.defn(ce,"$dig",T=function(t,n){var $,r,o=this,i=l,a=arguments.length,c=a-1;c<0&&(c=0),r=new Array(c);for(var u=1;u<a;u++)r[u-1]=arguments[u];return(i=o["$[]"](t))===l||0===r.length?i:((($=i["$respond_to?"]("dig"))===l||null==$||$.$$is_boolean&&1!=$)&&o.$raise(e.const_get(de,"TypeError",!0,!0),i.$class()+" does not have #dig method"),s(i,"dig",e.to_a(r)))},T.$$arity=-2),e.defn(ce,"$each",I=function(){var t,n=this,$=I.$$p,r=$||l;if($&&(I.$$p=null),r===!1||r===l||null==r)return s(n,"enum_for",["each"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a=0,c=n.$$keys,u=c.length;a<u;a++)o=c[a],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),e.yield1(r,[o,i]);return n},I.$$arity=0),e.defn(ce,"$each_key",C=function(){var e,t=this,n=C.$$p,$=n||l;if(n&&(C.$$p=null),$===!1||$===l||null==$)return s(t,"enum_for",["each_key"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));for(var r,o=0,i=t.$$keys,a=i.length;o<a;o++)r=i[o],$(r.$$is_string?r:r.key);return t},C.$$arity=0),e.alias(ce,"each_pair","each"),e.defn(ce,"$each_value",N=function(){var e,t=this,n=N.$$p,$=n||l;if(n&&(N.$$p=null),$===!1||$===l||null==$)return s(t,"enum_for",["each_value"],(e=function(){return(e.$$s||this).$size()},e.$$s=t,e.$$arity=0,e));for(var r,o=0,i=t.$$keys,a=i.length;o<a;o++)r=i[o],$(r.$$is_string?t.$$smap[r]:r.value);return t},N.$$arity=0),e.defn(ce,"$empty?",j=function(){return 0===this.$$keys.length},j.$$arity=0),e.alias(ce,"eql?","=="),e.defn(ce,"$fetch",L=function(t,n){var $=this,r=L.$$p,o=r||l;r&&(L.$$p=null);var i=e.hash_get($,t);return void 0!==i?i:o!==l?o(t):void 0!==n?n:$.$raise(e.const_get(de,"KeyError",!0,!0),"key not found: "+t.$inspect())},L.$$arity=-2),e.defn(ce,"$fetch_values",z=function(e){var t,n,$=this,r=z.$$p,o=r||l,i=arguments.length,a=i-0;a<0&&(a=0),n=new Array(a);for(var c=0;c<i;c++)n[c-0]=arguments[c];return r&&(z.$$p=null),s(n,"map",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=l),s(n,"fetch",[e],o.$to_proc())},t.$$s=$,t.$$arity=1,t))},z.$$arity=-1),e.defn(ce,"$flatten",P=function(t){var n=this;null==t&&(t=1),t=e.Opal["$coerce_to!"](t,e.Integer,"to_int");for(var $,r,o=[],i=0,l=n.$$keys,a=l.length;i<a;i++)if($=l[i],$.$$is_string?r=n.$$smap[$]:(r=$.value,$=$.key),o.push($),r.$$is_array){if(1===t){o.push(r);continue}o=o.concat(r.$flatten(t-2))}else o.push(r);return o},P.$$arity=-1),e.defn(ce,"$has_key?",D=function(t){var n=this;return void 0!==e.hash_get(n,t)},D.$$arity=1),e.defn(ce,"$has_value?",B=function(e){for(var t,n=this,$=0,r=n.$$keys,o=r.length;$<o;$++)if(t=r[$],(t.$$is_string?n.$$smap[t]:t.value)["$=="](e))return!0;return!1},B.$$arity=1),e.defn(ce,"$hash",q=function(){var t,n,$=this,r=void 0===e.hash_ids,o=$.$object_id(),i=["Hash"];try{if(r&&(e.hash_ids={}),e.hash_ids.hasOwnProperty(o))return"self";for(t in e.hash_ids)if(e.hash_ids.hasOwnProperty(t)&&(n=e.hash_ids[t],$["$eql?"](n)))return"self";e.hash_ids[o]=$;for(var l=0,a=$.$$keys,s=a.length;l<s;l++)t=a[l],t.$$is_string?i.push([t,$.$$smap[t].$hash()]):i.push([t.key_hash,t.value.$hash()]);return i.sort().join()}finally{r&&delete e.hash_ids}},q.$$arity=0),e.alias(ce,"include?","has_key?"),e.defn(ce,"$index",F=function(e){for(var t,n,$=this,r=0,o=$.$$keys,i=o.length;r<i;r++)if(t=o[r],t.$$is_string?n=$.$$smap[t]:(n=t.value,t=t.key),n["$=="](e))return t;return l},F.$$arity=1),e.defn(ce,"$indexes",U=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];for(var l,a,s=[],c=0,u=n.length;c<u;c++)l=n[c],a=e.hash_get($,l),void 0!==a?s.push(a):s.push($.$default());return s},U.$$arity=-1),e.alias(ce,"indices","indexes");var fe;return e.defn(ce,"$inspect",G=function(){var e=this,t=void 0===fe,n=e.$object_id(),$=[];try{if(t&&(fe={}),fe.hasOwnProperty(n))return"{...}";fe[n]=!0;for(var r,o,i=0,l=e.$$keys,a=l.length;i<a;i++)r=l[i],r.$$is_string?o=e.$$smap[r]:(o=r.value,r=r.key),$.push(r.$inspect()+"=>"+o.$inspect());return"{"+$.join(", ")+"}"}finally{t&&(fe=void 0)}},G.$$arity=0),e.defn(ce,"$invert",H=function(){for(var t,n,$=this,r=e.hash(),o=0,i=$.$$keys,l=i.length;o<l;o++)t=i[o],t.$$is_string?n=$.$$smap[t]:(n=t.value,t=t.key),e.hash_put(r,n,t);return r},H.$$arity=0),e.defn(ce,"$keep_if",Y=function(){var t,n=this,$=Y.$$p,r=$||l;if($&&(Y.$$p=null),r===!1||r===l||null==r)return s(n,"enum_for",["keep_if"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=0,u=n.$$keys,_=u.length;c<_;c++)o=u[c],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=r(o,i))!==!1&&a!==l||void 0!==e.hash_delete(n,o)&&(_--,c--);return n},Y.$$arity=0),e.alias(ce,"key","index"),e.alias(ce,"key?","has_key?"),e.defn(ce,"$keys",K=function(){for(var e,t=this,n=[],$=0,r=t.$$keys,o=r.length;$<o;$++)e=r[$],e.$$is_string?n.push(e):n.push(e.key);return n},K.$$arity=0),e.defn(ce,"$length",W=function(){return this.$$keys.length},W.$$arity=0),e.alias(ce,"member?","has_key?"),e.defn(ce,"$merge",X=function(e){var t=this,n=X.$$p,$=n||l;return n&&(X.$$p=null),s(t.$dup(),"merge!",[e],$.$to_proc())},X.$$arity=1),e.defn(ce,"$merge!",V=function(t){var n=this,$=V.$$p,r=$||l;$&&(V.$$p=null),t.$$is_hash||(t=e.Opal["$coerce_to!"](t,e.const_get(de,"Hash",!0,!0),"to_hash"));var o,i,a,s,c=t.$$keys,u=c.length;if(r===l){for(o=0;o<u;o++)i=c[o],i.$$is_string?s=t.$$smap[i]:(s=i.value,i=i.key),e.hash_put(n,i,s);return n}for(o=0;o<u;o++)i=c[o],i.$$is_string?s=t.$$smap[i]:(s=i.value,i=i.key),a=e.hash_get(n,i),void 0!==a?e.hash_put(n,i,r(i,a,s)):e.hash_put(n,i,s);return n},V.$$arity=1),e.defn(ce,"$rassoc",J=function(e){for(var t,n,$=this,r=0,o=$.$$keys,i=o.length;r<i;r++)if(t=o[r],t.$$is_string?n=$.$$smap[t]:(n=t.value,t=t.key),n["$=="](e))return[t,n];return l},J.$$arity=1),e.defn(ce,"$rehash",Z=function(){var t=this;return e.hash_rehash(t),t},Z.$$arity=0),e.defn(ce,"$reject",Q=function(){var t,n=this,$=Q.$$p,r=$||l;if($&&(Q.$$p=null),r===!1||r===l||null==r)return s(n,"enum_for",["reject"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=e.hash(),u=0,_=n.$$keys,d=_.length;u<d;u++)o=_[u],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=r(o,i))!==!1&&a!==l||e.hash_put(c,o,i);return c},Q.$$arity=0),e.defn(ce,"$reject!",ee=function(){var t,n=this,$=ee.$$p,r=$||l;if($&&(ee.$$p=null),r===!1||r===l||null==r)return s(n,"enum_for",["reject!"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=!1,u=0,_=n.$$keys,d=_.length;u<d;u++)o=_[u],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=r(o,i))!==!1&&a!==l&&void 0!==e.hash_delete(n,o)&&(c=!0,d--,u--);return c?n:l},ee.$$arity=0),e.defn(ce,"$replace",te=function(t){var n,r=this,o=l;t=e.Opal["$coerce_to!"](t,e.const_get(de,"Hash",!0,!0),"to_hash"),e.hash_init(r);for(var i,a,c=0,u=t.$$keys,_=u.length;c<_;c++)i=u[c],i.$$is_string?a=t.$$smap[i]:(a=i.value,i=i.key),e.hash_put(r,i,a);return(n=t.$default_proc())===l||null==n||n.$$is_boolean&&1!=n?(o=[t.$default()],s(r,"default=",e.to_a(o)),o[$(o.length,1)]):(o=[t.$default_proc()],s(r,"default_proc=",e.to_a(o)),o[$(o.length,1)]),r},te.$$arity=1),e.defn(ce,"$select",ne=function(){var t,n=this,$=ne.$$p,r=$||l;if($&&(ne.$$p=null),r===!1||r===l||null==r)return s(n,"enum_for",["select"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=e.hash(),u=0,_=n.$$keys,d=_.length;u<d;u++)o=_[u],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=r(o,i))!==!1&&a!==l&&e.hash_put(c,o,i);return c},ne.$$arity=0),e.defn(ce,"$select!",$e=function(){var t,n=this,$=$e.$$p,r=$||l;if($&&($e.$$p=null),r===!1||r===l||null==r)return s(n,"enum_for",["select!"],(t=function(){return(t.$$s||this).$size()},t.$$s=n,t.$$arity=0,t));for(var o,i,a,c=l,u=0,_=n.$$keys,d=_.length;u<d;u++)o=_[u],o.$$is_string?i=n.$$smap[o]:(i=o.value,o=o.key),(a=r(o,i))!==!1&&a!==l||(void 0!==e.hash_delete(n,o)&&(d--,u--),c=n);return c},$e.$$arity=0),e.defn(ce,"$shift",re=function(){var t,n=this,$=n.$$keys;return $.length>0?(t=$[0],t=t.$$is_string?t:t.key,[t,e.hash_delete(n,t)]):n.$default(l)},re.$$arity=0),e.alias(ce,"size","length"),ce.$alias_method("store","[]="),e.defn(ce,"$to_a",oe=function(){for(var e,t,n=this,$=[],r=0,o=n.$$keys,i=o.length;r<i;r++)e=o[r],e.$$is_string?t=n.$$smap[e]:(t=e.value,e=e.key),$.push([e,t]);return $},oe.$$arity=0),e.defn(ce,"$to_h",ie=function(){var t=this;if(t.$$class===e.Hash)return t;var n=new e.Hash.$$alloc;return e.hash_init(n),e.hash_clone(t,n),n},ie.$$arity=0),e.defn(ce,"$to_hash",le=function(){return this},le.$$arity=0),e.defn(ce,"$to_proc",ae=function(){var t,n=this;return s(n,"proc",[],(t=function(n){var $=t.$$s||this;return null==n&&$.$raise(e.const_get(de,"ArgumentError",!0,!0),"no key given"),$["$[]"](n)},t.$$s=n,t.$$arity=-1,t))},ae.$$arity=0),e.alias(ce,"to_s","inspect"),e.alias(ce,"update","merge!"),e.alias(ce,"value?","has_value?"),e.alias(ce,"values_at","indexes"),e.defn(ce,"$values",se=function(){for(var e,t=this,n=[],$=0,r=t.$$keys,o=r.length;$<o;$++)e=r[$],e.$$is_string?n.push(t.$$smap[e]):n.push(e.value);return n},se.$$arity=0),l&&"values"}(o.base,0,i)},Opal.modules["corelib/number"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var s=e.top,c=e,u=[e],_=e.nil,d=(e.breaker,e.slice,e.klass),f=e.send,p=e.hash2;return e.add_stubs(["$require","$bridge","$raise","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>="]),s.$require("corelib/numeric"),function(s,c,u){function h(){}var g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,oe,ie,le,ae,se,ce,ue,_e,de,fe,pe,he,ge,be,me,ye,ve,we,ke,xe,Oe,Ee,Ae,Se=h=d(s,c,"Number",h),Re=(Se.$$proto,Se.$$scope),Me=u.slice().concat(Re);e.Opal.$bridge(Se,Number),Number.prototype.$$is_number=!0,Se.$$is_number_class=!0,e.defn(Se,"$coerce",g=function(t){var n=this;if(t===_)n.$raise(e.const_get(Me,"TypeError",!0,!0),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[n.$Float(t),n];if(t["$respond_to?"]("to_f"))return[e.Opal["$coerce_to!"](t,e.const_get(Me,"Float",!0,!0),"to_f"),n];if(t.$$is_number)return[t,n];n.$raise(e.const_get(Me,"TypeError",!0,!0),"can't convert "+t.$class()+" into Float")}},g.$$arity=1),e.defn(Se,"$__id__",b=function(){return 2*this+1},b.$$arity=0),e.alias(Se,"object_id","__id__"),e.defn(Se,"$+",m=function(e){var t=this;return e.$$is_number?t+e:t.$__coerced__("+",e)},m.$$arity=1),e.defn(Se,"$-",y=function(e){var t=this;return e.$$is_number?t-e:t.$__coerced__("-",e)},y.$$arity=1),e.defn(Se,"$*",v=function(e){var t=this;return e.$$is_number?t*e:t.$__coerced__("*",e)},v.$$arity=1),e.defn(Se,"$/",w=function(e){var t=this;return e.$$is_number?t/e:t.$__coerced__("/",e)},w.$$arity=1),e.alias(Se,"fdiv","/"),e.defn(Se,"$%",k=function(t){var n=this;return t.$$is_number?t==-1/0?t:0!=t?t<0||n<0?(n%t+t)%t:n%t:void n.$raise(e.const_get(Me,"ZeroDivisionError",!0,!0),"divided by 0"):n.$__coerced__("%",t)},k.$$arity=1),e.defn(Se,"$&",x=function(e){var t=this;return e.$$is_number?t&e:t.$__coerced__("&",e)},x.$$arity=1),e.defn(Se,"$|",O=function(e){var t=this;return e.$$is_number?t|e:t.$__coerced__("|",e)},O.$$arity=1),e.defn(Se,"$^",E=function(e){var t=this;return e.$$is_number?t^e:t.$__coerced__("^",e)},E.$$arity=1),e.defn(Se,"$<",A=function(e){var t=this;return e.$$is_number?t<e:t.$__coerced__("<",e)},A.$$arity=1),e.defn(Se,"$<=",S=function(e){var t=this;return e.$$is_number?t<=e:t.$__coerced__("<=",e)},S.$$arity=1),e.defn(Se,"$>",R=function(e){var t=this;return e.$$is_number?t>e:t.$__coerced__(">",e)},R.$$arity=1),e.defn(Se,"$>=",M=function(e){var t=this;return e.$$is_number?t>=e:t.$__coerced__(">=",e)},M.$$arity=1);var Te=function(e,t){return t.$$is_number?isNaN(e)||isNaN(t)?_:e>t?1:e<t?-1:0:e.$__coerced__("<=>",t)};e.defn(Se,"$<=>",T=function(t){var n=this;try{return Te(n,t)}catch(t){if(!e.rescue(t,[e.const_get(Me,"ArgumentError",!0,!0)]))throw t;try{return _}finally{e.pop_exception()}}},T.$$arity=1),e.defn(Se,"$<<",I=function(t){var n=this;return t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),t>0?n<<t:n>>-t},I.$$arity=1),e.defn(Se,"$>>",C=function(t){var n=this;return t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),t>0?n>>t:n<<-t},C.$$arity=1),e.defn(Se,"$[]",N=function(t){var n=this;return t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),t<0?0:t>=32?n<0?1:0:n>>t&1},N.$$arity=1),e.defn(Se,"$+@",j=function(){return+this},j.$$arity=0),e.defn(Se,"$-@",L=function(){return-this},L.$$arity=0),e.defn(Se,"$~",z=function(){return~this},z.$$arity=0),e.defn(Se,"$**",P=function($){var r,o,i,l=this;return(r=e.Integer["$==="]($))===_||null==r||r.$$is_boolean&&1!=r?(r=(o=n(l,0))?(i=e.const_get(Me,"Float",!0,!0)["$==="]($))!==!1&&i!==_&&null!=i?i:e.const_get(Me,"Rational",!0,!0)["$==="]($):n(l,0))===_||null==r||r.$$is_boolean&&1!=r?(r=null!=$.$$is_number)===_||null==r||r.$$is_boolean&&1!=r?l.$__coerced__("**",$):Math.pow(l,$):e.const_get(Me,"Complex",!0,!0).$new(l,0)["$**"]($.$to_f()):(r=(o=e.Integer["$==="](l)["$!"]())!==!1&&o!==_&&null!=o?o:t($,0))===_||null==r||r.$$is_boolean&&1!=r?e.const_get(Me,"Rational",!0,!0).$new(l,1)["$**"]($):Math.pow(l,$)},P.$$arity=1),e.defn(Se,"$===",D=function(e){var t=this;return e.$$is_number?t.valueOf()===e.valueOf():t["$=="](e)},D.$$arity=1),e.defn(Se,"$==",B=function(e){var t=this;return e.$$is_number?t==Number(e):!!e["$respond_to?"]("==")&&e["$=="](t)},B.$$arity=1),e.defn(Se,"$abs",q=function(){var e=this;return Math.abs(e)},q.$$arity=0),e.defn(Se,"$abs2",F=function(){var e=this;return Math.abs(e*e)},F.$$arity=0),e.defn(Se,"$angle",U=function(){var e,t=this;return(e=t["$nan?"]())===_||null==e||e.$$is_boolean&&1!=e?0==t?1/t>0?0:Math.PI:t<0?Math.PI:0:t},U.$$arity=0),e.alias(Se,"arg","angle"),e.alias(Se,"phase","angle"),e.defn(Se,"$bit_length",G=function(){var t,n=this;if(((t=e.Integer["$==="](n))===_||null==t||t.$$is_boolean&&1!=t)&&n.$raise(e.const_get(Me,"NoMethodError",!0,!0).$new("undefined method `bit_length` for "+n+":Float","bit_length")),0===n||n===-1)return 0;for(var $=0,r=n<0?~n:n;0!=r;)$+=1,r>>>=1;return $},G.$$arity=0),e.defn(Se,"$ceil",H=function(){var e=this;return Math.ceil(e)},H.$$arity=0),e.defn(Se,"$chr",Y=function(e){var t=this;return String.fromCharCode(t)},Y.$$arity=-1),e.defn(Se,"$denominator",K=function(){var t,n,$=this,r=K.$$p,o=_,i=_,l=_;for(r&&(K.$$p=null),i=0,l=arguments.length,o=new Array(l);i<l;i++)o[i]=arguments[i];return(t=(n=$["$nan?"]())!==!1&&n!==_&&null!=n?n:$["$infinite?"]())===_||null==t||t.$$is_boolean&&1!=t?f($,e.find_super_dispatcher($,"denominator",K,!1),o,r):1},K.$$arity=0),e.defn(Se,"$downto",W=function(n){var o,i=this,l=W.$$p,a=l||_;if(l&&(W.$$p=null),a===_)return f(i,"enum_for",["downto",n],(o=function(){var i,l=o.$$s||this;return((i=e.const_get(Me,"Numeric",!0,!0)["$==="](n))===_||null==i||i.$$is_boolean&&1!=i)&&l.$raise(e.const_get(Me,"ArgumentError",!0,!0),"comparison of "+l.$class()+" with "+n.$class()+" failed"),(i=t(n,l))===_||null==i||i.$$is_boolean&&1!=i?$(r(l,n),1):0},o.$$s=i,o.$$arity=0,o));n.$$is_number||i.$raise(e.const_get(Me,"ArgumentError",!0,!0),"comparison of "+i.$class()+" with "+n.$class()+" failed");for(var s=i;s>=n;s--)a(s);return i},W.$$arity=1),e.alias(Se,"eql?","=="),e.defn(Se,"$equal?",X=function(e){var t,n=this;return(t=n["$=="](e))!==!1&&t!==_&&null!=t?t:isNaN(n)&&isNaN(e)},X.$$arity=1),e.defn(Se,"$even?",V=function(){return this%2==0},V.$$arity=0),e.defn(Se,"$floor",J=function(){var e=this;return Math.floor(e)},J.$$arity=0),e.defn(Se,"$gcd",Z=function(t){var n,$=this;((n=e.Integer["$==="](t))===_||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(Me,"TypeError",!0,!0),"not an integer");for(var r=Math.abs($),o=Math.abs(t);r>0;){var i=r;r=o%r,o=i}return o},Z.$$arity=1),e.defn(Se,"$gcdlcm",Q=function(e){var t=this;return[t.$gcd(),t.$lcm()]},Q.$$arity=1),e.defn(Se,"$integer?",ee=function(){return this%1==0},ee.$$arity=0),e.defn(Se,"$is_a?",te=function(t){var n,$=this,r=te.$$p,o=_,i=_,l=_;for(r&&(te.$$p=null),i=0,l=arguments.length,o=new Array(l);i<l;i++)o[i]=arguments[i];return!((n=t["$=="](e.const_get(Me,"Fixnum",!0,!0))?e.Integer["$==="]($):t["$=="](e.const_get(Me,"Fixnum",!0,!0)))===_||null==n||n.$$is_boolean&&1!=n)||(!((n=t["$=="](e.Integer)?e.Integer["$==="]($):t["$=="](e.Integer))===_||null==n||n.$$is_boolean&&1!=n)||(!((n=t["$=="](e.const_get(Me,"Float",!0,!0))?e.const_get(Me,"Float",!0,!0)["$==="]($):t["$=="](e.const_get(Me,"Float",!0,!0)))===_||null==n||n.$$is_boolean&&1!=n)||f($,e.find_super_dispatcher($,"is_a?",te,!1),o,r)))},te.$$arity=1),e.alias(Se,"kind_of?","is_a?"),e.defn(Se,"$instance_of?",ne=function(t){var n,$=this,r=ne.$$p,o=_,i=_,l=_;for(r&&(ne.$$p=null),i=0,l=arguments.length,o=new Array(l);i<l;i++)o[i]=arguments[i];return!((n=t["$=="](e.const_get(Me,"Fixnum",!0,!0))?e.Integer["$==="]($):t["$=="](e.const_get(Me,"Fixnum",!0,!0)))===_||null==n||n.$$is_boolean&&1!=n)||(!((n=t["$=="](e.Integer)?e.Integer["$==="]($):t["$=="](e.Integer))===_||null==n||n.$$is_boolean&&1!=n)||(!((n=t["$=="](e.const_get(Me,"Float",!0,!0))?e.const_get(Me,"Float",!0,!0)["$==="]($):t["$=="](e.const_get(Me,"Float",!0,!0)))===_||null==n||n.$$is_boolean&&1!=n)||f($,e.find_super_dispatcher($,"instance_of?",ne,!1),o,r)))},ne.$$arity=1),e.defn(Se,"$lcm",$e=function(t){var n,$=this;return((n=e.Integer["$==="](t))===_||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(Me,"TypeError",!0,!0),"not an integer"),0==$||0==t?0:Math.abs($*t/$.$gcd(t))},$e.$$arity=1),e.alias(Se,"magnitude","abs"),e.alias(Se,"modulo","%"),e.defn(Se,"$next",re=function(){return this+1},re.$$arity=0),e.defn(Se,"$nonzero?",oe=function(){var e=this;return 0==e?_:e},oe.$$arity=0),e.defn(Se,"$numerator",ie=function(){var t,n,$=this,r=ie.$$p,o=_,i=_,l=_;for(r&&(ie.$$p=null),i=0,l=arguments.length,o=new Array(l);i<l;i++)o[i]=arguments[i];return(t=(n=$["$nan?"]())!==!1&&n!==_&&null!=n?n:$["$infinite?"]())===_||null==t||t.$$is_boolean&&1!=t?f($,e.find_super_dispatcher($,"numerator",ie,!1),o,r):$},ie.$$arity=0),e.defn(Se,"$odd?",le=function(){return this%2!=0},le.$$arity=0),e.defn(Se,"$ord",ae=function(){return this},ae.$$arity=0),e.defn(Se,"$pred",se=function(){return this-1},se.$$arity=0),e.defn(Se,"$quo",ce=function(t){var n,$=this,r=ce.$$p,i=_,l=_,a=_;for(r&&(ce.$$p=null),l=0,a=arguments.length,i=new Array(a);l<a;l++)i[l]=arguments[l];return(n=e.Integer["$==="]($))===_||null==n||n.$$is_boolean&&1!=n?o($,t):f($,e.find_super_dispatcher($,"quo",ce,!1),i,r)},ce.$$arity=1),e.defn(Se,"$rationalize",ue=function(t){var n,$,o=this,l=_,a=_;return arguments.length>1&&o.$raise(e.const_get(Me,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)"),(n=e.Integer["$==="](o))===_||null==n||n.$$is_boolean&&1!=n?(n=o["$infinite?"]())===_||null==n||n.$$is_boolean&&1!=n?(n=o["$nan?"]())===_||null==n||n.$$is_boolean&&1!=n?(n=null==t)===_||null==n||n.$$is_boolean&&1!=n?o.$to_r().$rationalize(t):($=e.const_get(Me,"Math",!0,!0).$frexp(o),n=e.to_ary($),l=null==n[0]?_:n[0],a=null==n[1]?_:n[1],l=e.const_get(Me,"Math",!0,!0).$ldexp(l,e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)).$to_i(),a=r(a,e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)),e.const_get(Me,"Rational",!0,!0).$new(i(2,l),1["$<<"](r(1,a))).$rationalize(e.const_get(Me,"Rational",!0,!0).$new(1,1["$<<"](r(1,a))))):o.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"NaN"):o.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"Infinity"):e.const_get(Me,"Rational",!0,!0).$new(o,1)},ue.$$arity=-1),e.defn(Se,"$round",_e=function(i){var s,c,u=this,d=_;if((s=e.Integer["$==="](u))===_||null==s||s.$$is_boolean&&1!=s){if(c=u["$nan?"](),(s=c!==!1&&c!==_&&null!=c?null==i:c)===_||null==s||s.$$is_boolean&&1!=s||u.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"NaN"),i=e.Opal["$coerce_to!"](i||0,e.Integer,"to_int"),(s=l(i,0))===_||null==s||s.$$is_boolean&&1!=s){if(i["$=="](0))return Math.round(u);if((s=(c=u["$nan?"]())!==!1&&c!==_&&null!=c?c:u["$infinite?"]())!==_&&null!=s&&(!s.$$is_boolean||1==s))return u}else(s=u["$nan?"]())===_||null==s||s.$$is_boolean&&1!=s?(s=u["$infinite?"]())===_||null==s||s.$$is_boolean&&1!=s||u.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"Infinity"):u.$raise(e.const_get(Me,"RangeError",!0,!0),"NaN");return c=e.const_get(Me,"Math",!0,!0).$frexp(u),s=e.to_ary(c),null==s[0]?_:s[0],d=null==s[1]?_:s[1],(s=a(i,r($(e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"DIG",!0,!0),2),function(){return(c=t(d,0))===_||null==c||c.$$is_boolean&&1!=c?r(o(d,3),1):o(d,4)}())))===_||null==s||s.$$is_boolean&&1!=s?(s=n(i,function(){return(c=t(d,0))===_||null==c||c.$$is_boolean&&1!=c?o(d,4):$(o(d,3),1)}()["$-@"]()))===_||null==s||s.$$is_boolean&&1!=s?Math.round(u*Math.pow(10,i))/Math.pow(10,i):0:u}if((s=null==i)!==_&&null!=s&&(!s.$$is_boolean||1==s))return u;if(c=e.const_get(Me,"Float",!0,!0)["$==="](i),(s=c!==!1&&c!==_&&null!=c?i["$infinite?"]():c)===_||null==s||s.$$is_boolean&&1!=s||u.$raise(e.const_get(Me,"RangeError",!0,!0),"Infinity"),i=e.Opal["$coerce_to!"](i,e.Integer,"to_int"),(s=n(i,e.const_get([e.Integer.$$scope],"MIN",!0,!0)))===_||null==s||s.$$is_boolean&&1!=s||u.$raise(e.const_get(Me,"RangeError",!0,!0),"out of bounds"),(s=i>=0)!==_&&null!=s&&(!s.$$is_boolean||1==s))return u;if(.415241*(i=i["$-@"]())-.125>u.$size())return 0;var f=Math.pow(10,i),p=Math.floor((Math.abs(p)+f/2)/f)*f;return u<0?-p:p},_e.$$arity=-1),e.defn(Se,"$step",de=function(t,n,$){function r(){0===g&&b.$raise(e.const_get(Me,"ArgumentError",!0,!0),"step cannot be 0"),(l=h)!==!1&&l!==_&&null!=l||(h=u),(l=g)!==!1&&l!==_&&null!=l||(g=(a=d)!==!1&&a!==_&&null!=a?a:1),h.$$is_number||b.$raise(e.const_get(Me,"ArgumentError",!0,!0),"limit must be a number"),g.$$is_number||b.$raise(e.const_get(Me,"ArgumentError",!0,!0),"step must be a number")}function o(){if(g>0&&b>h||g<0&&b<h)return 0;if(1/0===g||g===-1/0)return 1;var t=Math.abs,n=Math.floor,$=(t(b)+t(h)+t(h-b))/t(g)*e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"EPSILON",!0,!0);return 1/0===$||$===-1/0?0:($>.5&&($=.5),n((h-b)/g+$)+1)}function i(){if(r(),0===g)return 1/0;if(g%1!=0)return o();if(g>0&&b>h||g<0&&b<h)return 0;var e=Math.ceil,t=Math.abs;return e((t(b-h)+1)/t(g))}var l,a,s,c,u,d,h,g,b=this,m=de.$$p,y=m||_;if(c=e.slice.call(arguments,0,arguments.length),null==($=e.extract_kwargs(c))||!$.$$is_hash){if(null!=$)throw e.ArgumentError.$new("expected kwargs");$=p([],{})}if(null==(u=$.$$smap.to)&&(u=_),null==(d=$.$$smap.by)&&(d=_),0<c.length&&(h=c.splice(0,1)[0]),null==h&&(h=_),0<c.length&&(g=c.splice(0,1)[0]),null==g&&(g=_),m&&(de.$$p=null),h!==_&&u!==_&&b.$raise(e.const_get(Me,"ArgumentError",!0,!0),"to is given twice"),g!==_&&d!==_&&b.$raise(e.const_get(Me,"ArgumentError",!0,!0),"step is given twice"),y===_)return f(b,"enum_for",["step",h,g,p(["to","by"],{to:u,by:d})],(s=function(){s.$$s;return i()},s.$$s=b,s.$$arity=0,s));if(r(),0===g)for(;;)y(b);if(b%1!=0||h%1!=0||g%1!=0){var v=o();if(v>0)if(1/0===g||g===-1/0)y(b);else{var w,k=0;if(g>0)for(;k<v;)w=k*g+b,h<w&&(w=h),y(w),k+=1;else for(;k<v;)w=k*g+b,h>w&&(w=h),y(w),k+=1}}else{var x=b;if(g>0)for(;x<=h;)y(x),x+=g;else for(;x>=h;)y(x),x+=g}return b},de.$$arity=-1),e.alias(Se,"succ","next"),e.defn(Se,"$times",fe=function(){var e,t=this,n=fe.$$p,$=n||_;if(n&&(fe.$$p=null),$===!1||$===_||null==$)return f(t,"enum_for",["times"],(e=function(){return e.$$s||this},e.$$s=t,e.$$arity=0,e));for(var r=0;r<t;r++)$(r);return t},fe.$$arity=0),e.defn(Se,"$to_f",pe=function(){return this},pe.$$arity=0),e.defn(Se,"$to_i",he=function(){var e=this;return parseInt(e,10)},he.$$arity=0),e.alias(Se,"to_int","to_i"),e.defn(Se,"$to_r",ge=function(){var t,n,$=this,o=_,l=_;return(t=e.Integer["$==="]($))===_||null==t||t.$$is_boolean&&1!=t?(n=e.const_get(Me,"Math",!0,!0).$frexp($),t=e.to_ary(n),o=null==t[0]?_:t[0],l=null==t[1]?_:t[1],o=e.const_get(Me,"Math",!0,!0).$ldexp(o,e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)).$to_i(),l=r(l,e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)),i(o,e.const_get([e.const_get(Me,"Float",!0,!0).$$scope],"RADIX",!0,!0)["$**"](l)).$to_r()):e.const_get(Me,"Rational",!0,!0).$new($,1)},ge.$$arity=0),e.defn(Se,"$to_s",be=function($){var r,o,i=this;return null==$&&($=10),
(r=(o=n($,2))!==!1&&o!==_&&null!=o?o:t($,36))===_||null==r||r.$$is_boolean&&1!=r||i.$raise(e.const_get(Me,"ArgumentError",!0,!0),"base must be between 2 and 36"),i.toString($)},be.$$arity=-1),e.alias(Se,"truncate","to_i"),e.alias(Se,"inspect","to_s"),e.defn(Se,"$divmod",me=function(t){var n,$,r=this,o=me.$$p,i=_,l=_,a=_;for(o&&(me.$$p=null),l=0,a=arguments.length,i=new Array(a);l<a;l++)i[l]=arguments[l];return(n=($=r["$nan?"]())!==!1&&$!==_&&null!=$?$:t["$nan?"]())===_||null==n||n.$$is_boolean&&1!=n?(n=r["$infinite?"]())===_||null==n||n.$$is_boolean&&1!=n?f(r,e.find_super_dispatcher(r,"divmod",me,!1),i,o):r.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"Infinity"):r.$raise(e.const_get(Me,"FloatDomainError",!0,!0),"NaN")},me.$$arity=1),e.defn(Se,"$upto",ye=function(t){var o,i=this,l=ye.$$p,a=l||_;if(l&&(ye.$$p=null),a===_)return f(i,"enum_for",["upto",t],(o=function(){var i,l=o.$$s||this;return((i=e.const_get(Me,"Numeric",!0,!0)["$==="](t))===_||null==i||i.$$is_boolean&&1!=i)&&l.$raise(e.const_get(Me,"ArgumentError",!0,!0),"comparison of "+l.$class()+" with "+t.$class()+" failed"),(i=n(t,l))===_||null==i||i.$$is_boolean&&1!=i?$(r(t,l),1):0},o.$$s=i,o.$$arity=0,o));t.$$is_number||i.$raise(e.const_get(Me,"ArgumentError",!0,!0),"comparison of "+i.$class()+" with "+t.$class()+" failed");for(var s=i;s<=t;s++)a(s);return i},ye.$$arity=1),e.defn(Se,"$zero?",ve=function(){return 0==this},ve.$$arity=0),e.defn(Se,"$size",we=function(){return 4},we.$$arity=0),e.defn(Se,"$nan?",ke=function(){var e=this;return isNaN(e)},ke.$$arity=0),e.defn(Se,"$finite?",xe=function(){var e=this;return 1/0!=e&&e!=-1/0&&!isNaN(e)},xe.$$arity=0),e.defn(Se,"$infinite?",Oe=function(){var e=this;return 1/0==e?1:e==-1/0?-1:_},Oe.$$arity=0),e.defn(Se,"$positive?",Ee=function(){var e=this;return 0!=e&&(1/0==e||1/e>0)},Ee.$$arity=0),e.defn(Se,"$negative?",Ae=function(){var e=this;return e==-1/0||1/e<0},Ae.$$arity=0)}(c.base,e.const_get(u,"Numeric",!0,!0),u),e.cdecl(c,"Fixnum",e.const_get(u,"Number",!0,!0)),function(t,n,$){function r(){}var o,i=r=d(t,n,"Integer",r),l=(i.$$proto,i.$$scope);$.slice().concat(l);i.$$is_number_class=!0,e.defs(i,"$===",o=function(e){return!!e.$$is_number&&e%1==0},o.$$arity=1),e.cdecl(l,"MAX",Math.pow(2,30)-1),e.cdecl(l,"MIN",-Math.pow(2,30))}(c.base,e.const_get(u,"Numeric",!0,!0),u),function(t,n,$){function r(){}var o,i=r=d(t,n,"Float",r),l=(i.$$proto,i.$$scope);$.slice().concat(l);return i.$$is_number_class=!0,e.defs(i,"$===",o=function(e){return!!e.$$is_number},o.$$arity=1),e.cdecl(l,"INFINITY",1/0),e.cdecl(l,"MAX",Number.MAX_VALUE),e.cdecl(l,"MIN",Number.MIN_VALUE),e.cdecl(l,"NAN",0/0),e.cdecl(l,"DIG",15),e.cdecl(l,"MANT_DIG",53),e.cdecl(l,"RADIX",2),e.cdecl(l,"EPSILON",Number.EPSILON||2.220446049250313e-16)}(c.base,e.const_get(u,"Numeric",!0,!0),u)},Opal.modules["corelib/range"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}var s=e.top,c=e,u=[e],_=e.nil,d=(e.breaker,e.slice,e.klass),f=e.send;return e.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),s.$require("corelib/enumerable"),function(s,c,u){function p(){}var h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N=p=d(s,null,"Range",p),j=N.$$proto,L=N.$$scope,z=u.slice().concat(L);return j.begin=j.end=j.exclude=_,N.$include(e.const_get(z,"Enumerable",!0,!0)),j.$$is_range=!0,N.$attr_reader("begin","end"),e.defn(N,"$initialize",h=function(t,n,$){var r,o=this;return null==$&&($=!1),(r=o.begin)===_||null==r||r.$$is_boolean&&1!=r||o.$raise(e.const_get(z,"NameError",!0,!0),"'initialize' called twice"),((r=t["$<=>"](n))===_||null==r||r.$$is_boolean&&1!=r)&&o.$raise(e.const_get(z,"ArgumentError",!0,!0),"bad value for range"),o.begin=t,o.end=n,o.exclude=$},h.$$arity=-3),e.defn(N,"$==",g=function(e){var t=this;return!!e.$$is_range&&(t.exclude===e.exclude&&t.begin==e.begin&&t.end==e.end)},g.$$arity=1),e.defn(N,"$===",b=function(e){return this["$include?"](e)},b.$$arity=1),e.defn(N,"$cover?",m=function(e){var $,r=this,o=_,i=_;return o=r.begin["$<=>"](e),!(($=o!==!1&&o!==_&&null!=o?t(o,0):o)===_||null==$||$.$$is_boolean&&1!=$)&&(i=e["$<=>"](r.end),($=r.exclude)===_||null==$||$.$$is_boolean&&1!=$?($=i!==!1&&i!==_&&null!=i)?t(i,0):i:($=i!==!1&&i!==_&&null!=i)?n(i,0):i)},m.$$arity=1),e.defn(N,"$each",y=function(){var t,$,r=this,o=y.$$p,i=o||_,l=_,a=_;if(o&&(y.$$p=null),i===_)return r.$enum_for("each");var s,c;if(r.begin.$$is_number&&r.end.$$is_number){for(r.begin%1==0&&r.end%1==0||r.$raise(e.const_get(z,"TypeError",!0,!0),"can't iterate from Float"),s=r.begin,c=r.end+function(){return(t=r.exclude)===_||null==t||t.$$is_boolean&&1!=t?1:0}();s<c;s++)i(s);return r}if(r.begin.$$is_string&&r.end.$$is_string)return f(r.begin,"upto",[r.end,r.exclude],i.$to_proc()),r;for(l=r.begin,a=r.end,((t=l["$respond_to?"]("succ"))===_||null==t||t.$$is_boolean&&1!=t)&&r.$raise(e.const_get(z,"TypeError",!0,!0),"can't iterate from "+l.$class());($=n(l["$<=>"](a),0))!==_&&null!=$&&(!$.$$is_boolean||1==$);)e.yield1(i,l),l=l.$succ();return $=r.exclude["$!"](),(t=$!==!1&&$!==_&&null!=$?l["$=="](a):$)===_||null==t||t.$$is_boolean&&1!=t||e.yield1(i,l),r},y.$$arity=0),e.defn(N,"$eql?",v=function(t){var n,$,r=this;return!((n=e.const_get(z,"Range",!0,!0)["$==="](t))===_||null==n||n.$$is_boolean&&1!=n)&&($=r.exclude["$==="](t["$exclude_end?"]()),n=$!==!1&&$!==_&&null!=$?r.begin["$eql?"](t.$begin()):$,n!==!1&&n!==_&&null!=n?r.end["$eql?"](t.$end()):n)},v.$$arity=1),e.defn(N,"$exclude_end?",w=function(){return this.exclude},w.$$arity=0),e.defn(N,"$first",k=function(t){var n,$=this,r=k.$$p,o=_,i=_,l=_;for(r&&(k.$$p=null),i=0,l=arguments.length,o=new Array(l);i<l;i++)o[i]=arguments[i];return(n=null==t)===_||null==n||n.$$is_boolean&&1!=n?f($,e.find_super_dispatcher($,"first",k,!1),o,r):$.begin},k.$$arity=-1),e.alias(N,"include?","cover?"),e.defn(N,"$last",x=function(e){var t,n=this;return(t=null==e)===_||null==t||t.$$is_boolean&&1!=t?n.$to_a().$last(e):n.end},x.$$arity=-1),e.defn(N,"$max",O=function(){var t,n,r=this,o=O.$$p,i=o||_,l=_,a=_,s=_;for(o&&(O.$$p=null),a=0,s=arguments.length,l=new Array(s);a<s;a++)l[a]=arguments[a];return i!==_?f(r,e.find_super_dispatcher(r,"max",O,!1),l,o):(t=$(r.begin,r.end))===_||null==t||t.$$is_boolean&&1!=t?(n=r.exclude,(t=n!==!1&&n!==_&&null!=n?r.begin["$=="](r.end):n)===_||null==t||t.$$is_boolean&&1!=t?r.exclude?r.end-1:r.end:_):_},O.$$arity=0),e.alias(N,"member?","cover?"),e.defn(N,"$min",E=function(){var t,n,r=this,o=E.$$p,i=o||_,l=_,a=_,s=_;for(o&&(E.$$p=null),a=0,s=arguments.length,l=new Array(s);a<s;a++)l[a]=arguments[a];return i!==_?f(r,e.find_super_dispatcher(r,"min",E,!1),l,o):(t=$(r.begin,r.end))===_||null==t||t.$$is_boolean&&1!=t?(n=r.exclude,(t=n!==!1&&n!==_&&null!=n?r.begin["$=="](r.end):n)===_||null==t||t.$$is_boolean&&1!=t?r.begin:_):_},E.$$arity=0),e.defn(N,"$size",A=function(){var t,$,o=this,i=_,l=_,a=_;return i=o.begin,l=o.end,(t=o.exclude)===_||null==t||t.$$is_boolean&&1!=t||(l=r(l,1)),$=e.const_get(z,"Numeric",!0,!0)["$==="](i),(t=$!==!1&&$!==_&&null!=$?e.const_get(z,"Numeric",!0,!0)["$==="](l):$)===_||null==t||t.$$is_boolean&&1!=t?_:(t=n(l,i))===_||null==t||t.$$is_boolean&&1!=t?(a=e.const_get([e.const_get(z,"Float",!0,!0).$$scope],"INFINITY",!0,!0),(t=($=a["$=="](i.$abs()))!==!1&&$!==_&&null!=$?$:l.$abs()["$=="](a))===_||null==t||t.$$is_boolean&&1!=t?(Math.abs(l-i)+1).$to_i():a):0},A.$$arity=0),e.defn(N,"$step",S=function(t){function n(){t.$$is_number||(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int")),t<0?p.$raise(e.const_get(z,"ArgumentError",!0,!0),"step can't be negative"):0===t&&p.$raise(e.const_get(z,"ArgumentError",!0,!0),"step can't be 0")}function r(){if(!p.begin["$respond_to?"]("succ"))return _;if(p.begin.$$is_string&&p.end.$$is_string)return _;if(t%1==0)return o(p.$size(),t).$ceil();var n,$=p.begin,r=p.end,i=Math.abs,l=Math.floor,a=(i($)+i(r)+i(r-$))/i(t)*e.const_get([e.const_get(z,"Float",!0,!0).$$scope],"EPSILON",!0,!0);return a>.5&&(a=.5),p.exclude?(n=l((r-$)/t-a))*t+$<r&&n++:n=l((r-$)/t+a)+1,n}var s,c,u,d,p=this,h=S.$$p,g=h||_,b=_;return null==t&&(t=1),h&&(S.$$p=null),g===_?f(p,"enum_for",["step",t],(s=function(){s.$$s;return n(),r()},s.$$s=p,s.$$arity=0,s)):(n(),(c=p.begin.$$is_number&&p.end.$$is_number)===_||null==c||c.$$is_boolean&&1!=c?(p.begin.$$is_string&&p.end.$$is_string&&t%1!=0&&p.$raise(e.const_get(z,"TypeError",!0,!0),"no implicit conversion to float from string"),f(p,"each_with_index",[],(d=function(n,$){d.$$s;return null==n&&(n=_),null==$&&($=_),$["$%"](t)["$=="](0)?e.yield1(g,n):_},d.$$s=p,d.$$arity=2,d))):(b=0,function(){var n=e.new_brk();try{f(p,"loop",[],(u=function(){var r,o=u.$$s||this,s=_;return null==o.begin&&(o.begin=_),null==o.exclude&&(o.exclude=_),null==o.end&&(o.end=_),s=i(o.begin,l(b,t)),(r=o.exclude)===_||null==r||r.$$is_boolean&&1!=r?(r=$(s,o.end))===_||null==r||r.$$is_boolean&&1!=r||e.brk(_,n):(r=a(s,o.end))===_||null==r||r.$$is_boolean&&1!=r||e.brk(_,n),e.yield1(g,s),b=i(b,1)},u.$$s=p,u.$$brk=n,u.$$arity=0,u))}catch(e){if(e===n)return e.$v;throw e}}()),p)},S.$$arity=-1),e.defn(N,"$bsearch",R=function(){var t,n=this,$=R.$$p,r=$||_;return $&&(R.$$p=null),r===_?n.$enum_for("bsearch"):(((t=n.begin.$$is_number&&n.end.$$is_number)===_||null==t||t.$$is_boolean&&1!=t)&&n.$raise(e.const_get(z,"TypeError",!0,!0),"can't do binary search for "+n.begin.$class()),f(n.$to_a(),"bsearch",[],r.$to_proc()))},R.$$arity=0),e.defn(N,"$to_s",M=function(){var e,t=this;return""+t.begin+function(){return(e=t.exclude)===_||null==e||e.$$is_boolean&&1!=e?"..":"..."}()+t.end},M.$$arity=0),e.defn(N,"$inspect",T=function(){var e,t=this;return""+t.begin.$inspect()+function(){return(e=t.exclude)===_||null==e||e.$$is_boolean&&1!=e?"..":"..."}()+t.end.$inspect()},T.$$arity=0),e.defn(N,"$marshal_load",I=function(e){var t=this;return t.begin=e["$[]"]("begin"),t.end=e["$[]"]("end"),t.exclude=e["$[]"]("excl")},I.$$arity=1),e.defn(N,"$hash",C=function(){var e=this;return[e.begin,e.end,e.exclude].$hash()},C.$$arity=0),_&&"hash"}(c.base,0,u)},Opal.modules["corelib/proc"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice),o=e.klass;return e.add_stubs(["$raise","$coerce_to!"]),function(t,n,i){function l(){}var a,s,c,u,_,d,f,p,h,g,b=l=o(t,n,"Proc",l),m=b.$$proto,y=b.$$scope,v=i.slice().concat(y);return m.$$is_proc=!0,m.$$is_lambda=!1,e.defs(b,"$new",a=function(){var t=this,n=a.$$p,r=n||$;return n&&(a.$$p=null),r!==!1&&r!==$&&null!=r||t.$raise(e.const_get(v,"ArgumentError",!0,!0),"tried to create a Proc object without a block"),r},a.$$arity=0),e.defn(b,"$call",s=function(t){var n,r=this,o=s.$$p,i=o||$,l=arguments.length,a=l-0;a<0&&(a=0),n=new Array(a);for(var c=0;c<l;c++)n[c-0]=arguments[c];o&&(s.$$p=null),i!==$&&(r.$$p=i);var u,_=r.$$brk;if(_)try{u=r.$$is_lambda?r.apply(null,n):e.yieldX(r,n)}catch(e){if(e===_)return _.$v;throw e}else u=r.$$is_lambda?r.apply(null,n):e.yieldX(r,n);return u},s.$$arity=-1),e.alias(b,"[]","call"),e.alias(b,"===","call"),e.alias(b,"yield","call"),e.defn(b,"$to_proc",c=function(){return this},c.$$arity=0),e.defn(b,"$lambda?",u=function(){return!!this.$$is_lambda},u.$$arity=0),e.defn(b,"$arity",_=function(){var e=this;return e.$$is_curried?-1:e.$$arity},_.$$arity=0),e.defn(b,"$source_location",d=function(){return this.$$is_curried,$},d.$$arity=0),e.defn(b,"$binding",f=function(){var t=this;return t.$$is_curried&&t.$raise(e.const_get(v,"ArgumentError",!0,!0),"Can't create Binding"),$},f.$$arity=0),e.defn(b,"$parameters",p=function(){var e=this;if(e.$$is_curried)return[["rest"]];if(e.$$parameters){if(e.$$is_lambda)return e.$$parameters;var t,n,$=[];for(t=0,n=e.$$parameters.length;t<n;t++){var r=e.$$parameters[t];"req"===r[0]&&(r=["opt",r[1]]),$.push(r)}return $}return[]},p.$$arity=0),e.defn(b,"$curry",h=function(t){function n(){var o,i=r.call(arguments),l=i.length;return l>t&&$.$$is_lambda&&!$.$$is_curried&&$.$raise(e.const_get(v,"ArgumentError",!0,!0),"wrong number of arguments ("+l+" for "+t+")"),l>=t?$.$call.apply($,i):(o=function(){return n.apply(null,i.concat(r.call(arguments)))},o.$$is_lambda=$.$$is_lambda,o.$$is_curried=!0,o)}var $=this;return void 0===t?t=$.length:(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),$.$$is_lambda&&t!==$.length&&$.$raise(e.const_get(v,"ArgumentError",!0,!0),"wrong number of arguments ("+t+" for "+$.length+")")),n.$$is_lambda=$.$$is_lambda,n.$$is_curried=!0,n},h.$$arity=-1),e.defn(b,"$dup",g=function(){var e=this,t=e.$$original_proc||e,n=function(){return t.apply(this,arguments)};for(var $ in e)e.hasOwnProperty($)&&(n[$]=e[$]);return n},g.$$arity=0),e.alias(b,"clone","dup")}(t.base,Function,n)},Opal.modules["corelib/method"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(t,n,o){function i(){}var l,a,s,c,u,_,d,f,p,h=i=r(t,null,"Method",i),g=h.$$proto,b=h.$$scope,m=o.slice().concat(b);g.method=g.receiver=g.owner=g.name=$,h.$attr_reader("owner","receiver","name"),e.defn(h,"$initialize",l=function(e,t,n,$){var r=this;return r.receiver=e,r.owner=t,r.name=$,r.method=n},l.$$arity=4),e.defn(h,"$arity",a=function(){return this.method.$arity()},a.$$arity=0),e.defn(h,"$parameters",s=function(){return this.method.$$parameters},s.$$arity=0),e.defn(h,"$source_location",c=function(){var e;return(e=this.method.$$source_location)!==!1&&e!==$&&null!=e?e:["(eval)",0]},c.$$arity=0),e.defn(h,"$comments",u=function(){var e;return(e=this.method.$$comments)!==!1&&e!==$&&null!=e?e:[]},u.$$arity=0),e.defn(h,"$call",_=function(e){var t,n=this,r=_.$$p,o=r||$,i=arguments.length,l=i-0;l<0&&(l=0),t=new Array(l);for(var a=0;a<i;a++)t[a-0]=arguments[a];return r&&(_.$$p=null),n.method.$$p=o,n.method.apply(n.receiver,t)},_.$$arity=-1),e.alias(h,"[]","call"),e.defn(h,"$unbind",d=function(){var t=this;return e.const_get(m,"UnboundMethod",!0,!0).$new(t.receiver.$class(),t.owner,t.method,t.name)},d.$$arity=0),e.defn(h,"$to_proc",f=function(){var e=this,t=e.$call.bind(e);return t.$$unbound=e.method,t.$$is_lambda=!0,t},f.$$arity=0),e.defn(h,"$inspect",p=function(){var e=this;return"#<"+e.$class()+": "+e.receiver.$class()+"#"+e.name+" (defined in "+e.owner+" in "+e.$source_location().$join(":")+")>"},p.$$arity=0)}(t.base,0,n),function(t,n,o){function i(){}var l,a,s,c,u,_,d,f=i=r(t,null,"UnboundMethod",i),p=f.$$proto,h=f.$$scope,g=o.slice().concat(h);return p.method=p.owner=p.name=p.source=$,f.$attr_reader("source","owner","name"),e.defn(f,"$initialize",l=function(e,t,n,$){var r=this;return r.source=e,r.owner=t,r.method=n,r.name=$},l.$$arity=4),e.defn(f,"$arity",a=function(){return this.method.$arity()},a.$$arity=0),e.defn(f,"$parameters",s=function(){return this.method.$$parameters},s.$$arity=0),e.defn(f,"$source_location",c=function(){var e;return(e=this.method.$$source_location)!==!1&&e!==$&&null!=e?e:["(eval)",0]},c.$$arity=0),e.defn(f,"$comments",u=function(){var e;return(e=this.method.$$comments)!==!1&&e!==$&&null!=e?e:[]},u.$$arity=0),e.defn(f,"$bind",_=function(t){var n=this;if(n.owner.$$is_module||e.is_a(t,n.owner))return e.const_get(g,"Method",!0,!0).$new(t,n.owner,n.method,n.name);n.$raise(e.const_get(g,"TypeError",!0,!0),"can't bind singleton method to a different class (expected "+t+".kind_of?("+n.owner+" to be true)")},_.$$arity=1),e.defn(f,"$inspect",d=function(){var e=this;return"#<"+e.$class()+": "+e.source+"#"+e.name+" (defined in "+e.owner+" in "+e.$source_location().$join(":")+")>"},d.$$arity=0),$&&"inspect"}(t.base,0,n)},Opal.modules["corelib/variables"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.gvars),o=e.hash2;return e.add_stubs(["$new"]),r["&"]=r["~"]=r["`"]=r["'"]=$,r.LOADED_FEATURES=r['"']=e.loaded_features,r.LOAD_PATH=r[":"]=[],r["/"]="\n",r[","]=$,e.cdecl(t,"ARGV",[]),e.cdecl(t,"ARGF",e.const_get(n,"Object",!0,!0).$new()),e.cdecl(t,"ENV",o([],{})),r.VERBOSE=!1,r.DEBUG=!1,r.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.module);return e.add_stubs(["$==","$new"]),function(t,n){var o,i=o=r(t,"Opal"),l=(i.$$proto,i.$$scope),a=n.slice().concat(l);e.cdecl(l,"REGEXP_START",function(){return e.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("opal")?"^":$}()),e.cdecl(l,"REGEXP_END",function(){return e.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("opal")?"$":$}()),e.cdecl(l,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(l,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(l,"INLINE_IDENTIFIER_REGEXP",e.const_get(a,"Regexp",!0,!0).$new("[^"+e.const_get(a,"FORBIDDEN_STARTING_IDENTIFIER_CHARS",!0,!0)+"]*[^"+e.const_get(a,"FORBIDDEN_ENDING_IDENTIFIER_CHARS",!0,!0)+"]")),e.cdecl(l,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),e.cdecl(l,"CONST_NAME_REGEXP",e.const_get(a,"Regexp",!0,!0).$new(e.const_get(a,"REGEXP_START",!0,!0)+"(::)?[A-Z][^"+e.const_get(a,"FORBIDDEN_CONST_NAME_CHARS",!0,!0)+"]*"+e.const_get(a,"REGEXP_END",!0,!0)))}(t.base,n)},Opal.modules["opal/mini"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("corelib/nil"),t.$require("corelib/boolean"),t.$require("corelib/string"),t.$require("corelib/comparable"),t.$require("corelib/enumerable"),t.$require("corelib/enumerator"),t.$require("corelib/array"),t.$require("corelib/hash"),t.$require("corelib/number"),t.$require("corelib/range"),t.$require("corelib/proc"),t.$require("corelib/method"),t.$require("corelib/regexp"),t.$require("corelib/variables"),t.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var r=e.top,o=e,i=[e],l=e.nil,a=(e.breaker,e.slice,e.klass),s=e.send,c=e.gvars;return e.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),r.$require("corelib/string"),function(t,n,$){function r(){}var o,i=r=a(t,null,"String",r),s=(i.$$proto,i.$$scope),c=$.slice().concat(s);e.defs(i,"$inherited",o=function(t){var n=l;n=e.const_get(c,"Class",!0,!0).$new(e.const_get([e.String.$$scope],"Wrapper",!0,!0)),t.$$proto=n.$$proto,t.$$proto.$$class=t,t.$$alloc=n.$$alloc,t.$$parent=e.const_get([e.String.$$scope],"Wrapper",!0,!0),t.$allocate=n.$allocate,t.$new=n.$new},o.$$arity=1)}(o.base,0,i),function(r,o,i){function u(){}var _,d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M=u=a(r,null,"Wrapper",u),T=M.$$proto,I=M.$$scope;i.slice().concat(I);return T.literal=l,T.$$is_string=!0,e.defs(M,"$allocate",_=function(t){var n=this,$=_.$$p,r=l;return null==t&&(t=""),$&&(_.$$p=null),r=s(n,e.find_super_dispatcher(n,"allocate",_,!1,u),[],null),r.literal=t,r},_.$$arity=-1),e.defs(M,"$new",d=function(t){var n,$=this,r=d.$$p,o=r||l,i=l,a=arguments.length,c=a-0;c<0&&(c=0),n=new Array(c);for(var u=0;u<a;u++)n[u-0]=arguments[u];return r&&(d.$$p=null),i=$.$allocate(),s(i,"initialize",e.to_a(n),o.$to_proc()),i},d.$$arity=-1),e.defs(M,"$[]",f=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];return n.$allocate(t)},f.$$arity=-1),e.defn(M,"$initialize",p=function(e){var t=this;return null==e&&(e=""),t.literal=e},p.$$arity=-1),e.defn(M,"$method_missing",h=function(t){var n,$,r=this,o=h.$$p,i=o||l,a=l,c=arguments.length,u=c-0;u<0&&(u=0),$=new Array(u);for(var _=0;_<c;_++)$[_-0]=arguments[_];return o&&(h.$$p=null),a=s(r.literal,"__send__",e.to_a($),i.$to_proc()),(n=null!=a.$$is_string)===l||null==n||n.$$is_boolean&&1!=n?a:(n=a==r.literal)===l||null==n||n.$$is_boolean&&1!=n?r.$class().$allocate(a):r},h.$$arity=-1),e.defn(M,"$initialize_copy",g=function(e){return this.literal=e.literal.$clone()},g.$$arity=1),e.defn(M,"$respond_to?",b=function(t,n){var $,r=this,o=b.$$p,i=l,a=l,c=l;for(o&&(b.$$p=null),a=0,c=arguments.length,i=new Array(c);a<c;a++)i[a]=arguments[a];return($=s(r,e.find_super_dispatcher(r,"respond_to?",b,!1),i,o))!==!1&&$!==l&&null!=$?$:r.literal["$respond_to?"](t)},b.$$arity=-2),e.defn(M,"$==",m=function(e){return this.literal["$=="](e)},m.$$arity=1),e.alias(M,"eql?","=="),e.alias(M,"===","=="),e.defn(M,"$to_s",y=function(){return this.literal},y.$$arity=0),e.alias(M,"to_str","to_s"),e.defn(M,"$inspect",v=function(){return this.literal.$inspect()},v.$$arity=0),e.defn(M,"$+",w=function(e){return t(this.literal,e)},w.$$arity=1),e.defn(M,"$*",k=function(e){var t=this,$=n(t.literal,e);return $.$$is_string?t.$class().$allocate($):$},k.$$arity=1),e.defn(M,"$split",x=function(e,t){var n,$=this;return s($.literal.$split(e,t),"map",[],(n=function(e){var t=n.$$s||this;return null==e&&(e=l),t.$class().$allocate(e)},n.$$s=$,n.$$arity=1,n))},x.$$arity=-1),e.defn(M,"$replace",O=function(e){return this.literal=e},O.$$arity=1),e.defn(M,"$each_line",E=function(t){var n,$=this,r=E.$$p,o=r||l;return null==c["/"]&&(c["/"]=l),null==t&&(t=c["/"]),r&&(E.$$p=null),o===l?$.$enum_for("each_line",t):s($.literal,"each_line",[t],(n=function(t){var $=n.$$s||this;return null==t&&(t=l),e.yield1(o,$.$class().$allocate(t))},n.$$s=$,n.$$arity=1,n))},E.$$arity=-1),e.defn(M,"$lines",A=function(e){var t=this,n=A.$$p,$=n||l,r=l;return null==c["/"]&&(c["/"]=l),null==e&&(e=c["/"]),n&&(A.$$p=null),r=s(t,"each_line",[e],$.$to_proc()),$!==!1&&$!==l&&null!=$?t:r.$to_a()},A.$$arity=-1),e.defn(M,"$%",S=function(e){return this.literal["$%"](e)},S.$$arity=1),e.defn(M,"$instance_variables",R=function(){var t=this,n=R.$$p,r=l,o=l,i=l;for(n&&(R.$$p=null),o=0,i=arguments.length,r=new Array(i);o<i;o++)r[o]=arguments[o];return $(s(t,e.find_super_dispatcher(t,"instance_variables",R,!1),r,n),["@literal"])},R.$$arity=0),l&&"instance_variables"}(e.String,0,i)},Opal.modules["corelib/string/encoding"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var n,$,r,o,i,l=e.top,a=e,s=[e],c=e.nil,u=(e.breaker,e.slice,e.klass),_=e.send,d=e.hash2;return e.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$upcase","$constants","$const_get","$===","$==","$name","$include?","$names","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$nil?","$getbyte"]),l.$require("corelib/string"),function(n,$,r){function o(){}var i,l,a,s,f,p,h,g,b,m,y=o=u(n,null,"Encoding",o),v=y.$$proto,w=y.$$scope,k=r.slice().concat(w);v.ascii=v.dummy=v.name=c,e.defs(y,"$register",i=function(n,$){var r,o,l=this,a=i.$$p,s=a||c,u=c,f=c;return null==$&&($=d([],{})),a&&(i.$$p=null),u=t([n],(r=$["$[]"]("aliases"))!==!1&&r!==c&&null!=r?r:[]),f=_(e.const_get(k,"Class",!0,!0),"new",[l],s.$to_proc()).$new(n,u,(r=$["$[]"]("ascii"))!==!1&&r!==c&&null!=r&&r,(r=$["$[]"]("dummy"))!==!1&&r!==c&&null!=r&&r),_(u,"each",[],(o=function(e){var t=o.$$s||this;return null==e&&(e=c),t.$const_set(e.$sub("-","_"),f)},o.$$s=l,o.$$arity=1,o))},i.$$arity=-2),e.defs(y,"$find",l=function(t){try{var n,$=this,r=c;return r=t.$upcase(),_($.$constants(),"each",[],(n=function(t){var $,o,i=n.$$s||this,l=c;return null==t&&(t=c),l=i.$const_get(t),($=e.const_get(k,"Encoding",!0,!0)["$==="](l))===c||null==$||$.$$is_boolean&&1!=$?c:($=(o=l.$name()["$=="](r))!==!1&&o!==c&&null!=o?o:l.$names()["$include?"](r))===c||null==$||$.$$is_boolean&&1!=$?c:void e.ret(l)},n.$$s=$,n.$$arity=1,n)),$.$raise(e.const_get(k,"ArgumentError",!0,!0),"unknown encoding name - "+t)}catch(t){if(t===e.returner)return t.$v;throw t}},l.$$arity=1),function(e,t){e.$$proto,e.$$scope,t.slice().concat(e);e.$attr_accessor("default_external")}(e.get_singleton_class(y),k),y.$attr_reader("name","names"),e.defn(y,"$initialize",a=function(e,t,n,$){var r=this;return r.name=e,r.names=t,r.ascii=n,r.dummy=$},a.$$arity=4),e.defn(y,"$ascii_compatible?",s=function(){return this.ascii},s.$$arity=0),e.defn(y,"$dummy?",f=function(){return this.dummy},f.$$arity=0),e.defn(y,"$to_s",p=function(){return this.name},p.$$arity=0),e.defn(y,"$inspect",h=function(){var e,t=this;return"#<Encoding:"+t.name+function(){return(e=t.dummy)===c||null==e||e.$$is_boolean&&1!=e?c:" (dummy)"}()+">"},h.$$arity=0),e.defn(y,"$each_byte",g=function(t){return this.$raise(e.const_get(k,"NotImplementedError",!0,!0))},g.$$arity=-1),e.defn(y,"$getbyte",b=function(t){return this.$raise(e.const_get(k,"NotImplementedError",!0,!0))},b.$$arity=-1),e.defn(y,"$bytesize",m=function(t){return this.$raise(e.const_get(k,"NotImplementedError",!0,!0))},m.$$arity=-1),function(e,t,n){function $(){}var r=$=u(e,t,"EncodingError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(w.base,e.const_get(k,"StandardError",!0,!0),k),function(e,t,n){function $(){}var r=$=u(e,t,"CompatibilityError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(w.base,e.const_get(k,"EncodingError",!0,!0),k)}(a.base,0,s),_(e.const_get(s,"Encoding",!0,!0),"register",["UTF-8",d(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(n=function(){var t,$,r=n.$$s||this;return e.def(r,"$each_byte",t=function(n){var $=t.$$p,r=$||c;$&&(t.$$p=null);for(var o=0,i=n.length;o<i;o++){var l=n.charCodeAt(o);if(l<=127)e.yield1(r,l);else for(var a=encodeURIComponent(n.charAt(o)).substr(1).split("%"),s=0,u=a.length;s<u;s++)e.yield1(r,parseInt(a[s],16))}},t.$$arity=1),e.def(r,"$bytesize",$=function(e){return e.$bytes().$length()},$.$$arity=1),c&&"bytesize"},n.$$s=l,n.$$arity=0,n)),_(e.const_get(s,"Encoding",!0,!0),"register",["UTF-16LE"],($=function(){var t,n,r=$.$$s||this;return e.def(r,"$each_byte",t=function(n){var $=t.$$p,r=$||c;$&&(t.$$p=null);for(var o=0,i=n.length;o<i;o++){var l=n.charCodeAt(o);e.yield1(r,255&l),e.yield1(r,l>>8)}},t.$$arity=1),e.def(r,"$bytesize",n=function(e){return e.$bytes().$length()},n.$$arity=1),c&&"bytesize"},$.$$s=l,$.$$arity=0,$)),_(e.const_get(s,"Encoding",!0,!0),"register",["UTF-16BE"],(r=function(){var t,n,$=r.$$s||this;return e.def($,"$each_byte",t=function(n){var $=t.$$p,r=$||c;$&&(t.$$p=null);for(var o=0,i=n.length;o<i;o++){var l=n.charCodeAt(o);e.yield1(r,l>>8),e.yield1(r,255&l)}},t.$$arity=1),e.def($,"$bytesize",n=function(e){return e.$bytes().$length()},n.$$arity=1),c&&"bytesize"},r.$$s=l,r.$$arity=0,r)),_(e.const_get(s,"Encoding",!0,!0),"register",["UTF-32LE"],(o=function(){var t,n,$=o.$$s||this;return e.def($,"$each_byte",t=function(n){var $=t.$$p,r=$||c;$&&(t.$$p=null);for(var o=0,i=n.length;o<i;o++){var l=n.charCodeAt(o);e.yield1(r,255&l),e.yield1(r,l>>8)}},t.$$arity=1),e.def($,"$bytesize",n=function(e){return e.$bytes().$length()},n.$$arity=1),c&&"bytesize"},o.$$s=l,o.$$arity=0,o)),_(e.const_get(s,"Encoding",!0,!0),"register",["ASCII-8BIT",d(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],(i=function(){var t,n,$=i.$$s||this;return e.def($,"$each_byte",t=function(n){var $=t.$$p,r=$||c;$&&(t.$$p=null);for(var o=0,i=n.length;o<i;o++)e.yield1(r,255&n.charCodeAt(o))},t.$$arity=1),e.def($,"$bytesize",n=function(e){return e.$bytes().$length()},n.$$arity=1),c&&"bytesize"},i.$$s=l,i.$$arity=0,i)),function(t,n,$){function r(){}var o,i,l,a,s,d,f,p,h=r=u(t,null,"String",r),g=h.$$proto,b=h.$$scope,m=$.slice().concat(b);return g.encoding=c,String.prototype.encoding=e.const_get([e.const_get(m,"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0),e.defn(h,"$bytes",o=function(){return this.$each_byte().$to_a()},o.$$arity=0),e.defn(h,"$bytesize",i=function(){var e=this;return e.encoding.$bytesize(e)},i.$$arity=0),e.defn(h,"$each_byte",l=function(){var e=this,t=l.$$p,n=t||c;return t&&(l.$$p=null),n===c?e.$enum_for("each_byte"):(_(e.encoding,"each_byte",[e],n.$to_proc()),e)},l.$$arity=0),e.defn(h,"$encode",a=function(e){return this.$dup().$force_encoding(e)},a.$$arity=1),e.defn(h,"$encoding",s=function(){return this.encoding},s.$$arity=0),e.defn(h,"$force_encoding",d=function(t){var n,$=this;if(t===$.encoding)return $;if(t=e.Opal["$coerce_to!"](t,e.String,"to_s"),t=e.const_get(m,"Encoding",!0,!0).$find(t),t["$=="]($.encoding))return $;(n=t["$nil?"]())===c||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(m,"ArgumentError",!0,!0),"unknown encoding name - "+t);var r=new String($);return r.encoding=t,r},d.$$arity=1),e.defn(h,"$getbyte",f=function(e){var t=this;return t.encoding.$getbyte(t,e)},f.$$arity=1),e.defn(h,"$valid_encoding?",p=function(){return!0},p.$$arity=0),c&&"valid_encoding?"}(a.base,0,s)},Opal.modules["corelib/math"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}var $=(e.top,e),r=[e],o=e.nil,i=(e.breaker,e.slice,e.module);return e.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function($,r){var l,a,s,c,u,_,d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P=l=i($,"Math"),D=(P.$$proto,P.$$scope),B=r.slice().concat(D);e.cdecl(D,"E",Math.E),e.cdecl(D,"PI",Math.PI),e.cdecl(D,"DomainError",e.const_get(B,"Class",!0,!0).$new(e.const_get(B,"StandardError",!0,!0))),e.defs(P,"$checked",a=function(t,n){var $,r=this,o=arguments.length,i=o-1;i<0&&(i=0),$=new Array(i);for(var l=1;l<o;l++)$[l-1]=arguments[l];if(isNaN($[0])||2==$.length&&isNaN($[1]))return 0/0;var a=Math[t].apply(null,$);return isNaN(a)&&r.$raise(e.const_get(B,"DomainError",!0,!0),'Numerical argument is out of domain - "'+t+'"'),a},a.$$arity=-2),e.defs(P,"$float!",s=function(t){var n=this;try{return n.$Float(t)}catch($){if(!e.rescue($,[e.const_get(B,"ArgumentError",!0,!0)]))throw $;try{return n.$raise(e.Opal.$type_error(t,e.const_get(B,"Float",!0,!0)))}finally{e.pop_exception()}}},s.$$arity=1),e.defs(P,"$integer!",c=function(t){var n=this;try{return n.$Integer(t)}catch($){if(!e.rescue($,[e.const_get(B,"ArgumentError",!0,!0)]))throw $;try{return n.$raise(e.Opal.$type_error(t,e.Integer))}finally{e.pop_exception()}}},c.$$arity=1),P.$module_function(),e.defn(P,"$acos",u=function(t){return e.const_get(B,"Math",!0,!0).$checked("acos",e.const_get(B,"Math",!0,!0)["$float!"](t))},u.$$arity=1),((_=void 0!==Math.acosh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.acosh=function(e){return Math.log(e+Math.sqrt(e*e-1))}),e.defn(P,"$acosh",d=function(t){return e.const_get(B,"Math",!0,!0).$checked("acosh",e.const_get(B,"Math",!0,!0)["$float!"](t))},d.$$arity=1),e.defn(P,"$asin",f=function(t){return e.const_get(B,"Math",!0,!0).$checked("asin",e.const_get(B,"Math",!0,!0)["$float!"](t))},f.$$arity=1),((_=void 0!==Math.asinh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.asinh=function(e){return Math.log(e+Math.sqrt(e*e+1))}),e.defn(P,"$asinh",p=function(t){return e.const_get(B,"Math",!0,!0).$checked("asinh",e.const_get(B,"Math",!0,!0)["$float!"](t))},p.$$arity=1),e.defn(P,"$atan",h=function(t){return e.const_get(B,"Math",!0,!0).$checked("atan",e.const_get(B,"Math",!0,!0)["$float!"](t))},h.$$arity=1),e.defn(P,"$atan2",g=function(t,n){return e.const_get(B,"Math",!0,!0).$checked("atan2",e.const_get(B,"Math",!0,!0)["$float!"](t),e.const_get(B,"Math",!0,!0)["$float!"](n))
},g.$$arity=2),((_=void 0!==Math.atanh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.atanh=function(e){return.5*Math.log((1+e)/(1-e))}),e.defn(P,"$atanh",b=function(t){return e.const_get(B,"Math",!0,!0).$checked("atanh",e.const_get(B,"Math",!0,!0)["$float!"](t))},b.$$arity=1),((_=void 0!==Math.cbrt)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.cbrt=function(e){if(0==e)return 0;if(e<0)return-Math.cbrt(-e);for(var t=e,n=0;t<.125;)t*=8,n--;for(;t>1;)t*=.125,n++;for(t=(-.46946116*t+1.072302)*t+.3812513;n<0;)t*=.5,n++;for(;n>0;)t*=2,n--;return t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t),t=2/3*t+1/3*e/(t*t)}),e.defn(P,"$cbrt",m=function(t){return e.const_get(B,"Math",!0,!0).$checked("cbrt",e.const_get(B,"Math",!0,!0)["$float!"](t))},m.$$arity=1),e.defn(P,"$cos",y=function(t){return e.const_get(B,"Math",!0,!0).$checked("cos",e.const_get(B,"Math",!0,!0)["$float!"](t))},y.$$arity=1),((_=void 0!==Math.cosh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.cosh=function(e){return(Math.exp(e)+Math.exp(-e))/2}),e.defn(P,"$cosh",v=function(t){return e.const_get(B,"Math",!0,!0).$checked("cosh",e.const_get(B,"Math",!0,!0)["$float!"](t))},v.$$arity=1),((_=void 0!==Math.erf)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.erf=function(e){var t=1;e<0&&(t=-1),e=Math.abs(e);var n=1/(1+.3275911*e);return t*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-e*e))}),e.defn(P,"$erf",w=function(t){return e.const_get(B,"Math",!0,!0).$checked("erf",e.const_get(B,"Math",!0,!0)["$float!"](t))},w.$$arity=1),((_=void 0!==Math.erfc)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.erfc=function(e){var t=Math.abs(e),n=1/(.5*t+1),$=.17087277*n-.82215223,r=n*$+1.48851587,o=n*r-1.13520398,i=n*o+.27886807,l=n*i-.18628806,a=n*l+.09678418,s=n*a+.37409196,c=n*s+1.00002368,u=n*c,_=-t*t-1.26551223+u,d=n*Math.exp(_);return e<0?2-d:d}),e.defn(P,"$erfc",k=function(t){return e.const_get(B,"Math",!0,!0).$checked("erfc",e.const_get(B,"Math",!0,!0)["$float!"](t))},k.$$arity=1),e.defn(P,"$exp",x=function(t){return e.const_get(B,"Math",!0,!0).$checked("exp",e.const_get(B,"Math",!0,!0)["$float!"](t))},x.$$arity=1),e.defn(P,"$frexp",O=function(t){if(t=e.const_get(B,"Math",!0,!0)["$float!"](t),isNaN(t))return[0/0,0];var n=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1;return[t/Math.pow(2,n),n]},O.$$arity=1),e.defn(P,"$gamma",E=function(n){var $=this;n=e.const_get(B,"Math",!0,!0)["$float!"](n);var r,o,i,l,a,s,c,u,_,d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(n))return 0/0;if(0===n&&1/n<0)return-1/0;if(n!==-1&&n!==-1/0||$.$raise(e.const_get(B,"DomainError",!0,!0),'Numerical argument is out of domain - "gamma"'),e.Integer["$==="](n)){if(n<=0)return isFinite(n)?1/0:0/0;if(n>171)return 1/0;for(l=n-2,a=n-1;l>1;)a*=l,l--;return 0==a&&(a=1),a}if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*e.const_get(B,"Math",!0,!0).$gamma(t(1,n)));if(n>=171.35)return 1/0;if(n>85)return s=n*n,c=s*n,u=c*n,_=u*n,Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*s)-139/(51840*c)-571/(2488320*u)+163879/(209018880*_)+5246819/(75246796800*_*n));for(n-=1,i=d[0],r=1;r<d.length;++r)i+=d[r]/(n+r);return o=n+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(o,n+.5)*Math.exp(-o)*i},E.$$arity=1),((_=void 0!==Math.hypot)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.hypot=function(e,t){return Math.sqrt(e*e+t*t)}),e.defn(P,"$hypot",A=function(t,n){return e.const_get(B,"Math",!0,!0).$checked("hypot",e.const_get(B,"Math",!0,!0)["$float!"](t),e.const_get(B,"Math",!0,!0)["$float!"](n))},A.$$arity=2),e.defn(P,"$ldexp",S=function(t,n){var $=this;return t=e.const_get(B,"Math",!0,!0)["$float!"](t),n=e.const_get(B,"Math",!0,!0)["$integer!"](n),isNaN(n)&&$.$raise(e.const_get(B,"RangeError",!0,!0),"float NaN out of range of integer"),t*Math.pow(2,n)},S.$$arity=2),e.defn(P,"$lgamma",R=function(t){return t==-1?[1/0,1]:[Math.log(Math.abs(e.const_get(B,"Math",!0,!0).$gamma(t))),e.const_get(B,"Math",!0,!0).$gamma(t)<0?-1:1]},R.$$arity=1),e.defn(P,"$log",M=function(t,$){var r,i=this;return(r=e.String["$==="](t))===o||null==r||r.$$is_boolean&&1!=r||i.$raise(e.Opal.$type_error(t,e.const_get(B,"Float",!0,!0))),(r=null==$)===o||null==r||r.$$is_boolean&&1!=r?((r=e.String["$==="]($))===o||null==r||r.$$is_boolean&&1!=r||i.$raise(e.Opal.$type_error($,e.const_get(B,"Float",!0,!0))),n(e.const_get(B,"Math",!0,!0).$checked("log",e.const_get(B,"Math",!0,!0)["$float!"](t)),e.const_get(B,"Math",!0,!0).$checked("log",e.const_get(B,"Math",!0,!0)["$float!"]($)))):e.const_get(B,"Math",!0,!0).$checked("log",e.const_get(B,"Math",!0,!0)["$float!"](t))},M.$$arity=-2),((_=void 0!==Math.log10)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.log10=function(e){return Math.log(e)/Math.LN10}),e.defn(P,"$log10",T=function(t){var n,$=this;return(n=e.String["$==="](t))===o||null==n||n.$$is_boolean&&1!=n||$.$raise(e.Opal.$type_error(t,e.const_get(B,"Float",!0,!0))),e.const_get(B,"Math",!0,!0).$checked("log10",e.const_get(B,"Math",!0,!0)["$float!"](t))},T.$$arity=1),((_=void 0!==Math.log2)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.log2=function(e){return Math.log(e)/Math.LN2}),e.defn(P,"$log2",I=function(t){var n,$=this;return(n=e.String["$==="](t))===o||null==n||n.$$is_boolean&&1!=n||$.$raise(e.Opal.$type_error(t,e.const_get(B,"Float",!0,!0))),e.const_get(B,"Math",!0,!0).$checked("log2",e.const_get(B,"Math",!0,!0)["$float!"](t))},I.$$arity=1),e.defn(P,"$sin",C=function(t){return e.const_get(B,"Math",!0,!0).$checked("sin",e.const_get(B,"Math",!0,!0)["$float!"](t))},C.$$arity=1),((_=void 0!==Math.sinh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.sinh=function(e){return(Math.exp(e)-Math.exp(-e))/2}),e.defn(P,"$sinh",N=function(t){return e.const_get(B,"Math",!0,!0).$checked("sinh",e.const_get(B,"Math",!0,!0)["$float!"](t))},N.$$arity=1),e.defn(P,"$sqrt",j=function(t){return e.const_get(B,"Math",!0,!0).$checked("sqrt",e.const_get(B,"Math",!0,!0)["$float!"](t))},j.$$arity=1),e.defn(P,"$tan",L=function(t){var n;return t=e.const_get(B,"Math",!0,!0)["$float!"](t),(n=t["$infinite?"]())===o||null==n||n.$$is_boolean&&1!=n?e.const_get(B,"Math",!0,!0).$checked("tan",e.const_get(B,"Math",!0,!0)["$float!"](t)):e.const_get([e.const_get(B,"Float",!0,!0).$$scope],"NAN",!0,!0)},L.$$arity=1),((_=void 0!==Math.tanh)===o||null==_||_.$$is_boolean&&1!=_)&&(Math.tanh=function(e){return 1/0==e?1:e==-1/0?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}),e.defn(P,"$tanh",z=function(t){return e.const_get(B,"Math",!0,!0).$checked("tanh",e.const_get(B,"Math",!0,!0)["$float!"](t))},z.$$arity=1)}($.base,r)},Opal.modules["corelib/complex"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var i=e.top,l=e,a=[e],s=e.nil,c=(e.breaker,e.slice,e.klass),u=e.module;return e.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?","$infinite?"]),i.$require("corelib/numeric"),function(i,l,a){function u(){}var _,d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q=u=c(i,l,"Complex",u),F=q.$$proto,U=q.$$scope,G=a.slice().concat(U);F.real=F.imag=s,e.defs(q,"$rect",_=function(t,n){var $,r,o,i,l=this;return null==n&&(n=0),i=e.const_get(G,"Numeric",!0,!0)["$==="](t),o=i!==!1&&i!==s&&null!=i?t["$real?"]():i,r=o!==!1&&o!==s&&null!=o?e.const_get(G,"Numeric",!0,!0)["$==="](n):o,(($=r!==!1&&r!==s&&null!=r?n["$real?"]():r)===s||null==$||$.$$is_boolean&&1!=$)&&l.$raise(e.const_get(G,"TypeError",!0,!0),"not a real"),l.$new(t,n)},_.$$arity=-2),function(t,n){t.$$proto,t.$$scope,n.slice().concat(t);e.alias(t,"rectangular","rect")}(e.get_singleton_class(q),G),e.defs(q,"$polar",d=function(n,$){var r,o,i,l,a=this;return null==$&&($=0),l=e.const_get(G,"Numeric",!0,!0)["$==="](n),i=l!==!1&&l!==s&&null!=l?n["$real?"]():l,o=i!==!1&&i!==s&&null!=i?e.const_get(G,"Numeric",!0,!0)["$==="]($):i,((r=o!==!1&&o!==s&&null!=o?$["$real?"]():o)===s||null==r||r.$$is_boolean&&1!=r)&&a.$raise(e.const_get(G,"TypeError",!0,!0),"not a real"),a.$new(t(n,e.const_get(G,"Math",!0,!0).$cos($)),t(n,e.const_get(G,"Math",!0,!0).$sin($)))},d.$$arity=-2),q.$attr_reader("real","imag"),e.defn(q,"$initialize",f=function(e,t){var n=this;return null==t&&(t=0),n.real=e,n.imag=t},f.$$arity=-2),e.defn(q,"$coerce",p=function(t){var n,$,r=this;return(n=e.const_get(G,"Complex",!0,!0)["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?($=e.const_get(G,"Numeric",!0,!0)["$==="](t),(n=$!==!1&&$!==s&&null!=$?t["$real?"]():$)===s||null==n||n.$$is_boolean&&1!=n?r.$raise(e.const_get(G,"TypeError",!0,!0),t.$class()+" can't be coerced into Complex"):[e.const_get(G,"Complex",!0,!0).$new(t,0),r]):[t,r]},p.$$arity=1),e.defn(q,"$==",h=function(t){var n,$,r=this;return(n=e.const_get(G,"Complex",!0,!0)["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?($=e.const_get(G,"Numeric",!0,!0)["$==="](t),(n=$!==!1&&$!==s&&null!=$?t["$real?"]():$)===s||null==n||n.$$is_boolean&&1!=n?t["$=="](r):(n=r.real["$=="](t))?r.imag["$=="](0):r.real["$=="](t)):(n=r.real["$=="](t.$real()))?r.imag["$=="](t.$imag()):r.real["$=="](t.$real())},h.$$arity=1),e.defn(q,"$-@",g=function(){var e=this;return e.$Complex(e.real["$-@"](),e.imag["$-@"]())},g.$$arity=0),e.defn(q,"$+",b=function(t){var $,r,o=this;return($=e.const_get(G,"Complex",!0,!0)["$==="](t))===s||null==$||$.$$is_boolean&&1!=$?(r=e.const_get(G,"Numeric",!0,!0)["$==="](t),($=r!==!1&&r!==s&&null!=r?t["$real?"]():r)===s||null==$||$.$$is_boolean&&1!=$?o.$__coerced__("+",t):o.$Complex(n(o.real,t),o.imag)):o.$Complex(n(o.real,t.$real()),n(o.imag,t.$imag()))},b.$$arity=1),e.defn(q,"$-",m=function(t){var n,r,o=this;return(n=e.const_get(G,"Complex",!0,!0)["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?(r=e.const_get(G,"Numeric",!0,!0)["$==="](t),(n=r!==!1&&r!==s&&null!=r?t["$real?"]():r)===s||null==n||n.$$is_boolean&&1!=n?o.$__coerced__("-",t):o.$Complex($(o.real,t),o.imag)):o.$Complex($(o.real,t.$real()),$(o.imag,t.$imag()))},m.$$arity=1),e.defn(q,"$*",y=function(r){var o,i,l=this;return(o=e.const_get(G,"Complex",!0,!0)["$==="](r))===s||null==o||o.$$is_boolean&&1!=o?(i=e.const_get(G,"Numeric",!0,!0)["$==="](r),(o=i!==!1&&i!==s&&null!=i?r["$real?"]():i)===s||null==o||o.$$is_boolean&&1!=o?l.$__coerced__("*",r):l.$Complex(t(l.real,r),t(l.imag,r))):l.$Complex($(t(l.real,r.$real()),t(l.imag,r.$imag())),n(t(l.real,r.$imag()),t(l.imag,r.$real())))},y.$$arity=1),e.defn(q,"$/",v=function(n){var $,o,i,l,a,c=this;return($=e.const_get(G,"Complex",!0,!0)["$==="](n))===s||null==$||$.$$is_boolean&&1!=$?(o=e.const_get(G,"Numeric",!0,!0)["$==="](n),($=o!==!1&&o!==s&&null!=o?n["$real?"]():o)===s||null==$||$.$$is_boolean&&1!=$?c.$__coerced__("/",n):c.$Complex(c.real.$quo(n),c.imag.$quo(n))):(a=e.const_get(G,"Number",!0,!0)["$==="](c.real),($=(o=(i=(l=a!==!1&&a!==s&&null!=a?c.real["$nan?"]():a)!==!1&&l!==s&&null!=l?l:(a=e.const_get(G,"Number",!0,!0)["$==="](c.imag),a!==!1&&a!==s&&null!=a?c.imag["$nan?"]():a))!==!1&&i!==s&&null!=i?i:(l=e.const_get(G,"Number",!0,!0)["$==="](n.$real()),l!==!1&&l!==s&&null!=l?n.$real()["$nan?"]():l))!==!1&&o!==s&&null!=o?o:(i=e.const_get(G,"Number",!0,!0)["$==="](n.$imag()),i!==!1&&i!==s&&null!=i?n.$imag()["$nan?"]():i))===s||null==$||$.$$is_boolean&&1!=$?r(t(c,n.$conj()),n.$abs2()):e.const_get(G,"Complex",!0,!0).$new(e.const_get([e.const_get(G,"Float",!0,!0).$$scope],"NAN",!0,!0),e.const_get([e.const_get(G,"Float",!0,!0).$$scope],"NAN",!0,!0)))},v.$$arity=1),e.defn(q,"$**",w=function(i){var l,a,c,u,_,d=this,f=s,p=s,h=s,g=s,b=s,m=s,y=s,v=s,w=s,k=s,x=s;if(i["$=="](0))return e.const_get(G,"Complex",!0,!0).$new(1,0);if((l=e.const_get(G,"Complex",!0,!0)["$==="](i))===s||null==l||l.$$is_boolean&&1!=l){if((l=e.Integer["$==="](i))===s||null==l||l.$$is_boolean&&1!=l)return(l=(a=e.const_get(G,"Float",!0,!0)["$==="](i))!==!1&&a!==s&&null!=a?a:e.const_get(G,"Rational",!0,!0)["$==="](i))===s||null==l||l.$$is_boolean&&1!=l?d.$__coerced__("**",i):(a=d.$polar(),l=e.to_ary(a),f=null==l[0]?s:l[0],p=null==l[1]?s:l[1],e.const_get(G,"Complex",!0,!0).$polar(f["$**"](i),t(p,i)));if((l=o(i,0))===s||null==l||l.$$is_boolean&&1!=l)return r(e.const_get(G,"Rational",!0,!0).$new(1,1),d)["$**"](i["$-@"]());for(y=d,v=y,w=$(i,1);(a=w["$!="](0))!==s&&null!=a&&(!a.$$is_boolean||1==a);){for(;_=w.$divmod(2),u=e.to_ary(_),k=null==u[0]?s:u[0],x=null==u[1]?s:u[1],(c=x["$=="](0))!==s&&null!=c&&(!c.$$is_boolean||1==c);)y=d.$Complex($(t(y.$real(),y.$real()),t(y.$imag(),y.$imag())),t(t(2,y.$real()),y.$imag())),w=k;v=t(v,y),w=$(w,1)}return v}return a=d.$polar(),l=e.to_ary(a),f=null==l[0]?s:l[0],p=null==l[1]?s:l[1],h=i.$real(),g=i.$imag(),b=e.const_get(G,"Math",!0,!0).$exp($(t(h,e.const_get(G,"Math",!0,!0).$log(f)),t(g,p))),m=n(t(p,h),t(g,e.const_get(G,"Math",!0,!0).$log(f))),e.const_get(G,"Complex",!0,!0).$polar(b,m)},w.$$arity=1),e.defn(q,"$abs",k=function(){var t=this;return e.const_get(G,"Math",!0,!0).$hypot(t.real,t.imag)},k.$$arity=0),e.defn(q,"$abs2",x=function(){var e=this;return n(t(e.real,e.real),t(e.imag,e.imag))},x.$$arity=0),e.defn(q,"$angle",O=function(){var t=this;return e.const_get(G,"Math",!0,!0).$atan2(t.imag,t.real)},O.$$arity=0),e.alias(q,"arg","angle"),e.defn(q,"$conj",E=function(){var e=this;return e.$Complex(e.real,e.imag["$-@"]())},E.$$arity=0),e.alias(q,"conjugate","conj"),e.defn(q,"$denominator",A=function(){var e=this;return e.real.$denominator().$lcm(e.imag.$denominator())},A.$$arity=0),e.alias(q,"divide","/"),e.defn(q,"$eql?",S=function(t){var n,$,r=this;return $=e.const_get(G,"Complex",!0,!0)["$==="](t),n=$!==!1&&$!==s&&null!=$?r.real.$class()["$=="](r.imag.$class()):$,n!==!1&&n!==s&&null!=n?r["$=="](t):n},S.$$arity=1),e.defn(q,"$fdiv",R=function(t){var n,$=this;return((n=e.const_get(G,"Numeric",!0,!0)["$==="](t))===s||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(G,"TypeError",!0,!0),t.$class()+" can't be coerced into Complex"),r($,t)},R.$$arity=1),e.defn(q,"$hash",M=function(){var e=this;return"Complex:"+e.real+":"+e.imag},M.$$arity=0),e.alias(q,"imaginary","imag"),e.defn(q,"$inspect",T=function(){return"("+this.$to_s()+")"},T.$$arity=0),e.alias(q,"magnitude","abs"),e.udef(q,"$negative?"),e.defn(q,"$numerator",I=function(){var e=this,n=s;return n=e.$denominator(),e.$Complex(t(e.real.$numerator(),r(n,e.real.$denominator())),t(e.imag.$numerator(),r(n,e.imag.$denominator())))},I.$$arity=0),e.alias(q,"phase","arg"),e.defn(q,"$polar",C=function(){var e=this;return[e.$abs(),e.$arg()]},C.$$arity=0),e.udef(q,"$positive?"),e.alias(q,"quo","/"),e.defn(q,"$rationalize",N=function(t){var n,$=this;return arguments.length>1&&$.$raise(e.const_get(G,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)"),(n=$.imag["$!="](0))===s||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(G,"RangeError",!0,!0),"can't' convert "+$+" into Rational"),$.$real().$rationalize(t)},N.$$arity=-1),e.defn(q,"$real?",j=function(){return!1},j.$$arity=0),e.defn(q,"$rect",L=function(){var e=this;return[e.real,e.imag]},L.$$arity=0),e.alias(q,"rectangular","rect"),e.defn(q,"$to_f",z=function(){var t=this;return t.imag["$=="](0)||t.$raise(e.const_get(G,"RangeError",!0,!0),"can't convert "+t+" into Float"),t.real.$to_f()},z.$$arity=0),e.defn(q,"$to_i",P=function(){var t=this;return t.imag["$=="](0)||t.$raise(e.const_get(G,"RangeError",!0,!0),"can't convert "+t+" into Integer"),t.real.$to_i()},P.$$arity=0),e.defn(q,"$to_r",D=function(){var t=this;return t.imag["$=="](0)||t.$raise(e.const_get(G,"RangeError",!0,!0),"can't convert "+t+" into Rational"),t.real.$to_r()},D.$$arity=0),e.defn(q,"$to_s",B=function(){var t,$,r,o,i=this,l=s;return l=i.real.$inspect(),o=e.const_get(G,"Number",!0,!0)["$==="](i.imag),l=(t=($=(r=o!==!1&&o!==s&&null!=o?i.imag["$nan?"]():o)!==!1&&r!==s&&null!=r?r:i.imag["$positive?"]())!==!1&&$!==s&&null!=$?$:i.imag["$zero?"]())===s||null==t||t.$$is_boolean&&1!=t?n(l,"-"):n(l,"+"),l=n(l,i.imag.$abs().$inspect()),$=e.const_get(G,"Number",!0,!0)["$==="](i.imag),(t=$!==!1&&$!==s&&null!=$?(r=i.imag["$nan?"]())!==!1&&r!==s&&null!=r?r:i.imag["$infinite?"]():$)===s||null==t||t.$$is_boolean&&1!=t||(l=n(l,"*")),n(l,"i")},B.$$arity=0),e.cdecl(U,"I",q.$new(0,1))}(l.base,e.const_get(a,"Numeric",!0,!0),a),function(t,n){var $,r,o=$=u(t,"Kernel"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);e.defn(o,"$Complex",r=function(t,n){return null==n&&(n=s),n!==!1&&n!==s&&null!=n?e.const_get(l,"Complex",!0,!0).$new(t,n):e.const_get(l,"Complex",!0,!0).$new(t,0)},r.$$arity=-2)}(l.base,a)},Opal.modules["corelib/rational"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var a=e.top,s=e,c=[e],u=e.nil,_=(e.breaker,e.slice,e.klass),d=e.module;return e.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),a.$require("corelib/numeric"),function(a,s,c){function d(){}var f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B=d=_(a,s,"Rational",d),q=B.$$proto,F=B.$$scope,U=c.slice().concat(F);q.num=q.den=u,e.defs(B,"$reduce",f=function($,r){var o,i=this,l=u;if($=$.$to_i(),r=r.$to_i(),r["$=="](0))i.$raise(e.const_get(U,"ZeroDivisionError",!0,!0),"divided by 0");else if((o=t(r,0))===u||null==o||o.$$is_boolean&&1!=o){if(r["$=="](1))return i.$new($,r)}else $=$["$-@"](),r=r["$-@"]();return l=$.$gcd(r),i.$new(n($,l),n(r,l))},f.$$arity=2),e.defs(B,"$convert",p=function(t,$){var r,o,i,l=this;return(r=(o=t["$nil?"]())!==!1&&o!==u&&null!=o?o:$["$nil?"]())===u||null==r||r.$$is_boolean&&1!=r||l.$raise(e.const_get(U,"TypeError",!0,!0),"cannot convert nil into Rational"),o=e.Integer["$==="](t),(r=o!==!1&&o!==u&&null!=o?e.Integer["$==="]($):o)===u||null==r||r.$$is_boolean&&1!=r?((r=(o=(i=e.const_get(U,"Float",!0,!0)["$==="](t))!==!1&&i!==u&&null!=i?i:e.String["$==="](t))!==!1&&o!==u&&null!=o?o:e.const_get(U,"Complex",!0,!0)["$==="](t))===u||null==r||r.$$is_boolean&&1!=r||(t=t.$to_r()),(r=(o=(i=e.const_get(U,"Float",!0,!0)["$==="]($))!==!1&&i!==u&&null!=i?i:e.String["$==="]($))!==!1&&o!==u&&null!=o?o:e.const_get(U,"Complex",!0,!0)["$==="]($))===u||null==r||r.$$is_boolean&&1!=r||($=$.$to_r()),o=$["$equal?"](1),(r=o!==!1&&o!==u&&null!=o?e.Integer["$==="](t)["$!"]():o)===u||null==r||r.$$is_boolean&&1!=r?(o=e.const_get(U,"Numeric",!0,!0)["$==="](t),(r=o!==!1&&o!==u&&null!=o?e.const_get(U,"Numeric",!0,!0)["$==="]($):o)===u||null==r||r.$$is_boolean&&1!=r?l.$reduce(t,$):n(t,$)):e.Opal["$coerce_to!"](t,e.const_get(U,"Rational",!0,!0),"to_r")):l.$reduce(t,$)},p.$$arity=2),B.$attr_reader("numerator","denominator"),e.defn(B,"$initialize",h=function(e,t){var n=this;return n.num=e,n.den=t},h.$$arity=2),e.defn(B,"$numerator",g=function(){return this.num},g.$$arity=0),e.defn(B,"$denominator",b=function(){return this.den},b.$$arity=0),e.defn(B,"$coerce",m=function(t){var n=this,$=u;return function(){return $=t,e.const_get(U,"Rational",!0,!0)["$==="]($)?[t,n]:e.Integer["$==="]($)?[t.$to_r(),n]:e.const_get(U,"Float",!0,!0)["$==="]($)?[t,n.$to_f()]:u}()},m.$$arity=1),e.defn(B,"$==",y=function(t){var n,$=this,r=u;return function(){return r=t,e.const_get(U,"Rational",!0,!0)["$==="](r)?(n=$.num["$=="](t.$numerator()))?$.den["$=="](t.$denominator()):$.num["$=="](t.$numerator()):e.Integer["$==="](r)?(n=$.num["$=="](t))?$.den["$=="](1):$.num["$=="](t):e.const_get(U,"Float",!0,!0)["$==="](r)?$.$to_f()["$=="](t):t["$=="]($)}()},y.$$arity=1),e.defn(B,"$<=>",v=function(t){var n=this,o=u;return function(){return o=t,e.const_get(U,"Rational",!0,!0)["$==="](o)?$(r(n.num,t.$denominator()),r(n.den,t.$numerator()))["$<=>"](0):e.Integer["$==="](o)?$(n.num,r(n.den,t))["$<=>"](0):e.const_get(U,"Float",!0,!0)["$==="](o)?n.$to_f()["$<=>"](t):n.$__coerced__("<=>",t)}()},v.$$arity=1),e.defn(B,"$+",w=function(t){var n=this,$=u,i=u,l=u;return function(){return $=t,e.const_get(U,"Rational",!0,!0)["$==="]($)?(i=o(r(n.num,t.$denominator()),r(n.den,t.$numerator())),l=r(n.den,t.$denominator()),n.$Rational(i,l)):e.Integer["$==="]($)?n.$Rational(o(n.num,r(t,n.den)),n.den):e.const_get(U,"Float",!0,!0)["$==="]($)?o(n.$to_f(),t):n.$__coerced__("+",t)}()},w.$$arity=1),e.defn(B,"$-",k=function(t){var n=this,o=u,i=u,l=u;return function(){return o=t,e.const_get(U,"Rational",!0,!0)["$==="](o)?(i=$(r(n.num,t.$denominator()),r(n.den,t.$numerator())),l=r(n.den,t.$denominator()),n.$Rational(i,l)):e.Integer["$==="](o)?n.$Rational($(n.num,r(t,n.den)),n.den):e.const_get(U,"Float",!0,!0)["$==="](o)?$(n.$to_f(),t):n.$__coerced__("-",t)}()},k.$$arity=1),e.defn(B,"$*",x=function(t){var n=this,$=u,o=u,i=u;return function(){return $=t,e.const_get(U,"Rational",!0,!0)["$==="]($)?(o=r(n.num,t.$numerator()),i=r(n.den,t.$denominator()),n.$Rational(o,i)):e.Integer["$==="]($)?n.$Rational(r(n.num,t),n.den):e.const_get(U,"Float",!0,!0)["$==="]($)?r(n.$to_f(),t):n.$__coerced__("*",t)}()},x.$$arity=1),e.defn(B,"$/",O=function(t){var $=this,o=u,i=u,l=u;return function(){return o=t,e.const_get(U,"Rational",!0,!0)["$==="](o)?(i=r($.num,t.$denominator()),l=r($.den,t.$numerator()),$.$Rational(i,l)):e.Integer["$==="](o)?t["$=="](0)?n($.$to_f(),0):$.$Rational($.num,r($.den,t)):e.const_get(U,"Float",!0,!0)["$==="](o)?n($.$to_f(),t):$.$__coerced__("/",t)}()},O.$$arity=1),e.defn(B,"$**",E=function(n){var $,r,o=this,l=u;return function(){return l=n,e.Integer["$==="](l)?($=(r=o["$=="](0))?t(n,0):o["$=="](0))===u||null==$||$.$$is_boolean&&1!=$?($=i(n,0))===u||null==$||$.$$is_boolean&&1!=$?($=t(n,0))===u||null==$||$.$$is_boolean&&1!=$?o.$Rational(1,1):o.$Rational(o.den["$**"](n["$-@"]()),o.num["$**"](n["$-@"]())):o.$Rational(o.num["$**"](n),o.den["$**"](n)):e.const_get([e.const_get(U,"Float",!0,!0).$$scope],"INFINITY",!0,!0):e.const_get(U,"Float",!0,!0)["$==="](l)?o.$to_f()["$**"](n):e.const_get(U,"Rational",!0,!0)["$==="](l)?n["$=="](0)?o.$Rational(1,1):n.$denominator()["$=="](1)?($=t(n,0))===u||null==$||$.$$is_boolean&&1!=$?o.$Rational(o.num["$**"](n.$numerator()),o.den["$**"](n.$numerator())):o.$Rational(o.den["$**"](n.$numerator().$abs()),o.num["$**"](n.$numerator().$abs())):($=(r=o["$=="](0))?t(n,0):o["$=="](0))===u||null==$||$.$$is_boolean&&1!=$?o.$to_f()["$**"](n):o.$raise(e.const_get(U,"ZeroDivisionError",!0,!0),"divided by 0"):o.$__coerced__("**",n)}()},E.$$arity=1),e.defn(B,"$abs",A=function(){var e=this;return e.$Rational(e.num.$abs(),e.den.$abs())},A.$$arity=0),e.defn(B,"$ceil",S=function(e){var t=this;return null==e&&(e=0),e["$=="](0)?n(t.num["$-@"](),t.den)["$-@"]().$ceil():t.$with_precision("ceil",e)},S.$$arity=-1),e.alias(B,"divide","/"),e.defn(B,"$floor",R=function(e){var t=this;return null==e&&(e=0),e["$=="](0)?n(t.num["$-@"](),t.den)["$-@"]().$floor():t.$with_precision("floor",e)},R.$$arity=-1),e.defn(B,"$hash",M=function(){var e=this;return"Rational:"+e.num+":"+e.den},M.$$arity=0),e.defn(B,"$inspect",T=function(){return"("+this.$to_s()+")"},T.$$arity=0),e.alias(B,"quo","/"),e.defn(B,"$rationalize",I=function(t){var r=this;if(arguments.length>1&&r.$raise(e.const_get(U,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return r;for(var i,a,s,c,u,_=t.$abs(),d=$(r,_),f=o(r,_),p=0,h=1,g=1,b=0;;){if(s=d.$ceil(),l(s,f))break;c=s-1,i=c*h+p,a=c*b+g,u=n(1,$(f,c)),f=n(1,$(d,c)),d=u,p=h,g=b,h=i,b=a}return r.$Rational(s*h+p,s*b+g)},I.$$arity=-1),e.defn(B,"$round",C=function(e){var $,i=this,l=u,a=u,s=u;return null==e&&(e=0),e["$=="](0)?i.num["$=="](0)?0:i.den["$=="](1)?i.num:(l=o(r(i.num.$abs(),2),i.den),a=r(i.den,2),s=n(l,a).$truncate(),($=t(i.num,0))===u||null==$||$.$$is_boolean&&1!=$?s:s["$-@"]()):i.$with_precision("round",e)},C.$$arity=-1),e.defn(B,"$to_f",N=function(){var e=this;return n(e.num,e.den)},N.$$arity=0),e.defn(B,"$to_i",j=function(){return this.$truncate()},j.$$arity=0),e.defn(B,"$to_r",L=function(){return this},L.$$arity=0),e.defn(B,"$to_s",z=function(){var e=this;return e.num+"/"+e.den},z.$$arity=0),e.defn(B,"$truncate",P=function(e){var n,$=this;return null==e&&(e=0),e["$=="](0)?(n=t($.num,0))===u||null==n||n.$$is_boolean&&1!=n?$.$floor():$.$ceil():$.$with_precision("truncate",e)},P.$$arity=-1),e.defn(B,"$with_precision",D=function($,o){var i,l=this,a=u,s=u;return((i=e.Integer["$==="](o))===u||null==i||i.$$is_boolean&&1!=i)&&l.$raise(e.const_get(U,"TypeError",!0,!0),"not an Integer"),a=10["$**"](o),s=r(l,a),(i=t(o,1))===u||null==i||i.$$is_boolean&&1!=i?l.$Rational(s.$send($),a):n(s.$send($),a).$to_i()},D.$$arity=2)}(s.base,e.const_get(c,"Numeric",!0,!0),c),function(t,n){var $,r,o=$=d(t,"Kernel"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);e.defn(o,"$Rational",r=function(t,n){return null==n&&(n=1),e.const_get(l,"Rational",!0,!0).$convert(t,n)},r.$$arity=-2)}(s.base,c)},Opal.modules["corelib/time"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var l=e.top,a=e,s=[e],c=e.nil,u=(e.breaker,e.slice),_=e.klass,d=e.range;return e.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),l.$require("corelib/comparable"),function(l,a,s){function f(){}function p(t,n,$,r,o,i){if(t=t.$$is_string?parseInt(t,10):e.Opal["$coerce_to!"](t,e.Integer,"to_int"),n===c)n=1;else if(!n.$$is_number)if(n["$respond_to?"]("to_str"))switch(n=n.$to_str(),n.toLowerCase()){case"jan":n=1;break;case"feb":n=2;break;case"mar":n=3;break;case"apr":n=4;break;case"may":n=5;break;case"jun":n=6;break;case"jul":n=7;break;case"aug":n=8;break;case"sep":n=9;break;case"oct":n=10;break;case"nov":n=11;break;case"dec":n=12;break;default:n=n.$to_i()}else n=e.Opal["$coerce_to!"](n,e.Integer,"to_int");return(n<1||n>12)&&re.$raise(e.const_get(ie,"ArgumentError",!0,!0),"month out of range: "+n),n-=1,$=$===c?1:$.$$is_string?parseInt($,10):e.Opal["$coerce_to!"]($,e.Integer,"to_int"),($<1||$>31)&&re.$raise(e.const_get(ie,"ArgumentError",!0,!0),"day out of range: "+$),r=r===c?0:r.$$is_string?parseInt(r,10):e.Opal["$coerce_to!"](r,e.Integer,"to_int"),(r<0||r>24)&&re.$raise(e.const_get(ie,"ArgumentError",!0,!0),"hour out of range: "+r),o=o===c?0:o.$$is_string?parseInt(o,10):e.Opal["$coerce_to!"](o,e.Integer,"to_int"),(o<0||o>59)&&re.$raise(e.const_get(ie,"ArgumentError",!0,!0),"min out of range: "+o),i===c?i=0:i.$$is_number||(i=i.$$is_string?parseInt(i,10):e.Opal["$coerce_to!"](i,e.Integer,"to_int")),(i<0||i>60)&&re.$raise(e.const_get(ie,"ArgumentError",!0,!0),"sec out of range: "+i),[t,n,$,r,o,i]}var h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re=f=_(l,a,"Time",f),oe=(re.$$proto,re.$$scope),ie=s.slice().concat(oe);re.$include(e.const_get(ie,"Comparable",!0,!0));var le=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ae=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ce=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.defs(re,"$at",h=function(t,n){var $,r=this;return e.const_get(ie,"Time",!0,!0)["$==="](t)?(void 0!==n&&r.$raise(e.const_get(ie,"TypeError",!0,!0),"can't convert Time into an exact number"),$=new Date(t.getTime()),$.is_utc=t.is_utc,$):(t.$$is_number||(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int")),void 0===n?new Date(1e3*t):(n.$$is_number||(n=e.Opal["$coerce_to!"](n,e.Integer,"to_int")),new Date(1e3*t+n/1e3)))},h.$$arity=-2),e.defs(re,"$new",g=function(t,n,$,r,o,i,l){var a=this;null==n&&(n=c),null==$&&($=c),null==r&&(r=c),null==o&&(o=c),null==i&&(i=c),null==l&&(l=c);var s,u;return void 0===t?new Date:(l!==c&&a.$raise(e.const_get(ie,"ArgumentError",!0,!0),"Opal does not support explicitly specifying UTC offset for Time"),s=p(t,n,$,r,o,i),t=s[0],n=s[1],$=s[2],r=s[3],o=s[4],i=s[5],u=new Date(t,n,$,r,o,0,1e3*i),t<100&&u.setFullYear(t),u)},g.$$arity=-1),e.defs(re,"$local",b=function(e,t,n,$,r,o,i,l,a,s){null==t&&(t=c),null==n&&(n=c),null==$&&($=c),null==r&&(r=c),null==o&&(o=c),null==i&&(i=c),null==l&&(l=c),null==a&&(a=c),null==s&&(s=c);var _,d;return 10===arguments.length&&(_=u.call(arguments),e=_[5],t=_[4],n=_[3],$=_[2],r=_[1],o=_[0]),_=p(e,t,n,$,r,o),e=_[0],t=_[1],n=_[2],$=_[3],r=_[4],o=_[5],d=new Date(e,t,n,$,r,0,1e3*o),e<100&&d.setFullYear(e),d},b.$$arity=-2),e.defs(re,"$gm",m=function(e,t,n,$,r,o,i,l,a,s){null==t&&(t=c),null==n&&(n=c),null==$&&($=c),null==r&&(r=c),null==o&&(o=c),null==i&&(i=c),null==l&&(l=c),null==a&&(a=c),null==s&&(s=c);var _,d;return 10===arguments.length&&(_=u.call(arguments),e=_[5],t=_[4],n=_[3],$=_[2],r=_[1],o=_[0]),_=p(e,t,n,$,r,o),e=_[0],t=_[1],n=_[2],$=_[3],r=_[4],o=_[5],d=new Date(Date.UTC(e,t,n,$,r,0,1e3*o)),e<100&&d.setUTCFullYear(e),d.is_utc=!0,d},m.$$arity=-2),function(t,n){t.$$proto,t.$$scope,n.slice().concat(t);e.alias(t,"mktime","local"),e.alias(t,"utc","gm")}(e.get_singleton_class(re),ie),e.defs(re,"$now",y=function(){return this.$new()},y.$$arity=0),e.defn(re,"$+",v=function(t){var n,$=this;(n=e.const_get(ie,"Time",!0,!0)["$==="](t))===c||null==n||n.$$is_boolean&&1!=n||$.$raise(e.const_get(ie,"TypeError",!0,!0),"time + time?"),t.$$is_number||(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"));var r=new Date($.getTime()+1e3*t);return r.is_utc=$.is_utc,r},v.$$arity=1),e.defn(re,"$-",w=function(t){var n,$=this;if((n=e.const_get(ie,"Time",!0,!0)["$==="](t))!==c&&null!=n&&(!n.$$is_boolean||1==n))return($.getTime()-t.getTime())/1e3;t.$$is_number||(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"));var r=new Date($.getTime()-1e3*t);return r.is_utc=$.is_utc,r},w.$$arity=1),e.defn(re,"$<=>",k=function($){var r,o=this,i=c;return(r=e.const_get(ie,"Time",!0,!0)["$==="]($))===c||null==r||r.$$is_boolean&&1!=r?(i=$["$<=>"](o),(r=i["$nil?"]())===c||null==r||r.$$is_boolean&&1!=r?(r=t(i,0))===c||null==r||r.$$is_boolean&&1!=r?(r=n(i,0))===c||null==r||r.$$is_boolean&&1!=r?0:1:-1:c):o.$to_f()["$<=>"]($.$to_f())},k.$$arity=1),e.defn(re,"$==",x=function(t){var n,$=this;return n=e.const_get(ie,"Time",!0,!0)["$==="](t),n!==!1&&n!==c&&null!=n?$.$to_f()===t.$to_f():n},x.$$arity=1),e.defn(re,"$asctime",O=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},O.$$arity=0),e.alias(re,"ctime","asctime"),
e.defn(re,"$day",E=function(){var e=this;return e.is_utc?e.getUTCDate():e.getDate()},E.$$arity=0),e.defn(re,"$yday",A=function(){var t=this,n=c,i=c,l=c;return n=e.const_get(ie,"Time",!0,!0).$new(t.$year()).$to_i(),i=e.const_get(ie,"Time",!0,!0).$new(t.$year(),t.$month(),t.$day()).$to_i(),l=86400,$(r(o(i,n),l).$round(),1)},A.$$arity=0),e.defn(re,"$isdst",S=function(){var e=this,t=new Date(e.getFullYear(),0,1),n=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),n.getTimezoneOffset())},S.$$arity=0),e.alias(re,"dst?","isdst"),e.defn(re,"$dup",R=function(){var e=this,t=c;return t=new Date(e.getTime()),t.$copy_instance_variables(e),t.$initialize_dup(e),t},R.$$arity=0),e.defn(re,"$eql?",M=function(t){var n,$=this;return n=t["$is_a?"](e.const_get(ie,"Time",!0,!0)),n!==!1&&n!==c&&null!=n?$["$<=>"](t)["$zero?"]():n},M.$$arity=1),e.defn(re,"$friday?",T=function(){return 5==this.$wday()},T.$$arity=0),e.defn(re,"$hash",I=function(){return"Time:"+this.getTime()},I.$$arity=0),e.defn(re,"$hour",C=function(){var e=this;return e.is_utc?e.getUTCHours():e.getHours()},C.$$arity=0),e.defn(re,"$inspect",N=function(){var e,t=this;return(e=t["$utc?"]())===c||null==e||e.$$is_boolean&&1!=e?t.$strftime("%Y-%m-%d %H:%M:%S %z"):t.$strftime("%Y-%m-%d %H:%M:%S UTC")},N.$$arity=0),e.alias(re,"mday","day"),e.defn(re,"$min",j=function(){var e=this;return e.is_utc?e.getUTCMinutes():e.getMinutes()},j.$$arity=0),e.defn(re,"$mon",L=function(){var e=this;return(e.is_utc?e.getUTCMonth():e.getMonth())+1},L.$$arity=0),e.defn(re,"$monday?",z=function(){return 1==this.$wday()},z.$$arity=0),e.alias(re,"month","mon"),e.defn(re,"$saturday?",P=function(){return 6==this.$wday()},P.$$arity=0),e.defn(re,"$sec",D=function(){var e=this;return e.is_utc?e.getUTCSeconds():e.getSeconds()},D.$$arity=0),e.defn(re,"$succ",B=function(){var e=this,t=new Date(e.getTime()+1e3);return t.is_utc=e.is_utc,t},B.$$arity=0),e.defn(re,"$usec",q=function(){return 1e3*this.getMilliseconds()},q.$$arity=0),e.defn(re,"$zone",F=function(){var e,t=this,n=t.toString();return e=n.indexOf("(")==-1?n.match(/[A-Z]{3,4}/)[0]:n.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""),"GMT"==e&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:e},F.$$arity=0),e.defn(re,"$getgm",U=function(){var e=this,t=new Date(e.getTime());return t.is_utc=!0,t},U.$$arity=0),e.alias(re,"getutc","getgm"),e.defn(re,"$gmtime",G=function(){var e=this;return e.is_utc=!0,e},G.$$arity=0),e.alias(re,"utc","gmtime"),e.defn(re,"$gmt?",H=function(){return this.is_utc===!0},H.$$arity=0),e.defn(re,"$gmt_offset",Y=function(){return 60*-this.getTimezoneOffset()},Y.$$arity=0),e.defn(re,"$strftime",K=function(e){var t=this;return e.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(e,n,$,r,o){var i="",l=n.indexOf("0")!==-1,a=n.indexOf("-")===-1,s=n.indexOf("_")!==-1,c=n.indexOf("^")!==-1,u=n.indexOf("#")!==-1,_=(n.match(":")||[]).length;switch($=parseInt($,10),l&&s&&(n.indexOf("0")<n.indexOf("_")?l=!1:s=!1),o){case"Y":i+=t.$year();break;case"C":l=!s,i+=Math.round(t.$year()/100);break;case"y":l=!s,i+=t.$year()%100;break;case"m":l=!s,i+=t.$mon();break;case"B":i+=ce[t.$mon()-1];break;case"b":case"h":s=!l,i+=se[t.$mon()-1];break;case"d":l=!s,i+=t.$day();break;case"e":s=!l,i+=t.$day();break;case"j":i+=t.$yday();break;case"H":l=!s,i+=t.$hour();break;case"k":s=!l,i+=t.$hour();break;case"I":l=!s,i+=t.$hour()%12||12;break;case"l":s=!l,i+=t.$hour()%12||12;break;case"P":i+=t.$hour()>=12?"pm":"am";break;case"p":i+=t.$hour()>=12?"PM":"AM";break;case"M":l=!s,i+=t.$min();break;case"S":l=!s,i+=t.$sec();break;case"L":l=!s,$=isNaN($)?3:$,i+=t.getMilliseconds();break;case"N":$=isNaN($)?9:$,i+=t.getMilliseconds().toString().$rjust(3,"0"),i=i.$ljust($,"0");break;case"z":var f=t.getTimezoneOffset(),p=Math.floor(Math.abs(f)/60),h=Math.abs(f)%60;i+=f<0?"+":"-",i+=p<10?"0":"",i+=p,_>0&&(i+=":"),i+=h<10?"0":"",i+=h,_>1&&(i+=":00");break;case"Z":i+=t.$zone();break;case"A":i+=le[t.$wday()];break;case"a":i+=ae[t.$wday()];break;case"u":i+=t.$wday()+1;break;case"w":i+=t.$wday();break;case"V":i+=t.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":i+=t.$cweek_cyear()["$[]"](1);break;case"g":i+=t.$cweek_cyear()["$[]"](1)["$[]"](d(-2,-1,!1));break;case"s":i+=t.$to_i();break;case"n":i+="\n";break;case"t":i+="\t";break;case"%":i+="%";break;case"c":i+=t.$strftime("%a %b %e %T %Y");break;case"D":case"x":i+=t.$strftime("%m/%d/%y");break;case"F":i+=t.$strftime("%Y-%m-%d");break;case"v":i+=t.$strftime("%e-%^b-%4Y");break;case"r":i+=t.$strftime("%I:%M:%S %p");break;case"R":i+=t.$strftime("%H:%M");break;case"T":case"X":i+=t.$strftime("%H:%M:%S");break;default:return e}return c&&(i=i.toUpperCase()),u&&(i=i.replace(/[A-Z]/,function(e){e.toLowerCase()}).replace(/[a-z]/,function(e){e.toUpperCase()})),a&&(l||s)&&(i=i.$rjust(isNaN($)?2:$,s?" ":"0")),i})},K.$$arity=1),e.defn(re,"$sunday?",W=function(){return 0==this.$wday()},W.$$arity=0),e.defn(re,"$thursday?",X=function(){return 4==this.$wday()},X.$$arity=0),e.defn(re,"$to_a",V=function(){var e=this;return[e.$sec(),e.$min(),e.$hour(),e.$day(),e.$month(),e.$year(),e.$wday(),e.$yday(),e.$isdst(),e.$zone()]},V.$$arity=0),e.defn(re,"$to_f",J=function(){return this.getTime()/1e3},J.$$arity=0),e.defn(re,"$to_i",Z=function(){var e=this;return parseInt(e.getTime()/1e3,10)},Z.$$arity=0),e.alias(re,"to_s","inspect"),e.defn(re,"$tuesday?",Q=function(){return 2==this.$wday()},Q.$$arity=0),e.alias(re,"tv_sec","to_i"),e.alias(re,"tv_usec","usec"),e.alias(re,"utc?","gmt?"),e.alias(re,"gmtoff","gmt_offset"),e.alias(re,"utc_offset","gmt_offset"),e.defn(re,"$wday",ee=function(){var e=this;return e.is_utc?e.getUTCDay():e.getDay()},ee.$$arity=0),e.defn(re,"$wednesday?",te=function(){return 3==this.$wday()},te.$$arity=0),e.defn(re,"$year",ne=function(){var e=this;return e.is_utc?e.getUTCFullYear():e.getFullYear()},ne.$$arity=0),e.defn(re,"$cweek_cyear",$e=function(){var t,n,l=this,a=c,s=c,u=c,_=c,d=c,f=c,p=c;return a=e.const_get(ie,"Time",!0,!0).$new(l.$year(),1,1),s=a.$wday(),0,u=l.$year(),n=i(s,4),(t=n!==!1&&n!==c&&null!=n?s["$!="](0):n)===c||null==t||t.$$is_boolean&&1!=t?(_=o(o(s,7),1),_["$=="](-8)&&(_=-1)):_=o(s,1),d=r($(l.$yday(),_),7).$ceil(),(t=i(d,0))===c||null==t||t.$$is_boolean&&1!=t?(d["$=="](53)&&(f=e.const_get(ie,"Time",!0,!0).$new(l.$year(),12,31),p=f.$wday(),n=i(p,3),(t=n!==!1&&n!==c&&null!=n?p["$!="](0):n)===c||null==t||t.$$is_boolean&&1!=t||(d=1,u=$(u,1))),[d,u]):e.const_get(ie,"Time",!0,!0).$new(o(l.$year(),1),12,31).$cweek_cyear()},$e.$$arity=0),c&&"cweek_cyear"}(a.base,Date,s)},Opal.modules["corelib/struct"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var i=e.top,l=e,a=[e],s=e.nil,c=(e.breaker,e.slice,e.klass),u=e.send,_=e.hash2;return e.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$>","$length","$class","$each_with_index","$[]","$[]=","$-","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$join","$each_pair","$inspect","$inject","$flatten","$to_a","$respond_to?","$dig","$values_at"]),i.$require("corelib/enumerable"),function(i,l,a){function d(){}var f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N=d=c(i,null,"Struct",d),j=(N.$$proto,N.$$scope),L=a.slice().concat(j);return N.$include(e.const_get(L,"Enumerable",!0,!0)),e.defs(N,"$new",f=function(t,n){var $,r,o,i=this,l=f.$$p,a=l||s,c=s,_=arguments.length,d=_-1;d<0&&(d=0),o=new Array(d);for(var p=1;p<_;p++)o[p-1]=arguments[p];if(l&&(f.$$p=null),t!==!1&&t!==s&&null!=t)try{t=e.Opal["$const_name!"](t)}catch(n){if(!e.rescue(n,[e.const_get(L,"TypeError",!0,!0),e.const_get(L,"NameError",!0,!0)]))throw n;try{o.$unshift(t),t=s}finally{e.pop_exception()}}return u(o,"map",[],($=function(t){$.$$s;return null==t&&(t=s),e.Opal["$coerce_to!"](t,e.String,"to_str")},$.$$s=i,$.$$arity=1,$)),c=u(e.const_get(L,"Class",!0,!0),"new",[i],(r=function(){var t,n=r.$$s||this;return u(o,"each",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=s),n.$define_struct_attribute(e)},t.$$s=n,t.$$arity=1,t)),function(t,n){var $;t.$$proto,t.$$scope,n.slice().concat(t);return e.defn(t,"$new",$=function(t){var n,$=this,r=s,o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var l=0;l<o;l++)n[l-0]=arguments[l];return r=$.$allocate(),r.$$data={},u(r,"initialize",e.to_a(n)),r},$.$$arity=-1),e.alias(t,"[]","new")}(e.get_singleton_class(n),L)},r.$$s=i,r.$$arity=0,r)),a!==!1&&a!==s&&null!=a&&u(c,"module_eval",[],a.$to_proc()),t!==!1&&t!==s&&null!=t&&e.const_get(L,"Struct",!0,!0).$const_set(t,c),c},f.$$arity=-2),e.defs(N,"$define_struct_attribute",p=function(t){var n,$,r=this;return r["$=="](e.const_get(L,"Struct",!0,!0))&&r.$raise(e.const_get(L,"ArgumentError",!0,!0),"you cannot define attributes to the Struct class"),r.$members()["$<<"](t),u(r,"define_method",[t],(n=function(){return(n.$$s||this).$$data[t]},n.$$s=r,n.$$arity=0,n)),u(r,"define_method",[t+"="],($=function(e){var n=$.$$s||this;return null==e&&(e=s),n.$$data[t]=e},$.$$s=r,$.$$arity=1,$))},p.$$arity=1),e.defs(N,"$members",h=function(){var t,n=this;return null==n.members&&(n.members=s),n["$=="](e.const_get(L,"Struct",!0,!0))&&n.$raise(e.const_get(L,"ArgumentError",!0,!0),"the Struct class has no members"),(t=n.members)!==!1&&t!==s&&null!=t?t:n.members=[]},h.$$arity=0),e.defs(N,"$inherited",g=function(e){var t,n=this,$=s;return null==n.members&&(n.members=s),$=n.members,u(e,"instance_eval",[],(t=function(){return(t.$$s||this).members=$},t.$$s=n,t.$$arity=0,t))},g.$$arity=1),e.defn(N,"$initialize",b=function($){var r,o,i,l=this,a=arguments.length,c=a-0;c<0&&(c=0),i=new Array(c);for(var _=0;_<a;_++)i[_-0]=arguments[_];return(r=t(i.$length(),l.$class().$members().$length()))===s||null==r||r.$$is_boolean&&1!=r||l.$raise(e.const_get(L,"ArgumentError",!0,!0),"struct size differs"),u(l.$class().$members(),"each_with_index",[],(o=function(t,$){var r=o.$$s||this,l=s;return null==t&&(t=s),null==$&&($=s),l=[t,i["$[]"]($)],u(r,"[]=",e.to_a(l)),l[n(l.length,1)]},o.$$s=l,o.$$arity=2,o))},b.$$arity=-1),e.defn(N,"$members",m=function(){return this.$class().$members()},m.$$arity=0),e.defn(N,"$hash",y=function(){var t=this;return e.const_get(L,"Hash",!0,!0).$new(t.$$data).$hash()},y.$$arity=0),e.defn(N,"$[]",v=function(t){var n,o=this;return(n=e.Integer["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?(n=e.String["$==="](t))===s||null==n||n.$$is_boolean&&1!=n?o.$raise(e.const_get(L,"TypeError",!0,!0),"no implicit conversion of "+t.$class()+" into Integer"):o.$$data.hasOwnProperty(t)||o.$raise(e.const_get(L,"NameError",!0,!0).$new("no member '"+t+"' in struct",t)):((n=$(t,o.$class().$members().$size()["$-@"]()))===s||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(L,"IndexError",!0,!0),"offset "+t+" too small for struct(size:"+o.$class().$members().$size()+")"),(n=r(t,o.$class().$members().$size()))===s||null==n||n.$$is_boolean&&1!=n||o.$raise(e.const_get(L,"IndexError",!0,!0),"offset "+t+" too large for struct(size:"+o.$class().$members().$size()+")"),t=o.$class().$members()["$[]"](t)),t=e.Opal["$coerce_to!"](t,e.String,"to_str"),o.$$data[t]},v.$$arity=1),e.defn(N,"$[]=",w=function(t,n){var o,i=this;return(o=e.Integer["$==="](t))===s||null==o||o.$$is_boolean&&1!=o?(o=e.String["$==="](t))===s||null==o||o.$$is_boolean&&1!=o?i.$raise(e.const_get(L,"TypeError",!0,!0),"no implicit conversion of "+t.$class()+" into Integer"):((o=i.$class().$members()["$include?"](t.$to_sym()))===s||null==o||o.$$is_boolean&&1!=o)&&i.$raise(e.const_get(L,"NameError",!0,!0).$new("no member '"+t+"' in struct",t)):((o=$(t,i.$class().$members().$size()["$-@"]()))===s||null==o||o.$$is_boolean&&1!=o||i.$raise(e.const_get(L,"IndexError",!0,!0),"offset "+t+" too small for struct(size:"+i.$class().$members().$size()+")"),(o=r(t,i.$class().$members().$size()))===s||null==o||o.$$is_boolean&&1!=o||i.$raise(e.const_get(L,"IndexError",!0,!0),"offset "+t+" too large for struct(size:"+i.$class().$members().$size()+")"),t=i.$class().$members()["$[]"](t)),t=e.Opal["$coerce_to!"](t,e.String,"to_str"),i.$$data[t]=n},w.$$arity=2),e.defn(N,"$==",k=function(t){function n(t,$){var r,l,a;o[t.$__id__()]=!0,i[$.$__id__()]=!0;for(r in t.$$data)if(l=t.$$data[r],a=$.$$data[r],e.const_get(L,"Struct",!0,!0)["$==="](l)){if(!(o.hasOwnProperty(l.$__id__())&&i.hasOwnProperty(a.$__id__())||n(l,a)))return!1}else if(!l["$=="](a))return!1;return!0}var $,r=this;if(($=t["$instance_of?"](r.$class()))===s||null==$||$.$$is_boolean&&1!=$)return!1;var o={},i={};return n(r,t)},k.$$arity=1),e.defn(N,"$eql?",x=function(t){function n(t,$){var r,l,a;o[t.$__id__()]=!0,i[$.$__id__()]=!0;for(r in t.$$data)if(l=t.$$data[r],a=$.$$data[r],e.const_get(L,"Struct",!0,!0)["$==="](l)){if(!(o.hasOwnProperty(l.$__id__())&&i.hasOwnProperty(a.$__id__())||n(l,a)))return!1}else if(!l["$eql?"](a))return!1;return!0}var $,r=this;if(($=t["$instance_of?"](r.$class()))===s||null==$||$.$$is_boolean&&1!=$)return!1;var o={},i={};return n(r,t)},x.$$arity=1),e.defn(N,"$each",O=function(){var t,n,$=this,r=O.$$p,o=r||s;return r&&(O.$$p=null),o===s?u($,"enum_for",["each"],(t=function(){return(t.$$s||this).$size()},t.$$s=$,t.$$arity=0,t)):(u($.$class().$members(),"each",[],(n=function(t){var $=n.$$s||this;return null==t&&(t=s),e.yield1(o,$["$[]"](t))},n.$$s=$,n.$$arity=1,n)),$)},O.$$arity=0),e.defn(N,"$each_pair",E=function(){var t,n,$=this,r=E.$$p,o=r||s;return r&&(E.$$p=null),o===s?u($,"enum_for",["each_pair"],(t=function(){return(t.$$s||this).$size()},t.$$s=$,t.$$arity=0,t)):(u($.$class().$members(),"each",[],(n=function(t){var $=n.$$s||this;return null==t&&(t=s),e.yield1(o,[t,$["$[]"](t)])},n.$$s=$,n.$$arity=1,n)),$)},E.$$arity=0),e.defn(N,"$length",A=function(){return this.$class().$members().$length()},A.$$arity=0),e.alias(N,"size","length"),e.defn(N,"$to_a",S=function(){var e,t=this;return u(t.$class().$members(),"map",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=s),n["$[]"](t)},e.$$s=t,e.$$arity=1,e))},S.$$arity=0),e.alias(N,"values","to_a"),e.defn(N,"$inspect",R=function(){var t,n,$,r=this,i=s;return i="#<struct ",n=e.const_get(L,"Struct",!0,!0)["$==="](r),(t=n!==!1&&n!==s&&null!=n?r.$class().$name():n)===s||null==t||t.$$is_boolean&&1!=t||(i=o(i,r.$class()+" ")),i=o(i,u(r.$each_pair(),"map",[],($=function(e,t){$.$$s;return null==e&&(e=s),null==t&&(t=s),e+"="+t.$inspect()},$.$$s=r,$.$$arity=2,$)).$join(", ")),i=o(i,">")},R.$$arity=0),e.alias(N,"to_s","inspect"),e.defn(N,"$to_h",M=function(){var t,$=this;return u($.$class().$members(),"inject",[_([],{})],(t=function($,r){var o=t.$$s||this,i=s;return null==$&&($=s),null==r&&(r=s),i=[r,o["$[]"](r)],u($,"[]=",e.to_a(i)),i[n(i.length,1)],$},t.$$s=$,t.$$arity=2,t))},M.$$arity=0),e.defn(N,"$values_at",T=function(t){var n,$,r=this,o=arguments.length,i=o-0;i<0&&(i=0),$=new Array(i);for(var l=0;l<o;l++)$[l-0]=arguments[l];$=u($,"map",[],(n=function(e){n.$$s;return null==e&&(e=s),e.$$is_range?e.$to_a():e},n.$$s=r,n.$$arity=1,n)).$flatten();for(var a=[],c=0,_=$.length;c<_;c++)$[c].$$is_number||r.$raise(e.const_get(L,"TypeError",!0,!0),"no implicit conversion of "+$[c].$class()+" into Integer"),a.push(r["$[]"]($[c]));return a},T.$$arity=-1),e.defn(N,"$dig",I=function(t,n){var $,r,o=this,i=s,l=arguments.length,a=l-1;a<0&&(a=0),r=new Array(a);for(var c=1;c<l;c++)r[c-1]=arguments[c];return(i=($=t.$$is_string&&o.$$data.hasOwnProperty(t))===s||null==$||$.$$is_boolean&&1!=$?s:o.$$data[t]||s)===s||0===r.length?i:((($=i["$respond_to?"]("dig"))===s||null==$||$.$$is_boolean&&1!=$)&&o.$raise(e.const_get(L,"TypeError",!0,!0),i.$class()+" does not have #dig method"),u(i,"dig",e.to_a(r)))},I.$$arity=-2),e.defs(N,"$_load",C=function(t){var n=this,$=s;return $=u(t,"values_at",e.to_a(n.$members())),u(n,"new",e.to_a($))},C.$$arity=1)}(l.base,0,a)},Opal.modules["corelib/io"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),$=[e],r=e.nil,o=(e.breaker,e.slice,e.klass),i=e.module,l=e.send,a=e.gvars,s=r;e.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(t,n,$){function s(){}var c,u,_,d,f=s=o(t,null,"IO",s),p=f.$$proto,h=f.$$scope,g=$.slice().concat(h);p.tty=p.closed=r,e.cdecl(h,"SEEK_SET",0),e.cdecl(h,"SEEK_CUR",1),e.cdecl(h,"SEEK_END",2),e.defn(f,"$tty?",c=function(){return this.tty},c.$$arity=0),e.defn(f,"$closed?",u=function(){return this.closed},u.$$arity=0),f.$attr_accessor("write_proc"),e.defn(f,"$write",_=function(e){return this.write_proc(e),e.$size()},_.$$arity=1),f.$attr_accessor("sync","tty"),e.defn(f,"$flush",d=function(){return r},d.$$arity=0),function(t,n){var $,o,s,c,u=$=i(t,"Writable"),_=(u.$$proto,u.$$scope);n.slice().concat(_);e.defn(u,"$<<",o=function(e){var t=this;return t.$write(e),t},o.$$arity=1),e.defn(u,"$print",s=function(e){var t,n,$=this;null==a[","]&&(a[","]=r);var o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<o;s++)n[s-0]=arguments[s];return $.$write(l(n,"map",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=r),n.$String(e)},t.$$s=$,t.$$arity=1,t)).$join(a[","])),r},s.$$arity=-1),e.defn(u,"$puts",c=function(e){var t,n,$,o=this,i=r;null==a["/"]&&(a["/"]=r);var s=arguments.length,c=s-0;c<0&&(c=0),$=new Array(c);for(var u=0;u<s;u++)$[u-0]=arguments[u];return i=a["/"],(t=$["$empty?"]())===r||null==t||t.$$is_boolean&&1!=t?o.$write(l($,"map",[],(n=function(e){var t=n.$$s||this;return null==e&&(e=r),t.$String(e).$chomp()},n.$$s=o,n.$$arity=1,n)).$concat([r]).$join(i)):o.$write(a["/"]),r},c.$$arity=-1)}(h.base,g),function(t,n){var $,o,l,s,c,u=$=i(t,"Readable"),_=(u.$$proto,u.$$scope),d=n.slice().concat(_);e.defn(u,"$readbyte",o=function(){return this.$getbyte()},o.$$arity=0),e.defn(u,"$readchar",l=function(){return this.$getc()},l.$$arity=0),e.defn(u,"$readline",s=function(t){var n=this;return null==a["/"]&&(a["/"]=r),null==t&&(t=a["/"]),n.$raise(e.const_get(d,"NotImplementedError",!0,!0))},s.$$arity=-1),e.defn(u,"$readpartial",c=function(t,n){var $=this;return null==n&&(n=r),$.$raise(e.const_get(d,"NotImplementedError",!0,!0))},c.$$arity=-2)}(h.base,g)}(n.base,0,$),e.cdecl(n,"STDERR",a.stderr=e.const_get($,"IO",!0,!0).$new()),e.cdecl(n,"STDIN",a.stdin=e.const_get($,"IO",!0,!0).$new()),e.cdecl(n,"STDOUT",a.stdout=e.const_get($,"IO",!0,!0).$new());var c=e.global.console;return s=["object"==typeof process?function(e){process.stdout.write(e)}:function(e){c.log(e)}],l(e.const_get($,"STDOUT",!0,!0),"write_proc=",e.to_a(s)),s[t(s.length,1)],s=["object"==typeof process?function(e){process.stderr.write(e)}:function(e){c.warn(e)}],l(e.const_get($,"STDERR",!0,!0),"write_proc=",e.to_a(s)),s[t(s.length,1)],e.const_get($,"STDOUT",!0,!0).$extend(e.const_get([e.const_get($,"IO",!0,!0).$$scope],"Writable",!0,!0)),e.const_get($,"STDERR",!0,!0).$extend(e.const_get([e.const_get($,"IO",!0,!0).$$scope],"Writable",!0,!0))},Opal.modules["corelib/main"]=function(e){var t,n,$=e.top,r=[e];e.nil,e.breaker,e.slice;return e.add_stubs(["$include"]),e.defs($,"$to_s",t=function(){return"main"},t.$$arity=0),e.defs($,"$include",n=function(t){return e.const_get(r,"Object",!0,!0).$include(t)},n.$$arity=1)},Opal.modules["corelib/dir"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$[]"]),function(t,n,o){function i(){}var l=i=r(t,null,"Dir",i),a=(l.$$proto,l.$$scope),s=o.slice().concat(a);return function(t,n){var r,o,i,l=(t.$$proto,t.$$scope,n.slice().concat(t));return e.defn(t,"$chdir",r=function(t){var n=r.$$p,o=n||$,i=$;return n&&(r.$$p=null),function(){try{return i=e.current_dir,e.current_dir=t,e.yieldX(o,[])}finally{e.current_dir=i}}()},r.$$arity=1),e.defn(t,"$pwd",o=function(){return e.current_dir||"."},o.$$arity=0),e.alias(t,"getwd","pwd"),e.defn(t,"$home",i=function(){var t;return(t=e.const_get(l,"ENV",!0,!0)["$[]"]("HOME"))!==!1&&t!==$&&null!=t?t:"."},i.$$arity=0),$&&"home"}(e.get_singleton_class(l),s)}(t.base,0,n)},Opal.modules["corelib/file"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var $=(e.top,e),r=[e],o=e.nil,i=(e.breaker,e.slice,e.klass),l=e.send,a=e.range;return e.add_stubs(["$join","$compact","$split","$==","$first","$home","$[]=","$-","$pwd","$each","$pop","$<<","$respond_to?","$coerce_to!","$+","$basename","$empty?","$rindex","$[]","$nil?","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$end_with?","$start_with?","$sub"]),function($,r,s){function c(){}var u=c=i($,r,"File",c),_=(u.$$proto,u.$$scope),d=s.slice().concat(_);return e.cdecl(_,"Separator",e.cdecl(_,"SEPARATOR","/")),e.cdecl(_,"ALT_SEPARATOR",o),e.cdecl(_,"PATH_SEPARATOR",":"),e.cdecl(_,"FNM_SYSCASE",0),function($,r){function i(t){return(u=t["$respond_to?"]("to_path"))===o||null==u||u.$$is_boolean&&1!=u||(t=t.$to_path()),t=e.Opal["$coerce_to!"](t,e.String,"to_str")}function s(){return e.const_get(m,"ALT_SEPARATOR",!0,!0)===o?e.escape_regexp(e.const_get(m,"SEPARATOR",!0,!0)):e.escape_regexp(n(e.const_get(m,"SEPARATOR",!0,!0),e.const_get(m,"ALT_SEPARATOR",!0,!0)))}var c,u,_,d,f,p,h,g,b,m=($.$$proto,$.$$scope,r.slice().concat($));return e.defn($,"$expand_path",c=function(n,$){var r,i=this,a=o,s=o,c=o;return null==$&&($=o),n=[$,n].$compact().$join(e.const_get(m,"SEPARATOR",!0,!0)),a=n.$split(e.const_get(m,"SEPARATOR",!0,!0)),s=[],a.$first()["$=="]("~")&&(c=[0,e.const_get(m,"Dir",!0,!0).$home()],l(a,"[]=",e.to_a(c)),c[t(c.length,1)]),a.$first()["$=="](".")&&(c=[0,e.const_get(m,"Dir",!0,!0).$pwd()],l(a,"[]=",e.to_a(c)),c[t(c.length,1)]),l(a,"each",[],(r=function(e){r.$$s;return null==e&&(e=o),e["$=="]("..")?s.$pop():s["$<<"](e)},r.$$s=i,r.$$arity=1,r)),s.$join(e.const_get(m,"SEPARATOR",!0,!0))},c.$$arity=-2),e.alias($,"realpath","expand_path"),e.defn($,"$dirname",_=function(e){var t=o;t=s(),e=i(e);var n=e.match(new RegExp("^["+t+"]"));return e=e.replace(new RegExp("["+t+"]+$"),""),e=e.replace(new RegExp("[^"+t+"]+$"),""),e=e.replace(new RegExp("["+t+"]+$"),""),""===e?n?"/":".":e},_.$$arity=1),e.defn($,"$basename",d=function(t,n){var $=o;return null==n&&(n=o),$=s(),t=i(t),0==t.length?t:(n=n!==o?e.Opal["$coerce_to!"](n,e.String,"to_str"):null,t=t.replace(new RegExp("(.)["+$+"]*$"),"$1"),t=t.replace(new RegExp("^(?:.*["+$+"])?([^"+$+"]+)$"),"$1"),".*"===n?t=t.replace(/\.[^\.]+$/,""):null!==n&&(n=e.escape_regexp(n),t=t.replace(new RegExp(n+"$"),"")),t)},d.$$arity=-2),e.defn($,"$extname",f=function($){var r,l,s=this,c=o,u=o;return $=i($),c=s.$basename($),(r=c["$empty?"]())===o||null==r||r.$$is_boolean&&1!=r?(u=c["$[]"](a(1,-1,!1)).$rindex("."),(r=(l=u["$nil?"]())!==!1&&l!==o&&null!=l?l:n(u,1)["$=="](t(c.$length(),1)))===o||null==r||r.$$is_boolean&&1!=r?c["$[]"](e.Range.$new(n(u,1),-1,!1)):""):""},f.$$arity=1),e.defn($,"$exist?",p=function(t){return null!=e.modules[t]},p.$$arity=1),e.alias($,"exists?","exist?"),e.defn($,"$directory?",h=function(t){var n,$=this,r=o;r=[];for(var i in e.modules)r.push(i);return t=t.$gsub(new RegExp("(^."+e.const_get(m,"SEPARATOR",!0,!0)+"+|"+e.const_get(m,"SEPARATOR",!0,!0)+"+$)")),l(r,"find",[],(n=function(e){n.$$s;return null==e&&(e=o),e["$=~"](new RegExp("^"+t))},n.$$s=$,n.$$arity=1,n))},h.$$arity=1),e.defn($,"$join",g=function(t){var $,r,i,a,s=this,c=o,u=arguments.length,_=u-0;_<0&&(_=0),a=new Array(_);for(var d=0;d<u;d++)a[d-0]=arguments[d];return a.$length()["$=="](0)?"":(c="",a=l(a.$flatten().$each_with_index(),"map",[],($=function(t,r){var i;$.$$s;return null==t&&(t=o),null==r&&(r=o),((i=r["$=="](0)?t["$empty?"]():r["$=="](0))===o||null==i||i.$$is_boolean&&1!=i)&&((i=a.$length()["$=="](n(r,1))?t["$empty?"]():a.$length()["$=="](n(r,1)))===o||null==i||i.$$is_boolean&&1!=i)?t:e.const_get(m,"SEPARATOR",!0,!0)},$.$$s=s,$.$$arity=2,$)),a=l(a,"reject",[],(r=function(e){r.$$s;return null==e&&(e=o),e["$empty?"]()},r.$$s=s,r.$$arity=1,r)),l(a,"each_with_index",[],(i=function(t,$){var r,l,s=(i.$$s,o);return null==t&&(t=o),null==$&&($=o),s=a["$[]"](n($,1)),(r=s["$nil?"]())===o||null==r||r.$$is_boolean&&1!=r?(l=t["$end_with?"](e.const_get(m,"SEPARATOR",!0,!0)),(r=l!==!1&&l!==o&&null!=l?s["$start_with?"](e.const_get(m,"SEPARATOR",!0,!0)):l)===o||null==r||r.$$is_boolean&&1!=r||(t=t.$sub(new RegExp(e.const_get(m,"SEPARATOR",!0,!0)+"+$"),"")),c=(r=(l=t["$end_with?"](e.const_get(m,"SEPARATOR",!0,!0)))!==!1&&l!==o&&null!=l?l:s["$start_with?"](e.const_get(m,"SEPARATOR",!0,!0)))===o||null==r||r.$$is_boolean&&1!=r?""+c+t+e.const_get(m,"SEPARATOR",!0,!0):""+c+t):c=""+c+t},i.$$s=s,i.$$arity=2,i)),c)},g.$$arity=-1),e.defn($,"$split",b=function(t){return t.$split(e.const_get(m,"SEPARATOR",!0,!0))},b.$$arity=1),o&&"split"}(e.get_singleton_class(u),d)}($.base,e.const_get(r,"IO",!0,!0),r)},Opal.modules["corelib/process"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$to_f","$now","$new"]),function(t,n,o){function i(){}var l,a,s,c=i=r(t,null,"Process",i),u=(c.$$proto,c.$$scope),_=o.slice().concat(u);e.cdecl(u,"CLOCK_REALTIME",0),e.cdecl(u,"CLOCK_MONOTONIC",1),e.defs(c,"$pid",l=function(){return 0},l.$$arity=0),e.defs(c,"$times",a=function(){var t=$;return t=e.const_get(_,"Time",!0,!0).$now().$to_f(),e.const_get([e.const_get(_,"Benchmark",!0,!0).$$scope],"Tms",!0,!0).$new(t,t,t,t,t)},a.$$arity=0),e.defs(c,"$clock_gettime",s=function(t,n){return null==n&&(n=$),e.const_get(_,"Time",!0,!0).$now().$to_f()},s.$$arity=-2)}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=r(t,null,"Signal",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);e.defs(a,"$trap",l=function(e){return $},l.$$arity=-1)}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=r(t,null,"GC",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);return e.defs(a,"$start",l=function(){return $},l.$$arity=0)}(t.base,0,n)},Opal.modules["corelib/random/seedrandom"]=function(e){var t=(e.top,e),n=[e],$=(e.nil,e.breaker,e.slice,e.klass);return function(e,t,n){function r(){}var o=r=$(e,null,"Random",r),i=(o.$$proto,o.$$scope);n.slice().concat(i);!function(e,t){function n(n,s,c){var g=[];s=1==s?{entropy:!0}:s||{};var b=i(o(s.entropy?[n,a(e)]:null==n?l():n,3),g),m=new $(g),y=function(){for(var e=m.g(_),t=f,n=0;e<p;)e=(e+n)*u,t*=u,n=m.g(1);for(;e>=h;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|m.g(4)},y.quick=function(){return m.g(4)/4294967296},y.double=y,i(a(m.S),e),(s.pass||c||function(e,n,$,o){return o&&(o.S&&r(o,m),e.state=function(){return r(m,{})}),$?(t[d]=e,n):e})(y,b,"global"in s?s.global:this==t,s.state)}function $(e){var t,n=e.length,$=this,r=0,o=$.i=$.j=0,i=$.S=[];for(n||(e=[n++]);r<u;)i[r]=r++;for(r=0;r<u;r++)i[r]=i[o=g&o+e[r%n]+(t=i[r])],i[o]=t;($.g=function(e){for(var t,n=0,r=$.i,o=$.j,i=$.S;e--;)t=i[r=g&r+1],n=n*u+i[g&(i[r]=i[o=g&o+t])+(i[o]=t)];return $.i=r,$.j=o,n})(u)}function r(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function o(e,t){var n,$=[],r=typeof e;if(t&&"object"==r)for(n in e)if(e.hasOwnProperty(n))try{$.push(o(e[n],t-1))}catch(e){}return $.length?$:"string"==r?e:e+"\0"}function i(e,t){for(var n,$=e+"",r=0;r<$.length;)t[g&r]=g&(n^=19*t[g&r])+$.charCodeAt(r++);return a(t)}function l(){try{if(s)return a(s.randomBytes(u));var t=new Uint8Array(u);return(c.crypto||c.msCrypto).getRandomValues(t),a(t)}catch(t){var n=c.navigator,$=n&&n.plugins;return[+new Date,c,$,c.screen,a(e)]}}function a(e){return String.fromCharCode.apply(0,e)}var s,c=this,u=256,_=6,d="random",f=t.pow(u,_),p=t.pow(2,52),h=2*p,g=u-1;if(t["seed"+d]=n,i(t.random(),e),"object"==typeof module&&module.exports){module.exports=n;try{s=require("crypto")}catch(e){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return n})}([],Math)}(t.base,0,n)},Opal.modules["corelib/random"]=function(e){var t=e.top,n=e,$=[e],r=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$new","$===","$==","$state","$encode","$join","$map","$times","$chr","$raise"]),t.$require("corelib/random/seedrandom.js"),function(t,n,$){function l(){}var a,s,c,u,_,d,f,p,h=l=o(t,null,"Random",l),g=(h.$$proto,h.$$scope),b=$.slice().concat(g);h.$attr_reader("seed","state"),e.defn(h,"$initialize",a=function(t){var n=this;return null==t&&(t=e.const_get(b,"Random",!0,!0).$new_seed()),t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),n.state=t,n.$reseed(t)},a.$$arity=-1),e.defn(h,"$reseed",s=function(e){var t=this;return t.seed=e,t.$rng=new Math.seedrandom(e)},s.$$arity=1);var m=new Math.seedrandom("opal",{entropy:!0});return e.defs(h,"$new_seed",c=function(){return Math.abs(m.int32())},c.$$arity=0),e.defs(h,"$rand",u=function(t){return e.const_get(b,"DEFAULT",!0,!0).$rand(t)},u.$$arity=-1),e.defs(h,"$srand",_=function(t){var n=r;return null==t&&(t=e.const_get(b,"Random",!0,!0).$new_seed()),t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),n=e.const_get(b,"DEFAULT",!0,!0).$seed(),e.const_get(b,"DEFAULT",!0,!0).$reseed(t),n},_.$$arity=-1),e.cdecl(g,"DEFAULT",h.$new(h.$new_seed())),e.defn(h,"$==",d=function(t){var n,$=this;return!((n=e.const_get(b,"Random",!0,!0)["$==="](t))===r||null==n||n.$$is_boolean&&1!=n)&&((n=$.$seed()["$=="](t.$seed()))?$.$state()["$=="](t.$state()):$.$seed()["$=="](t.$seed()))},d.$$arity=1),e.defn(h,"$bytes",f=function(t){var n,$=this;return t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),i(t.$times(),"map",[],(n=function(){return(n.$$s||this).$rand(255).$chr()},n.$$s=$,n.$$arity=0,n)).$join().$encode(e.const_get([e.const_get(b,"Encoding",!0,!0).$$scope],"ASCII_8BIT",!0,!0))},f.$$arity=1),e.defn(h,"$rand",p=function(t){function n(){return o.state++,o.$rng.quick()}function $(){return Math.floor(n()*t)}var o=this;return null==t?n():t.$$is_range?function(){var e=t.begin,n=t.end;if(e===r||n===r)return r;var $=n-e;return $<0?r:0===$?e:(n%1!=0||e%1!=0||t.exclude||$++,o.$rand($)+e)}():t.$$is_number?(t<=0&&o.$raise(e.const_get(b,"ArgumentError",!0,!0),"invalid argument - "+t),t%1==0?$():n()*t):(t=e.Opal["$coerce_to!"](t,e.Integer,"to_int"),t<=0&&o.$raise(e.const_get(b,"ArgumentError",!0,!0),"invalid argument - "+t),$())},p.$$arity=-1),r&&"rand"}(n.base,0,$)},Opal.modules["corelib/unsupported"]=function(e){function t(t){switch(e.config.unsupported_features_severity){case"error":e.const_get(l,"Kernel",!0,!0).$raise(e.const_get(l,"NotImplementedError",!0,!0),t);break;case"warning":n(t)}}function n(e){u[e]||(u[e]=!0,o.$warn(e))}var $,r,o=e.top,i=e,l=[e],a=e.nil,s=(e.breaker,e.slice,e.klass),c=e.module;e.add_stubs(["$raise","$warn","$%"]);var u={};return function(t,n,$){function r(){}var o,i,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,k,x=r=s(t,null,"String",r),O=(x.$$proto,x.$$scope),E=$.slice().concat(O),A="String#%s not supported. Mutable String methods are not supported in Opal.";e.defn(x,"$<<",o=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("<<"))},o.$$arity=-1),e.defn(x,"$capitalize!",i=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("capitalize!"))},i.$$arity=-1),e.defn(x,"$chomp!",l=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("chomp!"))},l.$$arity=-1),e.defn(x,"$chop!",a=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("chop!"))},a.$$arity=-1),e.defn(x,"$downcase!",c=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("downcase!"))},c.$$arity=-1),e.defn(x,"$gsub!",u=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("gsub!"))},u.$$arity=-1),e.defn(x,"$lstrip!",_=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("lstrip!"))
},_.$$arity=-1),e.defn(x,"$next!",d=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("next!"))},d.$$arity=-1),e.defn(x,"$reverse!",f=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("reverse!"))},f.$$arity=-1),e.defn(x,"$slice!",p=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("slice!"))},p.$$arity=-1),e.defn(x,"$squeeze!",h=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("squeeze!"))},h.$$arity=-1),e.defn(x,"$strip!",g=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("strip!"))},g.$$arity=-1),e.defn(x,"$sub!",b=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("sub!"))},b.$$arity=-1),e.defn(x,"$succ!",m=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("succ!"))},m.$$arity=-1),e.defn(x,"$swapcase!",y=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("swapcase!"))},y.$$arity=-1),e.defn(x,"$tr!",v=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("tr!"))},v.$$arity=-1),e.defn(x,"$tr_s!",w=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("tr_s!"))},w.$$arity=-1),e.defn(x,"$upcase!",k=function(t){return this.$raise(e.const_get(E,"NotImplementedError",!0,!0),A["$%"]("upcase!"))},k.$$arity=-1)}(i.base,0,l),function(n,$){var r,o,i,l=r=c(n,"Kernel"),a=(l.$$proto,l.$$scope),s=($.slice().concat(a),"Object freezing is not supported by Opal");e.defn(l,"$freeze",o=function(){var e=this;return t(s),e},o.$$arity=0),e.defn(l,"$frozen?",i=function(){return t(s),!1},i.$$arity=0)}(i.base,l),function(n,$){var r,o,i,l,a=r=c(n,"Kernel"),s=(a.$$proto,a.$$scope),u=($.slice().concat(s),"Object tainting is not supported by Opal");e.defn(a,"$taint",o=function(){var e=this;return t(u),e},o.$$arity=0),e.defn(a,"$untaint",i=function(){var e=this;return t(u),e},i.$$arity=0),e.defn(a,"$tainted?",l=function(){return t(u),!1},l.$$arity=0)}(i.base,l),function(t,n,$){function r(){}var o,i,l,c,u=r=s(t,null,"Module",r),_=(u.$$proto,u.$$scope);$.slice().concat(_);e.defn(u,"$public",o=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];return 0===t.length&&(n.$$module_function=!1),a},o.$$arity=-1),e.alias(u,"private","public"),e.alias(u,"protected","public"),e.alias(u,"nesting","public"),e.defn(u,"$private_class_method",i=function(e){return this},i.$$arity=-1),e.alias(u,"public_class_method","private_class_method"),e.defn(u,"$private_method_defined?",l=function(e){return!1},l.$$arity=1),e.defn(u,"$private_constant",c=function(e){return a},c.$$arity=-1),e.alias(u,"protected_method_defined?","private_method_defined?"),e.alias(u,"public_instance_methods","instance_methods"),e.alias(u,"public_method_defined?","method_defined?")}(i.base,0,l),function(t,n){var $,r,o=$=c(t,"Kernel"),i=(o.$$proto,o.$$scope);n.slice().concat(i);e.defn(o,"$private_methods",r=function(e){return[]},r.$$arity=-1),e.alias(o,"private_instance_methods","private_methods")}(i.base,l),function(t,n){var $,r,o=$=c(t,"Kernel"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);e.defn(o,"$eval",r=function(t){return this.$raise(e.const_get(l,"NotImplementedError",!0,!0),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+e.const_get(l,"RUBY_ENGINE_VERSION",!0,!0)+"/docs/opal_parser.md for details.")},r.$$arity=-1)}(i.base,l),e.defs(o,"$public",$=function(e){return a},$.$$arity=-1),e.defs(o,"$private",r=function(e){return a},r.$$arity=-1)},Opal.modules.opal=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("opal/base"),t.$require("opal/mini"),t.$require("corelib/string/inheritance"),t.$require("corelib/string/encoding"),t.$require("corelib/math"),t.$require("corelib/complex"),t.$require("corelib/rational"),t.$require("corelib/time"),t.$require("corelib/struct"),t.$require("corelib/io"),t.$require("corelib/main"),t.$require("corelib/dir"),t.$require("corelib/file"),t.$require("corelib/process"),t.$require("corelib/random"),t.$require("corelib/unsupported")},Opal.require("opal")}!function(e,t){"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define("asciidoctor",["module"],function(e){return t(e.config())}):e.Asciidoctor=t}(this,function(e){Opal.modules.set=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var r=(e.top,e),o=[e],i=e.nil,l=(e.breaker,e.slice,e.klass),a=e.send,s=e.module;return e.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$call","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(r,o,s){function c(){}var u,_,d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D=c=l(r,null,"Set",c),B=D.$$proto,q=D.$$scope,F=s.slice().concat(q);B.hash=i,D.$include(e.const_get(F,"Enumerable",!0,!0)),e.defs(D,"$[]",u=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];return n.$new(t)},u.$$arity=-1),e.defn(D,"$initialize",_=function(t){var n,$,r=this,o=_.$$p,l=o||i;return null==t&&(t=i),o&&(_.$$p=null),r.hash=e.const_get(F,"Hash",!0,!0).$new(),(n=t["$nil?"]())===i||null==n||n.$$is_boolean&&1!=n?(((n=e.const_get(F,"Enumerable",!0,!0)["$==="](t))===i||null==n||n.$$is_boolean&&1!=n)&&r.$raise(e.const_get(F,"ArgumentError",!0,!0),"value must be enumerable"),l!==!1&&l!==i&&null!=l?a(t,"each",[],($=function(e){var t=$.$$s||this;return null==e&&(e=i),t.$add(l.$call(e))},$.$$s=r,$.$$arity=1,$)):r.$merge(t)):i},_.$$arity=-1),e.defn(D,"$dup",d=function(){var e=this,t=i;return t=e.$class().$new(),t.$merge(e)},d.$$arity=0),e.defn(D,"$-",f=function(t){var n,$=this;return((n=t["$respond_to?"]("each"))===i||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(F,"ArgumentError",!0,!0),"value must be enumerable"),$.$dup().$subtract(t)},f.$$arity=1),e.alias(D,"difference","-"),e.defn(D,"$inspect",p=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},p.$$arity=0),e.defn(D,"$==",h=function(t){var n,$,r,o=this;return!((n=o["$equal?"](t))===i||null==n||n.$$is_boolean&&1!=n)||((n=t["$instance_of?"](o.$class()))===i||null==n||n.$$is_boolean&&1!=n?($=t["$is_a?"](e.const_get(F,"Set",!0,!0)),!((n=$!==!1&&$!==i&&null!=$?o.$size()["$=="](t.$size()):$)===i||null==n||n.$$is_boolean&&1!=n)&&a(t,"all?",[],(r=function(e){var t=r.$$s||this;return null==t.hash&&(t.hash=i),null==e&&(e=i),t.hash["$include?"](e)},r.$$s=o,r.$$arity=1,r))):o.hash["$=="](t.$instance_variable_get("@hash")))},h.$$arity=1),e.defn(D,"$add",g=function(n){var $=this,r=i;return r=[n,!0],a($.hash,"[]=",e.to_a(r)),r[t(r.length,1)],$},g.$$arity=1),e.alias(D,"<<","add"),e.defn(D,"$classify",b=function(){var n,$,r=this,o=b.$$p,l=o||i,s=i;return o&&(b.$$p=null),l===i?r.$enum_for("classify"):(s=a(e.const_get(F,"Hash",!0,!0),"new",[],(n=function($,r){var o=n.$$s||this,l=i;return null==$&&($=i),null==r&&(r=i),l=[r,o.$class().$new()],a($,"[]=",e.to_a(l)),l[t(l.length,1)]},n.$$s=r,n.$$arity=2,n)),a(r,"each",[],($=function(t){$.$$s;return null==t&&(t=i),s["$[]"](e.yield1(l,t)).$add(t)},$.$$s=r,$.$$arity=1,$)),s)},b.$$arity=0),e.defn(D,"$collect!",m=function(){var t,n=this,$=m.$$p,r=$||i,o=i;return $&&(m.$$p=null),r===i?n.$enum_for("collect!"):(o=n.$class().$new(),a(n,"each",[],(t=function(n){t.$$s;return null==n&&(n=i),o["$<<"](e.yield1(r,n))},t.$$s=n,t.$$arity=1,t)),n.$replace(o))},m.$$arity=0),e.alias(D,"map!","collect!"),e.defn(D,"$delete",y=function(e){var t=this;return t.hash.$delete(e),t},y.$$arity=1),e.defn(D,"$delete?",v=function(e){var t,n=this;return(t=n["$include?"](e))===i||null==t||t.$$is_boolean&&1!=t?i:(n.$delete(e),n)},v.$$arity=1),e.defn(D,"$delete_if",w=function(){try{var t,n,$,r=this,o=w.$$p,l=o||i;return o&&(w.$$p=null),(t=l!==i)!=!1&&t!==i&&null!=t||e.ret(r.$enum_for("delete_if")),a(a(r,"select",[],(n=function(t){n.$$s;return null==t&&(t=i),e.yield1(l,t)},n.$$s=r,n.$$arity=1,n)),"each",[],($=function(e){var t=$.$$s||this;return null==t.hash&&(t.hash=i),null==e&&(e=i),t.hash.$delete(e)},$.$$s=r,$.$$arity=1,$)),r}catch(t){if(t===e.returner)return t.$v;throw t}},w.$$arity=0),e.defn(D,"$add?",k=function(e){var t,n=this;return(t=n["$include?"](e))===i||null==t||t.$$is_boolean&&1!=t?n.$add(e):i},k.$$arity=1),e.defn(D,"$each",x=function(){var e=this,t=x.$$p,n=t||i;return t&&(x.$$p=null),n===i?e.$enum_for("each"):(a(e.hash,"each_key",[],n.$to_proc()),e)},x.$$arity=0),e.defn(D,"$empty?",O=function(){return this.hash["$empty?"]()},O.$$arity=0),e.defn(D,"$eql?",E=function(e){var t,n=this;return n.hash["$eql?"](a(e,"instance_eval",[],(t=function(){var e=t.$$s||this;return null==e.hash&&(e.hash=i),e.hash},t.$$s=n,t.$$arity=0,t)))},E.$$arity=1),e.defn(D,"$clear",A=function(){var e=this;return e.hash.$clear(),e},A.$$arity=0),e.defn(D,"$include?",S=function(e){return this.hash["$include?"](e)},S.$$arity=1),e.alias(D,"member?","include?"),e.defn(D,"$merge",R=function(e){var t,n=this;return a(e,"each",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=i),n.$add(e)},t.$$s=n,t.$$arity=1,t)),n},R.$$arity=1),e.defn(D,"$replace",M=function(e){var t=this;return t.$clear(),t.$merge(e),t},M.$$arity=1),e.defn(D,"$size",T=function(){return this.hash.$size()},T.$$arity=0),e.alias(D,"length","size"),e.defn(D,"$subtract",I=function(e){var t,n=this;return a(e,"each",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=i),n.$delete(e)},t.$$s=n,t.$$arity=1,t)),n},I.$$arity=1),e.defn(D,"$|",C=function(t){var n,$=this;return((n=t["$respond_to?"]("each"))===i||null==n||n.$$is_boolean&&1!=n)&&$.$raise(e.const_get(F,"ArgumentError",!0,!0),"value must be enumerable"),$.$dup().$merge(t)},C.$$arity=1),e.defn(D,"$superset?",N=function(t){var $,r,o=this;return($=t["$is_a?"](e.const_get(F,"Set",!0,!0)))!==!1&&$!==i&&null!=$||o.$raise(e.const_get(F,"ArgumentError",!0,!0),"value must be a set"),!!(($=n(o.$size(),t.$size()))===i||null==$||$.$$is_boolean&&1!=$)&&a(t,"all?",[],(r=function(e){var t=r.$$s||this;return null==e&&(e=i),t["$include?"](e)},r.$$s=o,r.$$arity=1,r))},N.$$arity=1),e.alias(D,">=","superset?"),e.defn(D,"$proper_superset?",j=function(t){var n,r,o=this;return(n=t["$is_a?"](e.const_get(F,"Set",!0,!0)))!==!1&&n!==i&&null!=n||o.$raise(e.const_get(F,"ArgumentError",!0,!0),"value must be a set"),!!((n=$(o.$size(),t.$size()))===i||null==n||n.$$is_boolean&&1!=n)&&a(t,"all?",[],(r=function(e){var t=r.$$s||this;return null==e&&(e=i),t["$include?"](e)},r.$$s=o,r.$$arity=1,r))},j.$$arity=1),e.alias(D,">","proper_superset?"),e.defn(D,"$subset?",L=function(t){var $,r,o=this;return($=t["$is_a?"](e.const_get(F,"Set",!0,!0)))!==!1&&$!==i&&null!=$||o.$raise(e.const_get(F,"ArgumentError",!0,!0),"value must be a set"),!!(($=n(t.$size(),o.$size()))===i||null==$||$.$$is_boolean&&1!=$)&&a(o,"all?",[],(r=function(e){r.$$s;return null==e&&(e=i),t["$include?"](e)},r.$$s=o,r.$$arity=1,r))},L.$$arity=1),e.alias(D,"<=","subset?"),e.defn(D,"$proper_subset?",z=function(t){var n,r,o=this;return(n=t["$is_a?"](e.const_get(F,"Set",!0,!0)))!==!1&&n!==i&&null!=n||o.$raise(e.const_get(F,"ArgumentError",!0,!0),"value must be a set"),!!((n=$(t.$size(),o.$size()))===i||null==n||n.$$is_boolean&&1!=n)&&a(o,"all?",[],(r=function(e){r.$$s;return null==e&&(e=i),t["$include?"](e)},r.$$s=o,r.$$arity=1,r))},z.$$arity=1),e.alias(D,"<","proper_subset?"),e.alias(D,"+","|"),e.alias(D,"union","|"),e.defn(D,"$to_a",P=function(){return this.hash.$keys()},P.$$arity=0)}(r.base,0,o),function(t,n){var $,r,o=$=s(t,"Enumerable"),l=(o.$$proto,o.$$scope),c=n.slice().concat(l);e.defn(o,"$to_set",r=function(t,n){var $,o=this,l=r.$$p,s=l||i;null==t&&(t=e.const_get(c,"Set",!0,!0));var u=arguments.length,_=u-1;_<0&&(_=0),$=new Array(_);for(var d=1;d<u;d++)$[d-1]=arguments[d];return l&&(r.$$p=null),a(t,"new",[o].concat(e.to_a($)),s.$to_proc())},r.$$arity=-1)}(r.base,o)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.module),o=e.send,i=e.klass,l=e.gvars;return e.add_stubs(["$new","$attr_reader","$delete","$gsub","$==","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split","$==="]),function(t,n){var i,l,a=i=r(t,"Kernel"),s=(a.$$proto,a.$$scope),c=n.slice().concat(s);e.defn(a,"$open",l=function(t,n){var r,i=l.$$p,a=i||$,s=$,u=arguments.length,_=u-1;_<0&&(_=0),r=new Array(_);for(var d=1;d<u;d++)r[d-1]=arguments[d];return i&&(l.$$p=null),s=o(e.const_get(c,"File",!0,!0),"new",[t].concat(e.to_a(r))),a!==$?e.yield1(a,s):s},l.$$arity=-2)}(t.base,n),function(t,n,r){function o(){}var a,s,c,u,_,d,f,p,h=o=i(t,null,"File",o),g=h.$$proto,b=h.$$scope,m=r.slice().concat(b);g.eof=g.path=$,h.$attr_reader("eof"),h.$attr_reader("lineno"),h.$attr_reader("path"),e.defn(h,"$initialize",a=function(t,n){var r=this,o=$;return null==n&&(n="r"),r.path=t,r.contents=$,r.eof=!1,r.lineno=0,n=n.$delete("b"),o=/:(.*)/,n=n.$gsub(o,""),r.flags=n,e.const_get(m,"JAVASCRIPT_IO_MODULE",!0,!0)["$=="]("node")?r.fd=require("fs").openSync(t,n):$},a.$$arity=-2),e.defn(h,"$read",s=function(){var t,n=this,r=$;return(t=n.eof)===$||null==t||t.$$is_boolean&&1!=t?(r=e.const_get(m,"File",!0,!0).$read(n.path),n.eof=!0,n.lineno=r.$size(),r):""},s.$$arity=0),e.defn(h,"$each_line",c=function(t){var n,r=this,o=c.$$p,i=o||$,a=$;if(null==l["/"]&&(l["/"]=$),null==t&&(t=l["/"]),o&&(c.$$p=null),(n=r.eof)!==$&&null!=n&&(!n.$$is_boolean||1==n))return function(){return i!==$?r:[].$to_enum()}();if(i!==$){a=e.const_get(m,"File",!0,!0).$read(r.path),r.eof=!1,r.lineno=0;for(var s=a.$chomp(),u=a.length!=s.length,_=s.split(t),d=0,f=_.length;d<f;d++)r.lineno+=1,d<f-1||u?e.yield1(i,_[d]+t):e.yield1(i,_[d]);return r.eof=!0,r}return r.$read().$each_line()},c.$$arity=-1),e.defn(h,"$readlines",u=function(){var t=this;return e.const_get(m,"File",!0,!0).$readlines(t.path)},u.$$arity=0),e.defs(h,"$readlines",_=function(t,n){var r=$;return null==l["/"]&&(l["/"]=$),null==n&&(n=l["/"]),r=e.const_get(m,"File",!0,!0).$read(t),r.$split(n)},_.$$arity=-2),e.defs(h,"$file?",d=function(e){return!0},d.$$arity=1),e.defs(h,"$readable?",f=function(e){return!0},f.$$arity=1),e.defs(h,"$read",p=function(t){var n=$;return function(){if(n=e.const_get(m,"JAVASCRIPT_IO_MODULE",!0,!0),"node"["$==="](n))return require("fs").readFileSync(t,"utf8");if("phantomjs"["$==="](n))return require("fs").read(t);if("java_nio"["$==="](n)){var $=Java.type("java.nio.file.Paths"),r=Java.type("java.nio.file.Files"),o=r.readAllLines($.get(t),Java.type("java.nio.charset.StandardCharsets").UTF_8),i=[];return o.forEach(function(e){i.push(e)}),i.join("\n")}if("xmlhttprequest"["$==="](n)){var i="",l=-1;try{var a=new XMLHttpRequest;a.open("GET",t,!1),a.addEventListener("load",function(){0!=(l=this.status)&&200!=l||(i=this.responseText)}),a.overrideMimeType("text/plain"),a.send()}catch(e){l=0}if(404==l||0==l&&""==i)throw e.const_get(m,"IOError",!0,!0).$new("No such file or directory: "+t);return i}return"spidermonkey"["$==="](n)?read(t):""}()},p.$$arity=1)}(t.base,0,n),function(t,n,$){function r(){}var o,l=r=i(t,null,"IO",r),a=(l.$$proto,l.$$scope),s=$.slice().concat(a);return e.defs(l,"$read",o=function(t){return e.const_get(s,"File",!0,!0).$read(t)},o.$$arity=1)}(t.base,0,n)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),$=[e],r=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$[]=","$-"]),function(n,$,l){function a(){}var s,c=a=o(n,null,"MatchData",a),u=c.$$proto,_=c.$$scope;l.slice().concat(_);return u.matches=r,e.defn(c,"$[]=",s=function(n,$){var o=this,l=r;return l=[n,$],i(o.matches,"[]=",e.to_a(l)),l[t(l.length,1)]},s.$$arity=2),r&&"[]="}(n.base,0,$)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(e){var t=(e.top,e),n=[e],$=(e.nil,e.breaker,e.slice,e.module);return function(t,n){var r,o,i=r=$(t,"Kernel"),l=(i.$$proto,i.$$scope);n.slice().concat(l);e.defn(i,"$freeze",o=function(){return this},o.$$arity=0)}(t.base,n)},Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass;return function(e,t){var n,$=n=r(e,"ThreadSafe"),o=($.$$proto,$.$$scope);t.slice().concat(o)}(t.base,n),function(e,t,n){function r(){}var i=r=o(e,t,"Cache",r),l=(i.$$proto,i.$$scope);n.slice().concat(l);return $}(t.base,e.const_get([e.Object.$$scope],"Hash",!0,!0),n)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var n=(e.top,e),$=[e],r=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(n,$,l){function a(){}var s,c,u,_=a=o(n,null,"String",a),d=(_.$$proto,_.$$scope);l.slice().concat(d);return((s=_["$method_defined?"]("limit_bytesize"))===r||null==s||s.$$is_boolean&&1!=s)&&e.defn(_,"$limit_bytesize",c=function(e){var n,$=this,o=r;return(n=t(e,$.$bytes().$length()))===r||null==n||n.$$is_boolean&&1!=n?$.$to_s():(o=$.$byteslice(0,e),o.$to_s())},c.$$arity=1),((s=_["$method_defined?"]("limit"))===r||null==s||s.$$is_boolean&&1!=s)&&e.alias(_,"limit","limit_bytesize"),e.alias(_,"_original_unpack","unpack"),e.defn(_,"$unpack",u=function(e){var t,n=this;return e["$=="]("C3")?i(n["$[]"](0,3).$bytes().$select(),"with_index",[],(t=function(e,n){t.$$s;return null==e&&(e=r),null==n&&(n=r),n["$even?"]()},t.$$s=n,t.$$arity=2,t)):n.$_original_unpack(e)},u.$$arity=1),r&&"unpack"}(n.base,0,$)},Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e.nil),$=(e.breaker,e.slice,e.send),r=e.gvars,o=n;return null==r.stdout&&(r.stdout=n),null==r.stderr&&(r.stderr=n),e.add_stubs(["$write_proc=","$-"]),o=[function(e){print(e)}],$(r.stdout,"write_proc=",e.to_a(o)),o[t(o.length,1)],o=[function(e){print(e)}],$(r.stderr,"write_proc=",e.to_a(o)),o[t(o.length,1)]},Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e.nil),$=(e.breaker,e.slice,e.send),r=e.gvars,o=n;return null==r.stdout&&(r.stdout=n),null==r.stderr&&(r.stderr=n),e.add_stubs(["$write_proc=","$-"]),o=[function(e){console.log(e)}],$(r.stdout,"write_proc=",e.to_a(o)),o[t(o.length,1)],o=[function(e){console.error(e)}],$(r.stderr,"write_proc=",e.to_a(o)),o[t(o.length,1)]},Opal.modules["asciidoctor/js/opal_ext/node/io"]=function(e){function t(t){try{return t()}catch(t){if("EACCES"===t.code||"EISDIR"===t.code||"EMFILE"===t.code||"ENOENT"===t.code||"EPERM"===t.code)throw e.IOError.$new(t.message);throw t}}var n=(e.top,e),$=[e],r=(e.nil,e.breaker,e.slice,e.klass);return function(n,$,o){function i(){}var l,a=i=r(n,null,"IO",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);return e.defs(a,"$binread",l=function(e){return t(function(){return require("fs").readFileSync(e).toString("binary")})},l.$$arity=1)}(n.base,0,$)},Opal.modules["asciidoctor/js/opal_ext/node/file"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$exist?"]),function(t,n,o){function i(){}var l,a=i=r(t,null,"File",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);return e.defs(a,"$readable?",l=function(e){var t;return!((t=this["$exist?"](e))===$||null==t||t.$$is_boolean&&1!=t)&&"\n      var fs = require('fs');\n      try {\n        fs.accessSync(path, fs.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    "},l.$$arity=1)}(t.base,0,n)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var n=t.top,$=t,r=[t],o=t.nil;t.breaker,t.slice;t.add_stubs(["$require","$=="]);var i,l,a,s,c="object"==typeof process&&"object"==typeof process.versions&&1!=process.browser,u="object"==typeof navigator&&"string"==typeof navigator.userAgent&&typeof navigator.userAgent.indexOf("Electron")!==-1,_="object"==typeof window,d="object"==typeof Java&&Java.type,f="object"==typeof java,p="object"==typeof window&&"object"==typeof window.phantom,h="function"==typeof importScripts,g="object"==typeof JSRuntime;if(t.load("pathname"),t.load("base64"),"object"==typeof e&&"object"==typeof e.runtime){var b=e.runtime;i=b.platform,l=b.engine,a=b.framework,s=b.ioModule}if(void 0===i&&(c?(i=i||"node",l=l||"v8",u&&(a=a||"electron")):d?(i=plaform||"java",l=l||"nashorn"):f?(i=i||"java",l=l||"rhino"):g?(i=i||"standalone",a=a||"spidermonkey"):_&&(i=i||"browser",p&&(a=a||"phantomjs")),h&&(a=a||"webworker")),void 0===i)throw new Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");if(void 0===a&&(a=""),void 0===l&&(l=""),void 0!==s){if("spidermonkey"!=s&&"phantomjs"!=s&&"node"!=s&&"java_nio"!=s&&"xmlhttprequest"!=s)throw new Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest")}else if("spidermonkey"===a)s="spidermonkey";else if("phantomjs"===a)s="phantomjs";else if("node"===i)s="node";else if("nashorn"===l)s="java_nio";else{if("browser"!==i&&"undefined"==typeof XmlHTTPRequest)throw new Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");s="xmlhttprequest"}return t.cdecl($,"JAVASCRIPT_IO_MODULE",s),t.cdecl($,"JAVASCRIPT_PLATFORM",i),t.cdecl($,"JAVASCRIPT_ENGINE",l),t.cdecl($,"JAVASCRIPT_FRAMEWORK",a),n.$require("asciidoctor/js/opal_ext/file"),n.$require("asciidoctor/js/opal_ext/match_data"),n.$require("asciidoctor/js/opal_ext/kernel"),n.$require("asciidoctor/js/opal_ext/thread_safe"),n.$require("asciidoctor/js/opal_ext/string"),t.const_get(r,"JAVASCRIPT_ENGINE",!0,!0)["$=="]("nashorn")&&n.$require("asciidoctor/js/opal_ext/nashorn/io"),t.const_get(r,"JAVASCRIPT_FRAMEWORK",!0,!0)["$=="]("electron")&&n.$require("asciidoctor/js/opal_ext/electron/io"),t.const_get(r,"JAVASCRIPT_PLATFORM",!0,!0)["$=="]("node")?(n.$require("asciidoctor/js/opal_ext/node/io"),n.$require("asciidoctor/js/opal_ext/node/file"),t.load("nodejs")):o},Opal.modules["asciidoctor/js/rx"]=function(e){var t=(e.top,e),n=[e],$=(e.nil,e.breaker,e.slice,e.module);return function(t,n){var r,o=r=$(t,"Asciidoctor"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);e.cdecl(i,"P_L","A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"),e.cdecl(i,"P_Nl","ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ"),e.cdecl(i,"P_Nd","0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９"),e.cdecl(i,"P_Pc","_‿⁀⁔︳︴﹍-﹏＿"),e.cdecl(i,"CC_ALPHA",""+e.const_get(l,"P_L",!0,!0)+e.const_get(l,"P_Nl",!0,!0)),e.cdecl(i,"CG_ALPHA","["+e.const_get(l,"CC_ALPHA",!0,!0)+"]"),e.cdecl(i,"CC_ALNUM",""+e.const_get(l,"CC_ALPHA",!0,!0)+e.const_get(l,"P_Nd",!0,!0)),e.cdecl(i,"CG_ALNUM","["+e.const_get(l,"CC_ALNUM",!0,!0)+"]"),e.cdecl(i,"CC_WORD",""+e.const_get(l,"CC_ALNUM",!0,!0)+e.const_get(l,"P_Pc",!0,!0)),e.cdecl(i,"CG_WORD","["+e.const_get(l,"CC_WORD",!0,!0)+"]"),e.cdecl(i,"CG_BLANK","[ \\t]"),e.cdecl(i,"CC_EOL","(?=\\n|$)"),e.cdecl(i,"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),e.cdecl(i,"CC_ALL","[\\s\\S]")}(t.base,n)},Opal.modules.strscan=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),$=[e],r=e.nil,o=(e.breaker,e.slice,e.klass),i=e.send;return e.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(n,$,l){function a(){}var s,c,u,_,d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N=a=o(n,null,"StringScanner",a),j=N.$$proto,L=N.$$scope;l.slice().concat(L);return j.pos=j.string=j.working=j.matched=j.prev_pos=j.match=r,N.$attr_reader("pos"),N.$attr_reader("matched"),e.defn(N,"$initialize",s=function(e){var t=this;return t.string=e,t.pos=0,t.matched=r,t.working=e,t.match=[]},s.$$arity=1),N.$attr_reader("string"),e.defn(N,"$beginning_of_line?",c=function(){var e=this;return 0===e.pos||"\n"===e.string.charAt(e.pos-1)},c.$$arity=0),e.alias(N,"bol?","beginning_of_line?"),e.defn(N,"$scan",u=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);return null==n?t.matched=r:"object"==typeof n?(t.prev_pos=t.pos,t.pos+=n[0].length,t.working=t.working.substring(n[0].length),t.matched=n[0],t.match=n,n[0]):"string"==typeof n?(t.pos+=n.length,t.working=t.working.substring(n.length),n):r},u.$$arity=1),e.defn(N,"$scan_until",_=function(e){var t=this;e=t.$anchor(e);for(var n,$=t.pos,o=t.working;;){if(n=e.exec(o),$+=1,o=o.substr(1),null!=n)return t.matched=t.string.substr(t.pos,$-t.pos-1+n[0].length),t.prev_pos=$-1,t.pos=$,t.working=o.substr(n[0].length),t.matched;if(0===o.length)return t.matched=r}},_.$$arity=1),e.defn(N,"$[]",d=function(e){var t=this,n=t.match;return e<0&&(e+=n.length),e<0||e>=n.length?r:null==n[e]?r:n[e]},d.$$arity=1),e.defn(N,"$check",f=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);return t.matched=null==n?r:n[0]},f.$$arity=1),e.defn(N,"$check_until",p=function(e){var t=this,n=t.prev_pos,$=t.pos,o=t.$scan_until(e);return o!==r&&(t.matched=o.substr(-1),t.working=t.string.substr($)),t.prev_pos=n,t.pos=$,o},p.$$arity=1),e.defn(N,"$peek",h=function(e){return this.working.substring(0,e)},h.$$arity=1),e.defn(N,"$eos?",g=function(){return 0===this.working.length},g.$$arity=0),e.defn(N,"$exist?",b=function(e){var t=this,n=e.exec(t.working);return null==n?r:0==n.index?0:n.index+1},b.$$arity=1),e.defn(N,"$skip",m=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);if(null==n)return t.matched=r;var $=n[0],o=$.length;return t.matched=$,t.prev_pos=t.pos,t.pos+=o,t.working=t.working.substring(o),o},m.$$arity=1),e.defn(N,"$skip_until",y=function(e){var t=this,n=t.$scan_until(e);return n===r?r:(t.matched=n.substr(-1),n.length)},y.$$arity=1),e.defn(N,"$get_byte",v=function(){var e=this,t=r;return e.pos<e.string.length?(e.prev_pos=e.pos,e.pos+=1,t=e.matched=e.working.substring(0,1),e.working=e.working.substring(1)):e.matched=r,t},v.$$arity=0),e.alias(N,"getch","get_byte"),e.defn(N,"$match?",w=function(e){var t=this;e=t.$anchor(e);var n=e.exec(t.working);return null==n?r:(t.prev_pos=t.pos,n[0].length)},w.$$arity=1),e.defn(N,"$pos=",k=function(e){var t=this;return e<0&&(e+=t.string.$length()),t.pos=e,t.working=t.string.slice(e)},k.$$arity=1),e.defn(N,"$matched_size",x=function(){var e=this;return e.matched===r?r:e.matched.length},x.$$arity=0),e.defn(N,"$post_match",O=function(){var e=this;return e.matched===r?r:e.string.substr(e.pos)},O.$$arity=0),e.defn(N,"$pre_match",E=function(){var e=this;return e.matched===r?r:e.string.substr(0,e.prev_pos)},E.$$arity=0),e.defn(N,"$reset",A=function(){var e=this;return e.working=e.string,e.matched=r,e.pos=0},A.$$arity=0),e.defn(N,"$rest",S=function(){return this.working},S.$$arity=0),e.defn(N,"$rest?",R=function(){return 0!==this.working.length},R.$$arity=0),e.defn(N,"$rest_size",M=function(){return this.$rest().$size()},M.$$arity=0),e.defn(N,"$terminate",T=function(){var n=this,$=r;return n.match=r,$=[n.string.$length()],i(n,"pos=",e.to_a($)),$[t($.length,1)]},T.$$arity=0),e.defn(N,"$unscan",I=function(){var e=this;return e.pos=e.prev_pos,e.prev_pos=r,e.match=r,e},I.$$arity=0),N.$private(),e.defn(N,"$anchor",C=function(e){var t=e.toString().match(/\/([^\/]+)$/);return t=t?t[1]:void 0,new RegExp("^(?:"+e.source+")",t)},C.$$arity=1),r&&"anchor"}(n.base,0,$)},Opal.modules["asciidoctor/js"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("asciidoctor/js/opal_ext"),t.$require("asciidoctor/js/rx"),t.$require("strscan")},Opal.modules["asciidoctor/converter/base"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,i=e.hash2;return e.add_stubs(["$include","$node_name","$empty?","$send","$content"]),function(t,n){var l,a=l=r(t,"Asciidoctor"),s=(a.$$proto,a.$$scope),c=n.slice().concat(s);!function(e,t){var n,$=n=r(e,"Converter"),o=($.$$proto,$.$$scope);t.slice().concat(o)}(s.base,c),function(t,n,$){function r(){}var i=r=o(t,null,"Base",r),l=(i.$$proto,i.$$scope),a=$.slice().concat(l);i.$include(e.const_get(a,"Converter",!0,!0))}(e.const_get(c,"Converter",!0,!0),0,c),function(t,n,r){function l(){}var a,s,c,u,_=l=o(t,null,"BuiltIn",l),d=(_.$$proto,_.$$scope);r.slice().concat(d);e.defn(_,"$initialize",a=function(e,t){return null==t&&(t=i([],{})),$},a.$$arity=-2),e.defn(_,"$convert",s=function(e,t,n){var r,o=this;return null==t&&(t=$),null==n&&(n=i([],{})),(r=t)!==!1&&r!==$&&null!=r||(t=e.$node_name()),(r=n["$empty?"]())===$||null==r||r.$$is_boolean&&1!=r?o.$send(t,e,n):o.$send(t,e)},s.$$arity=-2),e.alias(_,"handles?","respond_to?"),e.defn(_,"$content",c=function(e){return e.$content()},c.$$arity=1),e.alias(_,"pass","content"),e.defn(_,"$skip",u=function(e){return $},u.$$arity=1)}(e.const_get(c,"Converter",!0,!0),0,c)}(t.base,n)},Opal.modules["asciidoctor/converter/factory"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),$=[e],r=e.nil,o=(e.breaker,e.slice,e.module),i=e.klass,l=e.hash2,a=e.send;return e.add_stubs(["$new","$require","$to_s","$warn","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$-","$==","$[]","$clear","$===","$key?"]),function(n,$){var s,c=s=o(n,"Asciidoctor"),u=(c.$$proto,c.$$scope),_=$.slice().concat(u);!function(n,$){var s,c=s=o(n,"Converter"),u=(c.$$proto,c.$$scope),_=$.slice().concat(u);!function(n,$,o){function s(){}var c,u,_,d,f,p=s=i(n,null,"Factory",s),h=p.$$proto,g=p.$$scope,b=o.slice().concat(g);h.converters=h.star_converter=r,p.__default__=r,function(t,n){var $,o,i,a,s,c;t.$$proto,t.$$scope,n.slice().concat(t);e.defn(t,"$default",$=function(t){var n,$,o,i=this;return null==i.__default__&&(i.__default__=r),null==t&&(t=!0),t===!1||t===r||null==t?(n=i.__default__)!==!1&&n!==r&&null!=n?n:i.$new():(n=i.__default__)!==!1&&n!==r&&null!=n?n:i.__default__=function(){try{return(($=(o=e.const_get([e.Object.$$scope],"ThreadSafe",!0,!1))?"constant":r)===r||null==$||$.$$is_boolean&&1!=$)&&i.$require("thread_safe".$to_s()),i.$new(e.const_get([e.const_get([e.Object.$$scope],"ThreadSafe",!0,!0).$$scope],"Cache",!0,!0).$new())}catch(t){if(!e.rescue(t,[e.const_get([e.Object.$$scope],"LoadError",!0,!0)]))throw t;try{return i.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),i.$new()}finally{e.pop_exception()}}}()},$.$$arity=-1),e.defn(t,"$register",o=function(e,t){var n=this;return null==t&&(t=["*"]),n.$default().$register(e,t)},o.$$arity=-2),e.defn(t,"$resolve",i=function(e){return this.$default().$resolve(e)},i.$$arity=1),
e.defn(t,"$create",a=function(e,t){var n=this;return null==t&&(t=l([],{})),n.$default().$create(e,t)},a.$$arity=-2),e.defn(t,"$converters",s=function(){return this.$default().$converters()},s.$$arity=0),e.defn(t,"$unregister_all",c=function(){return this.$default().$unregister_all()},c.$$arity=0)}(e.get_singleton_class(p),b),p.$attr_reader("converters"),e.defn(p,"$initialize",c=function(e){var t,n=this;return null==e&&(e=r),n.converters=(t=e)!==!1&&t!==r&&null!=t?t:l([],{}),n.star_converter=r},c.$$arity=-1),e.defn(p,"$register",u=function(n,$){var o,i=this;return null==$&&($=["*"]),a($,"each",[],(o=function($){var i=o.$$s||this,l=r;return null==i.converters&&(i.converters=r),null==$&&($=r),l=[$,n],a(i.converters,"[]=",e.to_a(l)),l[t(l.length,1)],$["$=="]("*")?i.star_converter=n:r},o.$$s=i,o.$$arity=1,o)),r},u.$$arity=-2),e.defn(p,"$resolve",_=function(e){var t,n,$=this;return t=$.converters,t!==!1&&t!==r&&null!=t?(n=$.converters["$[]"](e))!==!1&&n!==r&&null!=n?n:$.star_converter:t},_.$$arity=1),e.defn(p,"$unregister_all",d=function(){var e=this;return e.converters.$clear(),e.star_converter=r},d.$$arity=0),e.defn(p,"$create",f=function(t,n){var $,o,i,a,s,c,u,_,d,f,p,h,g,m,y,v,w,k=this,x=r,O=r,E=r,A=r;return null==n&&(n=l([],{})),($=x=k.$resolve(t))===r||null==$||$.$$is_boolean&&1!=$?(O=function(){return E=t,"html5"["$==="](E)?((($=(a=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&a.$$scope&&(i=e.const_get([a.$$scope],"Converter",!0,!1))&&i.$$scope&&(o=e.const_get([i.$$scope],"Html5Converter",!0,!1))?"constant":r)===r||null==$||$.$$is_boolean&&1!=$)&&k.$require("asciidoctor/converter/html5".$to_s()),e.const_get(b,"Html5Converter",!0,!0).$new(t,n)):"docbook5"["$==="](E)?((($=(u=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&u.$$scope&&(c=e.const_get([u.$$scope],"Converter",!0,!1))&&c.$$scope&&(s=e.const_get([c.$$scope],"DocBook5Converter",!0,!1))?"constant":r)===r||null==$||$.$$is_boolean&&1!=$)&&k.$require("asciidoctor/converter/docbook5".$to_s()),e.const_get(b,"DocBook5Converter",!0,!0).$new(t,n)):"docbook45"["$==="](E)?((($=(f=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&f.$$scope&&(d=e.const_get([f.$$scope],"Converter",!0,!1))&&d.$$scope&&(_=e.const_get([d.$$scope],"DocBook45Converter",!0,!1))?"constant":r)===r||null==$||$.$$is_boolean&&1!=$)&&k.$require("asciidoctor/converter/docbook45".$to_s()),e.const_get(b,"DocBook45Converter",!0,!0).$new(t,n)):"manpage"["$==="](E)?((($=(g=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&g.$$scope&&(h=e.const_get([g.$$scope],"Converter",!0,!1))&&h.$$scope&&(p=e.const_get([h.$$scope],"ManPageConverter",!0,!1))?"constant":r)===r||null==$||$.$$is_boolean&&1!=$)&&k.$require("asciidoctor/converter/manpage".$to_s()),e.const_get(b,"ManPageConverter",!0,!0).$new(t,n)):r}(),($=n["$key?"]("template_dirs"))===r||null==$||$.$$is_boolean&&1!=$?O:((($=(y=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&y.$$scope&&(m=e.const_get([y.$$scope],"Converter",!0,!1))&&m.$$scope&&e.const_get([m.$$scope],"TemplateConverter",!0,!1)?"constant":r)===r||null==$||$.$$is_boolean&&1!=$)&&k.$require("asciidoctor/converter/template".$to_s()),(($=(w=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&w.$$scope&&(v=e.const_get([w.$$scope],"Converter",!0,!1))&&v.$$scope&&e.const_get([v.$$scope],"CompositeConverter",!0,!1)?"constant":r)===r||null==$||$.$$is_boolean&&1!=$)&&k.$require("asciidoctor/converter/composite".$to_s()),A=e.const_get(b,"TemplateConverter",!0,!0).$new(t,n["$[]"]("template_dirs"),n),e.const_get(b,"CompositeConverter",!0,!0).$new(t,A,O))):function(){return($=e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="](x))===r||null==$||$.$$is_boolean&&1!=$?x:x.$new(t,n)}()},f.$$arity=-2)}(u.base,0,_)}(u.base,_)}(n.base,$)},Opal.modules["asciidoctor/converter"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=e.top,$=e,r=[e],o=e.nil,i=(e.breaker,e.slice,e.module),l=e.send,a=e.range,s=e.hash2;return e.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$[]=","$backend_info","$-","$extend","$include","$respond_to?","$write","$chomp","$open","$require"]),function(n,$){var r,c=r=i(n,"Asciidoctor"),u=(c.$$proto,c.$$scope),_=$.slice().concat(u);!function(n,$){var r,c,u,_=r=i(n,"Converter"),d=(_.$$proto,_.$$scope),f=$.slice().concat(d);!function(t,n){var $,r,a=$=i(t,"Config"),s=(a.$$proto,a.$$scope),c=n.slice().concat(s);e.defn(a,"$register_for",r=function(t){var n,$,r,i=this,a=o,s=arguments.length,u=s-0;u<0&&(u=0),r=new Array(u);for(var _=0;_<s;_++)r[_-0]=arguments[_];return e.const_get(c,"Factory",!0,!0).$register(i,r),a=function(e,t){e.$$proto,e.$$scope,t.slice().concat(e);return e}(e.get_singleton_class(i),c),r["$=="](["*"])?l(a,"send",["define_method","converts?"],(n=function(e){n.$$s;return null==e&&(e=o),!0},n.$$s=i,n.$$arity=1,n)):l(a,"send",["define_method","converts?"],($=function(e){$.$$s;return null==e&&(e=o),r["$include?"](e)},$.$$s=i,$.$$arity=1,$)),o},r.$$arity=-1)}(d.base,f),function(n,$){var r,c,u,_,d,f,p,h=r=i(n,"BackendInfo"),g=(h.$$proto,h.$$scope),b=$.slice().concat(g);e.defn(h,"$backend_info",c=function(){var e,t=this;return null==t.backend_info&&(t.backend_info=o),(e=t.backend_info)!==!1&&e!==o&&null!=e?e:t.backend_info=t.$setup_backend_info()},c.$$arity=0),e.defn(h,"$setup_backend_info",u=function(){var t,n=this,$=o,r=o,i=o,l=o;return null==n.backend&&(n.backend=o),((t=n.backend)===o||null==t||t.$$is_boolean&&1!=t)&&n.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"Cannot determine backend for converter: "+n.$class()),$=n.backend.$sub(e.const_get(b,"TrailingDigitsRx",!0,!0),""),(t=r=e.const_get(b,"DEFAULT_EXTENSIONS",!0,!0)["$[]"]($))===o||null==t||t.$$is_boolean&&1!=t?($="html",r=".html",i="html",l="html"):i=r["$[]"](a(1,-1,!1)),s(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:$,outfilesuffix:r,filetype:i,htmlsyntax:l})},u.$$arity=0),e.defn(h,"$filetype",_=function(n){var $=this,r=o;return null==n&&(n=o),n!==!1&&n!==o&&null!=n?(r=["filetype",n],l($.$backend_info(),"[]=",e.to_a(r)),r[t(r.length,1)]):$.$backend_info()["$[]"]("filetype")},_.$$arity=-1),e.defn(h,"$basebackend",d=function(n){var $=this,r=o;return null==n&&(n=o),n!==!1&&n!==o&&null!=n?(r=["basebackend",n],l($.$backend_info(),"[]=",e.to_a(r)),r[t(r.length,1)]):$.$backend_info()["$[]"]("basebackend")},d.$$arity=-1),e.defn(h,"$outfilesuffix",f=function(n){var $=this,r=o;return null==n&&(n=o),n!==!1&&n!==o&&null!=n?(r=["outfilesuffix",n],l($.$backend_info(),"[]=",e.to_a(r)),r[t(r.length,1)]):$.$backend_info()["$[]"]("outfilesuffix")},f.$$arity=-1),e.defn(h,"$htmlsyntax",p=function(n){var $=this,r=o;return null==n&&(n=o),n!==!1&&n!==o&&null!=n?(r=["htmlsyntax",n],l($.$backend_info(),"[]=",e.to_a(r)),r[t(r.length,1)]):$.$backend_info()["$[]"]("htmlsyntax")},p.$$arity=-1)}(d.base,f),function(t,n){var $,r=(t.$$proto,t.$$scope,n.slice().concat(t));e.defn(t,"$included",$=function(t){return t.$extend(e.const_get(r,"Config",!0,!0))},$.$$arity=1)}(e.get_singleton_class(_),f),_.$include(e.const_get(f,"Config",!0,!0)),_.$include(e.const_get(f,"BackendInfo",!0,!0)),e.defn(_,"$initialize",c=function(e,t){var n=this;return null==t&&(t=s([],{})),n.backend=e,n.$setup_backend_info()},c.$$arity=-2),e.defn(_,"$convert",u=function(t,n,$){var r=this;return null==n&&(n=o),null==$&&($=s([],{})),r.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},u.$$arity=-2),e.alias(_,"convert_with_options","convert")}(u.base,_),function(t,n){var $,r,a=$=i(t,"Writer"),s=(a.$$proto,a.$$scope),c=n.slice().concat(s);e.defn(a,"$write",r=function(t,n){var $,r,i=this;return($=n["$respond_to?"]("write"))===o||null==$||$.$$is_boolean&&1!=$?l(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[n,"w"],(r=function(e){r.$$s;return null==e&&(e=o),e.$write(t)},r.$$s=i,r.$$arity=1,r)):(n.$write(t.$chomp()),n.$write(e.const_get(c,"EOL",!0,!0))),o},r.$$arity=2)}(u.base,_),function(t,n){var $,r,l=$=i(t,"VoidWriter"),a=(l.$$proto,l.$$scope),s=n.slice().concat(a);l.$include(e.const_get(s,"Writer",!0,!0)),e.defn(l,"$write",r=function(e,t){return o},r.$$arity=2)}(u.base,_)}($.base,r),n.$require("asciidoctor/converter/base"),n.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/converter/composite"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,i=e.send,l=e.hash2;return e.add_stubs(["$attr_reader","$each","$compact","$flatten","$respond_to?","$composed","$node_name","$convert","$converter_for","$[]","$[]=","$find_converter","$handles?","$raise"]),function(t,n){var a,s=a=r(t,"Asciidoctor"),c=(s.$$proto,s.$$scope),u=n.slice().concat(c);!function(t,n,r){function a(){}var s,c,u,_,d=a=o(t,n,"CompositeConverter",a),f=d.$$proto,p=d.$$scope;r.slice().concat(p);f.converter_map=f.converters=$,d.$attr_reader("converters"),e.defn(d,"$initialize",s=function(e,t){var n,r,o=this,a=arguments.length,s=a-1;s<0&&(s=0),r=new Array(s);for(var c=1;c<a;c++)r[c-1]=arguments[c];return o.backend=e,i(o.converters=r.$flatten().$compact(),"each",[],(n=function(e){var t,r=n.$$s||this;return null==e&&(e=$),(t=e["$respond_to?"]("composed"))===$||null==t||t.$$is_boolean&&1!=t?$:e.$composed(r)},n.$$s=o,n.$$arity=1,n)),o.converter_map=l([],{})},s.$$arity=-2),e.defn(d,"$convert",c=function(e,t,n){var r,o=this;return null==t&&(t=$),null==n&&(n=l([],{})),(r=t)!==!1&&r!==$&&null!=r||(t=e.$node_name()),o.$converter_for(t).$convert(e,t,n)},c.$$arity=-2),e.alias(d,"convert_with_options","convert"),e.defn(d,"$converter_for",u=function(e){var t,n,r,o=this;return t=e,n=o.converter_map,(r=n["$[]"](t))!==!1&&r!==$&&null!=r?r:n["$[]="](t,o.$find_converter(e))},u.$$arity=1),e.defn(d,"$find_converter",_=function(t){try{var n,r=this;return i(r.converters,"each",[],(n=function(r){var o;n.$$s;if(null==r&&(r=$),(o=r["$handles?"](t))===$||null==o||o.$$is_boolean&&1!=o)return $;e.ret(r)},n.$$s=r,n.$$arity=1,n)),r.$raise("Could not find a converter to handle transform: "+t)}catch(t){if(t===e.returner)return t.$v;throw t}},_.$$arity=1)}(e.const_get(u,"Converter",!0,!0),e.const_get([e.const_get(u,"Converter",!0,!0).$$scope],"Base",!0,!0),u)}(t.base,n)},Opal.modules["asciidoctor/converter/html5"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var a=(e.top,e),s=[e],c=e.nil,u=(e.breaker,e.slice,e.module),_=e.klass,d=e.send,f=e.hash2;return e.add_stubs(["$default=","$-","$==","$[]","$instance","$empty?","$attr","$>=","$safe","$attr?","$<<","$doctitle","$include?","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$*","$noheader","$outline","$has_header?","$notitle","$title","$header","$sub_macros","$>","$to_i","$each","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$document","$sections","$level","$special","$numbered","$caption","$<=","$sectnum","$<","$captioned_title","$+","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$each_with_index","$items","$text?","$blocks?","$chomp","$read_svg_contents","$image_uri","$to_sym","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$context","$times","$size","$columns","$select","$rows","$colspan","$rowspan","$role?","$insert","$split","$target","$type","$attributes","$references","$join","$map","$chop","$read_contents","$sub","$gsub","$match","$length"]),function(a,s){var p,h=p=u(a,"Asciidoctor"),g=(h.$$proto,h.$$scope),b=s.slice().concat(g);!function(a,s,u){function p(){}var h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne=p=_(a,s,"Html5Converter",p),$e=ne.$$proto,re=ne.$$scope,oe=u.slice().concat(re),ie=c;$e.xml_mode=$e.void_element_slash=$e.stylesheets=c,ie=[[c,c,c]],d(e.cdecl(re,"QUOTE_TAGS",f(["emphasis","strong","monospaced","superscript","subscript","double","single","mark","asciimath","latexmath"],{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",e.to_a(ie)),ie[t(ie.length,1)],e.cdecl(re,"SvgPreambleRx",/^.*?(?=<svg\b)/m),e.cdecl(re,"SvgStartTagRx",/^<svg[^>]*>/),e.cdecl(re,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/),e.defn(ne,"$initialize",h=function(t,n){var $,r=this;return null==n&&(n=f([],{})),r.xml_mode=n["$[]"]("htmlsyntax")["$=="]("xml"),r.void_element_slash=function(){return($=r.xml_mode)===c||null==$||$.$$is_boolean&&1!=$?c:"/"}(),r.stylesheets=e.const_get(oe,"Stylesheets",!0,!0).$instance()},h.$$arity=-2),e.defn(ne,"$document",g=function(t){var o,i,l,a,s,u,_=this,p=c,h=c,g=c,b=c,m=c,y=c,v=c,w=c,k=c,x=c,O=c,E=c,A=c,S=c,R=c,M=c,T=c,I=c,C=c,N=c,j=c;return p=[],h=_.void_element_slash,g="<br"+h+">",((o=(b=t.$attr("asset-uri-scheme","https"))["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o)&&(b+=":"),m=b+"//cdnjs.cloudflare.com/ajax/libs",y=(o=n(t.$safe(),e.const_get([e.const_get(oe,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))!==!1&&o!==c&&null!=o?o:t["$attr?"]("linkcss"),p["$<<"]("<!DOCTYPE html>"),v=function(){return(o=t["$attr?"]("nolang"))===c||null==o||o.$$is_boolean&&1!=o?' lang="'+t.$attr("lang","en")+'"':c}(),p["$<<"]("<html"+function(){return(o=_.xml_mode)===c||null==o||o.$$is_boolean&&1!=o?c:' xmlns="http://www.w3.org/1999/xhtml"'}()+v+">"),p["$<<"]('<head>\n<meta charset="'+t.$attr("encoding","UTF-8")+'"'+h+'>\n<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+h+'><![endif]-->\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+h+'>\n<meta name="generator" content="Asciidoctor '+t.$attr("asciidoctor-version")+'"'+h+">"),(o=t["$attr?"]("app-name"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<meta name="application-name" content="'+t.$attr("app-name")+'"'+h+">"),(o=t["$attr?"]("description"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<meta name="description" content="'+t.$attr("description")+'"'+h+">"),(o=t["$attr?"]("keywords"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<meta name="keywords" content="'+t.$attr("keywords")+'"'+h+">"),(o=t["$attr?"]("authors"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<meta name="author" content="'+t.$attr("authors")+'"'+h+">"),(o=t["$attr?"]("copyright"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<meta name="copyright" content="'+t.$attr("copyright")+'"'+h+">"),p["$<<"]("<title>"+t.$doctitle(f(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),(o=e.const_get(oe,"DEFAULT_STYLESHEET_KEYS",!0,!0)["$include?"](t.$attr("stylesheet")))===c||null==o||o.$$is_boolean&&1!=o?(o=t["$attr?"]("stylesheet"))===c||null==o||o.$$is_boolean&&1!=o||(y!==!1&&y!==c&&null!=y?p["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(t.$attr("stylesheet"),t.$attr("stylesdir",""))+'"'+h+">"):p["$<<"]("<style>\n"+t.$read_asset(t.$normalize_system_path(t.$attr("stylesheet"),t.$attr("stylesdir","")),f(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>")):((o=w=t.$attr("webfonts"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<link rel="stylesheet" href="'+b+"//fonts.googleapis.com/css?family="+function(){return(o=w["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o?w:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"}()+'"'+h+">"),y!==!1&&y!==c&&null!=y?p["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(e.const_get(oe,"DEFAULT_STYLESHEET_NAME",!0,!0),t.$attr("stylesdir",""),!1)+'"'+h+">"):p["$<<"](_.stylesheets.$embed_primary_stylesheet())),(o=t["$attr?"]("icons","font"))===c||null==o||o.$$is_boolean&&1!=o||((o=t["$attr?"]("iconfont-remote"))===c||null==o||o.$$is_boolean&&1!=o?(k=t.$attr("iconfont-name","font-awesome")+".css",p["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(k,t.$attr("stylesdir",""),!1)+'"'+h+">")):p["$<<"]('<link rel="stylesheet" href="'+t.$attr("iconfont-cdn",m+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+h+">")),x=O=t.$attr("source-highlighter"),"coderay"["$==="](x)?t.$attr("coderay-css","class")["$=="]("class")&&(y!==!1&&y!==c&&null!=y?p["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(_.stylesheets.$coderay_stylesheet_name(),t.$attr("stylesdir",""),!1)+'"'+h+">"):p["$<<"](_.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](x)&&t.$attr("pygments-css","class")["$=="]("class")&&(E=t.$attr("pygments-style"),y!==!1&&y!==c&&null!=y?p["$<<"]('<link rel="stylesheet" href="'+t.$normalize_web_path(_.stylesheets.$pygments_stylesheet_name(E),t.$attr("stylesdir",""),!1)+'"'+h+">"):p["$<<"](_.stylesheets.$embed_pygments_stylesheet(E))),((o=(A=t.$docinfo())["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o)&&p["$<<"](A),p["$<<"]("</head>"),S=[],(o=t.$id())===c||null==o||o.$$is_boolean&&1!=o||S["$<<"]('id="'+t.$id()+'"'),a=R=t["$sections?"](),l=a!==!1&&a!==c&&null!=a?t["$attr?"]("toc-class"):a,i=l!==!1&&l!==c&&null!=l?t["$attr?"]("toc"):l,(o=i!==!1&&i!==c&&null!=i?t["$attr?"]("toc-placement","auto"):i)===c||null==o||o.$$is_boolean&&1!=o?S["$<<"]('class="'+t.$doctype()+'"'):S["$<<"]('class="'+t.$doctype()+" "+t.$attr("toc-class")+" toc-"+t.$attr("toc-position","header")+'"'),(o=t["$attr?"]("max-width"))===c||null==o||o.$$is_boolean&&1!=o||S["$<<"]('style="max-width: '+t.$attr("max-width")+';"'),p["$<<"]("<body "+$(S," ")+">"),((o=t.$noheader())===c||null==o||o.$$is_boolean&&1!=o)&&(p["$<<"]('<div id="header">'),t.$doctype()["$=="]("manpage")?(p["$<<"]("<h1>"+t.$doctitle()+" Manual Page</h1>"),i=(l=R!==!1&&R!==c&&null!=R)?t["$attr?"]("toc"):R,(o=i!==!1&&i!==c&&null!=i?t["$attr?"]("toc-placement","auto"):i)===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+'">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+_.$outline(t)+"\n</div>"),p["$<<"]("<h2>"+t.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>")):((o=t["$has_header?"]())===c||null==o||o.$$is_boolean&&1!=o||(((o=t.$notitle())===c||null==o||o.$$is_boolean&&1!=o)&&p["$<<"]("<h1>"+t.$header().$title()+"</h1>"),M=[],(o=t["$attr?"]("author"))===c||null==o||o.$$is_boolean&&1!=o||(M["$<<"]('<span id="author" class="author">'+t.$attr("author")+"</span>"+g),(o=t["$attr?"]("email"))===c||null==o||o.$$is_boolean&&1!=o||M["$<<"]('<span id="email" class="email">'+t.$sub_macros(t.$attr("email"))+"</span>"+g),(o=r(T=t.$attr("authorcount").$to_i(),1))===c||null==o||o.$$is_boolean&&1!=o||d(e.Range.$new(2,T,!1),"each",[],(s=function(e){var n;s.$$s;return null==e&&(e=c),M["$<<"]('<span id="author'+e+'" class="author">'+t.$attr("author_"+e)+"</span>"+g),(n=t["$attr?"]("email_"+e))===c||null==n||n.$$is_boolean&&1!=n?c:M["$<<"]('<span id="email'+e+'" class="email">'+t.$sub_macros(t.$attr("email_"+e))+"</span>"+g)},s.$$s=_,s.$$arity=1,s))),(o=t["$attr?"]("revnumber"))===c||null==o||o.$$is_boolean&&1!=o||M["$<<"]('<span id="revnumber">'+((o=t.$attr("version-label"))!==!1&&o!==c&&null!=o?o:"").$downcase()+" "+t.$attr("revnumber")+function(){return(o=t["$attr?"]("revdate"))===c||null==o||o.$$is_boolean&&1!=o?"":","}()+"</span>"),(o=t["$attr?"]("revdate"))===c||null==o||o.$$is_boolean&&1!=o||M["$<<"]('<span id="revdate">'+t.$attr("revdate")+"</span>"),(o=t["$attr?"]("revremark"))===c||null==o||o.$$is_boolean&&1!=o||M["$<<"](g+'<span id="revremark">'+t.$attr("revremark")+"</span>"),((o=M["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o)&&(p["$<<"]('<div class="details">'),p.$concat(M),p["$<<"]("</div>"))),i=(l=R!==!1&&R!==c&&null!=R)?t["$attr?"]("toc"):R,(o=i!==!1&&i!==c&&null!=i?t["$attr?"]("toc-placement","auto"):i)===c||null==o||o.$$is_boolean&&1!=o||p["$<<"]('<div id="toc" class="'+t.$attr("toc-class","toc")+'">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+_.$outline(t)+"\n</div>")),p["$<<"]("</div>")),p["$<<"]('<div id="content">\n'+t.$content()+"\n</div>"),i=t["$footnotes?"](),(o=i!==!1&&i!==c&&null!=i?t["$attr?"]("nofootnotes")["$!"]():i)===c||null==o||o.$$is_boolean&&1!=o||(p["$<<"]('<div id="footnotes">\n<hr'+h+">"),d(t.$footnotes(),"each",[],(u=function(e){u.$$s;return null==e&&(e=c),p["$<<"]('<div class="footnote" id="_footnote_'+e.$index()+'">\n<a href="#_footnoteref_'+e.$index()+'">'+e.$index()+"</a>. "+e.$text()+"\n</div>")},u.$$s=_,u.$$arity=1,u)),p["$<<"]("</div>")),((o=t.$nofooter())===c||null==o||o.$$is_boolean&&1!=o)&&(p["$<<"]('<div id="footer">'),p["$<<"]('<div id="footer-text">'),(o=t["$attr?"]("revnumber"))===c||null==o||o.$$is_boolean&&1!=o||p["$<<"](t.$attr("version-label")+" "+t.$attr("revnumber")+g),i=t["$attr?"]("last-update-label"),(o=i!==!1&&i!==c&&null!=i?t["$attr?"]("reproducible")["$!"]():i)===c||null==o||o.$$is_boolean&&1!=o||p["$<<"](t.$attr("last-update-label")+" "+t.$attr("docdatetime")),p["$<<"]("</div>"),p["$<<"]("</div>")),((o=(A=t.$docinfo("footer"))["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o)&&p["$<<"](A),x=O,"highlightjs"["$==="](x)||"highlight.js"["$==="](x)?(I=t.$attr("highlightjsdir",m+"/highlight.js/8.9.1"),p["$<<"]('<link rel="stylesheet" href="'+I+"/styles/"+t.$attr("highlightjs-theme","github")+'.min.css"'+h+">"),p["$<<"]('<script src="'+I+'/highlight.min.js"></script>\n<script>hljs.initHighlighting()</script>')):"prettify"["$==="](x)&&(C=t.$attr("prettifydir",m+"/prettify/r298"),p["$<<"]('<link rel="stylesheet" href="'+C+"/"+t.$attr("prettify-theme","prettify")+'.min.css"'+h+">"),p["$<<"]('<script src="'+C+'/prettify.min.js"></script>\n<script>prettyPrint()</script>')),(o=t["$attr?"]("stem"))===c||null==o||o.$$is_boolean&&1!=o||(N=t.$attr("eqnums","none"),(o=N["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o||(N="AMS"),j=' equationNumbers: { autoNumber: "'+N+'" } ',p["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+e.const_get(oe,"INLINE_MATH_DELIMITERS",!0,!0)["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+e.const_get(oe,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+e.const_get(oe,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+j+'}\n});\n</script>\n<script src="'+m+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>')),p["$<<"]("</body>"),p["$<<"]("</html>"),$(p,e.const_get(oe,"EOL",!0,!0))},g.$$arity=1),e.defn(ne,"$embedded",b=function(t){var n,r,o,i,l,a=this,s=c,u=c,_=c;return s=[],t.$doctype()["$=="]("manpage")?(((n=t.$notitle())===c||null==n||n.$$is_boolean&&1!=n)&&(u=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),s["$<<"]("<h1"+u+">"+t.$doctitle()+" Manual Page</h1>")),s["$<<"]("<h2>"+t.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>")):(r=t["$has_header?"](),(n=r!==!1&&r!==c&&null!=r?t.$notitle()["$!"]():r)===c||null==n||n.$$is_boolean&&1!=n||(u=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),s["$<<"]("<h1"+u+">"+t.$header().$title()+"</h1>"))),i=t["$sections?"](),o=i!==!1&&i!==c&&null!=i?t["$attr?"]("toc"):i,r=o!==!1&&o!==c&&null!=o?(_=t.$attr("toc-placement"))["$!="]("macro"):o,(n=r!==!1&&r!==c&&null!=r?_["$!="]("preamble"):r)===c||null==n||n.$$is_boolean&&1!=n||s["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+a.$outline(t)+"\n</div>"),s["$<<"](t.$content()),r=t["$footnotes?"](),(n=r!==!1&&r!==c&&null!=r?t["$attr?"]("nofootnotes")["$!"]():r)===c||null==n||n.$$is_boolean&&1!=n||(s["$<<"]('<div id="footnotes">\n<hr'+a.void_element_slash+">"),d(t.$footnotes(),"each",[],(l=function(e){l.$$s;return null==e&&(e=c),s["$<<"]('<div class="footnote" id="_footnote_'+e.$index()+'">\n<a href="#_footnoteref_'+e.$index()+'">'+e.$index()+"</a>. "+e.$text()+"\n</div>")},l.$$s=a,l.$$arity=1,l)),s["$<<"]("</div>")),$(s,e.const_get(oe,"EOL",!0,!0))},b.$$arity=1),e.defn(ne,"$outline",m=function(t,n){var r,l,a=this,s=c,u=c,_=c,p=c,h=c,g=c;return null==n&&(n=f([],{})),(r=t["$sections?"]())===c||null==r||r.$$is_boolean&&1!=r?c:(s=(r=n["$[]"]("sectnumlevels"))!==!1&&r!==c&&null!=r?r:t.$document().$attr("sectnumlevels",3).$to_i(),u=(r=n["$[]"]("toclevels"))!==!1&&r!==c&&null!=r?r:t.$document().$attr("toclevels",2).$to_i(),_=[],p=t.$sections(),h=(g=p["$[]"](0)).$level(),(r=h["$=="](0)?g.$special():h["$=="](0))===c||null==r||r.$$is_boolean&&1!=r||(h=1),_["$<<"]('<ul class="sectlevel'+h+'">'),d(p,"each",[],(l=function(e){var t,n,$,r=l.$$s||this,a=c,d=c;return null==e&&(e=c),a=function(){return $=e.$numbered(),n=$!==!1&&$!==c&&null!=$?e.$caption()["$!"]():$,(t=n!==!1&&n!==c&&null!=n?o(e.$level(),s):n)===c||null==t||t.$$is_boolean&&1!=t?c:e.$sectnum()+" "}(),n=i(e.$level(),u),(t=n!==!1&&n!==c&&null!=n?d=r.$outline(e,f(["toclevels","secnumlevels"],{toclevels:u,secnumlevels:s})):n)===c||null==t||t.$$is_boolean&&1!=t?_["$<<"]('<li><a href="#'+e.$id()+'">'+a+e.$captioned_title()+"</a></li>"):(_["$<<"]('<li><a href="#'+e.$id()+'">'+a+e.$captioned_title()+"</a>"),_["$<<"](d),_["$<<"]("</li>"))},l.$$s=a,l.$$arity=1,l)),_["$<<"]("</ul>"),$(_,e.const_get(oe,"EOL",!0,!0)))},m.$$arity=-2),e.defn(ne,"$section",y=function(e){var t,n,$,r=c,i=c,a=c,s=c,u=c,_=c,d=c,f=c,p=c,h=c,g=c;return r=e.$level(),(t=(n=r["$=="](0))?e.$special():r["$=="](0))===c||null==t||t.$$is_boolean&&1!=t||(r=1),i="h"+l(r,1),a=s=u=_=c,(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t||(a=' id="'+(d=e.$id())+'"',(t=(f=e.$document())["$attr?"]("sectanchors"))===c||null==t||t.$$is_boolean&&1!=t||(s='<a class="anchor" href="#'+d+'"></a>'),(t=f["$attr?"]("sectlinks"))===c||null==t||t.$$is_boolean&&1!=t||(u='<a class="link" href="#'+d+'">',_="</a>")),r["$=="](0)?"<h1"+a+' class="sect0">'+s+u+e.$title()+_+"</h1>\n"+e.$content():(p=function(){return(t=h=e.$role())===c||null==t||t.$$is_boolean&&1!=t?' class="sect'+r+'"':' class="sect'+r+" "+h+'"'}(),g=function(){return $=e.$numbered(),n=$!==!1&&$!==c&&null!=$?e.$caption()["$!"]():$,(t=n!==!1&&n!==c&&null!=n?o(r,e.$document().$attr("sectnumlevels",3).$to_i()):n)===c||null==t||t.$$is_boolean&&1!=t?c:e.$sectnum()+" "}(),"<div"+p+">\n<"+i+a+">"+s+u+g+e.$captioned_title()+_+"</"+i+">\n"+function(){return r["$=="](1)?'<div class="sectionbody">\n'+e.$content()+"\n</div>":e.$content()}()+"\n</div>")},y.$$arity=1),e.defn(ne,"$admonition",v=function(e){var t,n,$=this,r=c,o=c,i=c,l=c,a=c;return r=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),o=e.$attr("name"),i=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$title()+"</div>\n"}(),l=function(){return(t=e.$document()["$attr?"]("icons"))===c||null==t||t.$$is_boolean&&1!=t?'<div class="title">'+e.$caption()+"</div>":(n=e.$document()["$attr?"]("icons","font"),(t=n!==!1&&n!==c&&null!=n?e["$attr?"]("icon")["$!"]():n)===c||null==t||t.$$is_boolean&&1!=t?'<img src="'+e.$icon_uri(o)+'" alt="'+e.$caption()+'"'+$.void_element_slash+">":'<i class="fa icon-'+o+'" title="'+e.$caption()+'"></i>')}(),"<div"+r+' class="admonitionblock '+o+(t=a=e.$role(),t!==!1&&t!==c&&null!=t?" "+a:t)+'">\n<table>\n<tr>\n<td class="icon">\n'+l+'\n</td>\n<td class="content">\n'+i+e.$content()+"\n</td>\n</tr>\n</table>\n</div>"},v.$$arity=1),e.defn(ne,"$audio",w=function(e){var t,n=this,r=c,o=c,i=c,l=c,a=c;return r=n.xml_mode,o=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),i=["audioblock",e.$role()].$compact(),l=' class="'+$(i," ")+'"',a=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$captioned_title()+"</div>\n"}(),"<div"+o+l+">\n"+a+'<div class="content">\n<audio src="'+e.$media_uri(e.$attr("target"))+'"'+function(){return(t=e["$option?"]("autoplay"))===c||null==t||t.$$is_boolean&&1!=t?c:n.$append_boolean_attribute("autoplay",r)}()+function(){return(t=e["$option?"]("nocontrols"))===c||null==t||t.$$is_boolean&&1!=t?n.$append_boolean_attribute("controls",r):c}()+function(){return(t=e["$option?"]("loop"))===c||null==t||t.$$is_boolean&&1!=t?c:n.$append_boolean_attribute("loop",r)}()+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},w.$$arity=1),e.defn(ne,"$colist",k=function(t){var n,r,o,i=this,a=c,s=c,u=c,_=c,f=c;return a=[],s=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),u=["colist",t.$style(),t.$role()].$compact(),_=' class="'+$(u," ")+'"',a["$<<"]("<div"+s+_+">"),(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n||a["$<<"]('<div class="title">'+t.$title()+"</div>"),(n=t.$document()["$attr?"]("icons"))===c||null==n||n.$$is_boolean&&1!=n?(a["$<<"]("<ol>"),d(t.$items(),"each",[],(o=function(e){o.$$s;return null==e&&(e=c),a["$<<"]("<li>\n<p>"+e.$text()+"</p>\n</li>")},o.$$s=i,o.$$arity=1,o)),a["$<<"]("</ol>")):(a["$<<"]("<table>"),f=t.$document()["$attr?"]("icons","font"),d(t.$items(),"each_with_index",[],(r=function(e,n){var $=r.$$s||this,o=c,i=c;return null==$.void_element_slash&&($.void_element_slash=c),null==e&&(e=c),null==n&&(n=c),o=l(n,1),i=function(){return f!==!1&&f!==c&&null!=f?'<i class="conum" data-value="'+o+'"></i><b>'+o+"</b>":'<img src="'+t.$icon_uri("callouts/"+o)+'" alt="'+o+'"'+$.void_element_slash+">"}(),a["$<<"]("<tr>\n<td>"+i+"</td>\n<td>"+e.$text()+"</td>\n</tr>")},r.$$s=i,r.$$arity=2,r)),a["$<<"]("</table>")),a["$<<"]("</div>"),$(a,e.const_get(oe,"EOL",!0,!0))},k.$$arity=1),e.defn(ne,"$dlist",x=function(t){var n,r,o,i,l,a=this,s=c,u=c,_=c,f=c,p=c,h=c,g=c,b=c;return s=[],u=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),_=function(){return f=t.$style(),"qanda"["$==="](f)?["qlist","qanda",t.$role()]:"horizontal"["$==="](f)?["hdlist",t.$role()]:["dlist",t.$style(),t.$role()]}().$compact(),p=' class="'+$(_," ")+'"',s["$<<"]("<div"+u+p+">"),(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n||s["$<<"]('<div class="title">'+t.$title()+"</div>"),f=t.$style(),"qanda"["$==="](f)?(s["$<<"]("<ol>"),d(t.$items(),"each",[],(r=function(t,n){var $,o,i=r.$$s||this;return null==t&&(t=c),null==n&&(n=c),s["$<<"]("<li>"),d([].concat(e.to_a(t)),"each",[],($=function(e){$.$$s;return null==e&&(e=c),s["$<<"]("<p><em>"+e.$text()+"</em></p>")},$.$$s=i,$.$$arity=1,$)),n!==!1&&n!==c&&null!=n&&((o=n["$text?"]())===c||null==o||o.$$is_boolean&&1!=o||s["$<<"]("<p>"+n.$text()+"</p>"),(o=n["$blocks?"]())===c||null==o||o.$$is_boolean&&1!=o||s["$<<"](n.$content())),s["$<<"]("</li>")},r.$$s=a,r.$$arity=2,r)),s["$<<"]("</ol>")):"horizontal"["$==="](f)?(h=a.void_element_slash,s["$<<"]("<table>"),(n=(o=t["$attr?"]("labelwidth"))!==!1&&o!==c&&null!=o?o:t["$attr?"]("itemwidth"))===c||null==n||n.$$is_boolean&&1!=n||(s["$<<"]("<colgroup>"),g=function(){return(n=t["$attr?"]("labelwidth"))===c||null==n||n.$$is_boolean&&1!=n?c:' style="width: '+t.$attr("labelwidth").$chomp("%")+'%;"'}(),s["$<<"]("<col"+g+h+">"),g=function(){return(n=t["$attr?"]("itemwidth"))===c||null==n||n.$$is_boolean&&1!=n?c:' style="width: '+t.$attr("itemwidth").$chomp("%")+'%;"'}(),s["$<<"]("<col"+g+h+">"),s["$<<"]("</colgroup>")),d(t.$items(),"each",[],(i=function(n,$){var r,o,l=i.$$s||this,a=c,u=c;return null==n&&(n=c),null==$&&($=c),
s["$<<"]("<tr>"),s["$<<"]('<td class="hdlist1'+function(){return(r=t["$option?"]("strong"))===c||null==r||r.$$is_boolean&&1!=r?c:" strong"}()+'">'),a=[].concat(e.to_a(n)),u=a["$[]"](-1),d(a,"each",[],(o=function(e){var t;o.$$s;return null==e&&(e=c),s["$<<"](e.$text()),(t=e["$!="](u))===c||null==t||t.$$is_boolean&&1!=t?c:s["$<<"]("<br"+h+">")},o.$$s=l,o.$$arity=1,o)),s["$<<"]("</td>"),s["$<<"]('<td class="hdlist2">'),$!==!1&&$!==c&&null!=$&&((r=$["$text?"]())===c||null==r||r.$$is_boolean&&1!=r||s["$<<"]("<p>"+$.$text()+"</p>"),(r=$["$blocks?"]())===c||null==r||r.$$is_boolean&&1!=r||s["$<<"]($.$content())),s["$<<"]("</td>"),s["$<<"]("</tr>")},i.$$s=a,i.$$arity=2,i)),s["$<<"]("</table>")):(s["$<<"]("<dl>"),b=function(){return(n=t.$style())===c||null==n||n.$$is_boolean&&1!=n?' class="hdlist1"':c}(),d(t.$items(),"each",[],(l=function(t,n){var $,r,o=l.$$s||this;return null==t&&(t=c),null==n&&(n=c),d([].concat(e.to_a(t)),"each",[],($=function(e){$.$$s;return null==e&&(e=c),s["$<<"]("<dt"+b+">"+e.$text()+"</dt>")},$.$$s=o,$.$$arity=1,$)),n!==!1&&n!==c&&null!=n?(s["$<<"]("<dd>"),(r=n["$text?"]())===c||null==r||r.$$is_boolean&&1!=r||s["$<<"]("<p>"+n.$text()+"</p>"),(r=n["$blocks?"]())===c||null==r||r.$$is_boolean&&1!=r||s["$<<"](n.$content()),s["$<<"]("</dd>")):c},l.$$s=a,l.$$arity=2,l)),s["$<<"]("</dl>")),s["$<<"]("</div>"),$(s,e.const_get(oe,"EOL",!0,!0))},x.$$arity=1),e.defn(ne,"$example",O=function(e){var t,n=c,r=c,o=c;return n=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),r=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$captioned_title()+"</div>\n"}(),"<div"+n+' class="'+function(){return(t=o=e.$role())===c||null==t||t.$$is_boolean&&1!=t?"exampleblock":$(["exampleblock",o]," ")}()+'">\n'+r+'<div class="content">\n'+e.$content()+"\n</div>\n</div>"},O.$$arity=1),e.defn(ne,"$floating_title",E=function(e){var t,n=c,r=c,o=c;return n="h"+l(e.$level(),1),r=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),o=[e.$style(),e.$role()].$compact(),"<"+n+r+' class="'+$(o," ")+'">'+e.$title()+"</"+n+">"},E.$$arity=1),e.defn(ne,"$image",A=function(t){var n,r,o,l,a=this,s=c,u=c,_=c,d=c,f=c,p=c,h=c,g=c,b=c,m=c,y=c,v=c,w=c,k=c;return s=t.$attr("target"),u=function(){return(n=t["$attr?"]("width"))===c||null==n||n.$$is_boolean&&1!=n?c:' width="'+t.$attr("width")+'"'}(),_=function(){return(n=t["$attr?"]("height"))===c||null==n||n.$$is_boolean&&1!=n?c:' height="'+t.$attr("height")+'"'}(),o=(l=t["$attr?"]("format","svg",!1))!==!1&&l!==c&&null!=l?l:s["$include?"](".svg"),r=o!==!1&&o!==c&&null!=o?i(t.$document().$safe(),e.const_get([e.const_get(oe,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)):o,(n=r!==!1&&r!==c&&null!=r?(o=d=t["$option?"]("inline"))!==!1&&o!==c&&null!=o?o:f=t["$option?"]("interactive"):r)===c||null==n||n.$$is_boolean&&1!=n||(d!==!1&&d!==c&&null!=d?p=(n=a.$read_svg_contents(t,s))!==!1&&n!==c&&null!=n?n:'<span class="alt">'+t.$attr("alt")+"</span>":f!==!1&&f!==c&&null!=f&&(h=function(){return(n=t["$attr?"]("fallback"))===c||null==n||n.$$is_boolean&&1!=n?'<span class="alt">'+t.$attr("alt")+"</span>":'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+t.$attr("alt")+'"'+u+_+a.void_element_slash+">"}(),p='<object type="image/svg+xml" data="'+t.$image_uri(s)+'"'+u+_+">"+h+"</object>")),(n=p)!==!1&&n!==c&&null!=n||(p='<img src="'+t.$image_uri(s)+'" alt="'+t.$attr("alt")+'"'+u+_+a.void_element_slash+">"),(n=g=t.$attr("link"))===c||null==n||n.$$is_boolean&&1!=n||(p='<a class="image" href="'+g+'">'+p+"</a>"),b=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),m=["imageblock",t.$role()].$compact(),y=' class="'+$(m," ")+'"',v=[],(n=t["$attr?"]("align"))===c||null==n||n.$$is_boolean&&1!=n||v["$<<"]("text-align: "+t.$attr("align")),(n=t["$attr?"]("float"))===c||null==n||n.$$is_boolean&&1!=n||v["$<<"]("float: "+t.$attr("float")),w=function(){return(n=v["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n?' style="'+$(v,";")+'"':c}(),k=function(){return(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n?c:'\n<div class="title">'+t.$captioned_title()+"</div>"}(),"<div"+b+y+w+'>\n<div class="content">\n'+p+"\n</div>"+k+"\n</div>"},A.$$arity=1),e.defn(ne,"$listing",S=function(e){var t,n=c,$=c,r=c,o=c,i=c,l=c,a=c,s=c,u=c,_=c;return n=(t=e.$document()["$attr?"]("prewrap")["$!"]())!==!1&&t!==c&&null!=t?t:e["$option?"]("nowrap"),e.$style()["$=="]("source")?(r=(t=$=e.$attr("language",c,!1))===c||null==t||t.$$is_boolean&&1!=t?c:' data-lang="'+$+'"',o=e.$document().$attr("source-highlighter"),"coderay"["$==="](o)?i=' class="CodeRay highlight'+function(){return n!==!1&&n!==c&&null!=n?" nowrap":c}()+'"':"pygments"["$==="](o)?i=' class="pygments highlight'+function(){return n!==!1&&n!==c&&null!=n?" nowrap":c}()+'"':"highlightjs"["$==="](o)||"highlight.js"["$==="](o)?(i=' class="highlightjs highlight'+function(){return n!==!1&&n!==c&&null!=n?" nowrap":c}()+'"',$!==!1&&$!==c&&null!=$&&(r=' class="language-'+$+'"'+r)):"prettify"["$==="](o)?(i=' class="prettyprint highlight'+function(){return n!==!1&&n!==c&&null!=n?" nowrap":c}()+function(){return(t=e["$attr?"]("linenums"))===c||null==t||t.$$is_boolean&&1!=t?c:" linenums"}()+'"',$!==!1&&$!==c&&null!=$&&(r=' class="language-'+$+'"'+r)):"html-pipeline"["$==="](o)?(i=function(){return $!==!1&&$!==c&&null!=$?' lang="'+$+'"':c}(),r=c):(i=' class="highlight'+function(){return n!==!1&&n!==c&&null!=n?" nowrap":c}()+'"',$!==!1&&$!==c&&null!=$&&(r=' class="language-'+$+'"'+r)),l="<pre"+i+"><code"+r+">",a="</code></pre>"):(l="<pre"+function(){return n!==!1&&n!==c&&null!=n?' class="nowrap"':c}()+">",a="</pre>"),s=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),u=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$captioned_title()+"</div>\n"}(),"<div"+s+' class="listingblock'+(t=_=e.$role(),t!==!1&&t!==c&&null!=t?" "+_:t)+'">\n'+u+'<div class="content">\n'+l+e.$content()+a+"\n</div>\n</div>"},S.$$arity=1),e.defn(ne,"$literal",R=function(e){var t,n=c,$=c,r=c,o=c;return n=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),$=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$title()+"</div>\n"}(),r=(t=e.$document()["$attr?"]("prewrap")["$!"]())!==!1&&t!==c&&null!=t?t:e["$option?"]("nowrap"),"<div"+n+' class="literalblock'+(t=o=e.$role(),t!==!1&&t!==c&&null!=t?" "+o:t)+'">\n'+$+'<div class="content">\n<pre'+function(){return r!==!1&&r!==c&&null!=r?' class="nowrap"':c}()+">"+e.$content()+"</pre>\n</div>\n</div>"},R.$$arity=1),e.defn(ne,"$stem",M=function(t){var n,r,o=c,i=c,l=c,a=c,s=c,u=c;return o=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),i=function(){return(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n?c:'<div class="title">'+t.$title()+"</div>\n"}(),r=e.const_get(oe,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"](t.$style().$to_sym()),n=e.to_ary(r),l=null==n[0]?c:n[0],a=null==n[1]?c:n[1],r=(s=t.$content())["$start_with?"](l),((n=r!==!1&&r!==c&&null!=r?s["$end_with?"](a):r)===c||null==n||n.$$is_boolean&&1!=n)&&(s=""+l+s+a),"<div"+o+' class="'+function(){return(n=u=t.$role())===c||null==n||n.$$is_boolean&&1!=n?"stemblock":$(["stemblock",u]," ")}()+'">\n'+i+'<div class="content">\n'+s+"\n</div>\n</div>"},M.$$arity=1),e.defn(ne,"$olist",T=function(t){var n,r,o=this,i=c,l=c,a=c,s=c,u=c,_=c,f=c,p=c;return i=[],l=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),a=["olist",t.$style(),t.$role()].$compact(),s=' class="'+$(a," ")+'"',i["$<<"]("<div"+l+s+">"),(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n||i["$<<"]('<div class="title">'+t.$title()+"</div>"),u=function(){return(n=_=t.$list_marker_keyword())===c||null==n||n.$$is_boolean&&1!=n?c:' type="'+_+'"'}(),f=function(){return(n=t["$attr?"]("start"))===c||null==n||n.$$is_boolean&&1!=n?c:' start="'+t.$attr("start")+'"'}(),p=function(){return(n=t["$option?"]("reversed"))===c||null==n||n.$$is_boolean&&1!=n?c:o.$append_boolean_attribute("reversed",o.xml_mode)}(),i["$<<"]('<ol class="'+t.$style()+'"'+u+f+p+">"),d(t.$items(),"each",[],(r=function(e){var t;r.$$s;return null==e&&(e=c),i["$<<"]("<li>"),i["$<<"]("<p>"+e.$text()+"</p>"),(t=e["$blocks?"]())===c||null==t||t.$$is_boolean&&1!=t||i["$<<"](e.$content()),i["$<<"]("</li>")},r.$$s=o,r.$$arity=1,r)),i["$<<"]("</ol>"),i["$<<"]("</div>"),$(i,e.const_get(oe,"EOL",!0,!0))},T.$$arity=1),e.defn(ne,"$open",I=function(e){var t,n,$,o,i=this,l=c,a=c,s=c,u=c;return(l=e.$style())["$=="]("abstract")?(t=(n=e.$parent()["$=="](e.$document()))?e.$document().$doctype()["$=="]("book"):e.$parent()["$=="](e.$document()))===c||null==t||t.$$is_boolean&&1!=t?(a=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),s=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$title()+"</div>\n"}(),"<div"+a+' class="quoteblock abstract'+(t=u=e.$role(),t!==!1&&t!==c&&null!=t?" "+u:t)+'">\n'+s+"<blockquote>\n"+e.$content()+"\n</blockquote>\n</div>"):(i.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(t=(n=l["$=="]("partintro"))?($=(o=r(e.$level(),0))!==!1&&o!==c&&null!=o?o:e.$parent().$context()["$!="]("section"))!==!1&&$!==c&&null!=$?$:e.$document().$doctype()["$!="]("book"):l["$=="]("partintro"))===c||null==t||t.$$is_boolean&&1!=t?(a=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),s=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$title()+"</div>\n"}(),"<div"+a+' class="openblock'+function(){return(t=(n=l!==!1&&l!==c&&null!=l)?l["$!="]("open"):l)===c||null==t||t.$$is_boolean&&1!=t?"":" "+l}()+(t=u=e.$role(),t!==!1&&t!==c&&null!=t?" "+u:t)+'">\n'+s+'<div class="content">\n'+e.$content()+"\n</div>\n</div>"):(i.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),"")},I.$$arity=1),e.defn(ne,"$page_break",C=function(e){return'<div style="page-break-after: always;"></div>'},C.$$arity=1),e.defn(ne,"$paragraph",N=function(e){var t,n=c,$=c;return n=function(){return(t=e.$role())===c||null==t||t.$$is_boolean&&1!=t?'class="paragraph"':'class="paragraph '+e.$role()+'"'}(),$=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?n:'id="'+e.$id()+'" '+n}(),(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?"<div "+$+">\n<p>"+e.$content()+"</p>\n</div>":"<div "+$+'>\n<div class="title">'+e.$title()+"</div>\n<p>"+e.$content()+"</p>\n</div>"},N.$$arity=1),e.defn(ne,"$preamble",j=function(e){var t,n,$,r=this,o=c,i=c;return $=(o=e.$document())["$attr?"]("toc-placement","preamble"),n=$!==!1&&$!==c&&null!=$?o["$sections?"]():$,i=(t=n!==!1&&n!==c&&null!=n?o["$attr?"]("toc"):n)===c||null==t||t.$$is_boolean&&1!=t?c:'\n<div id="toc" class="'+o.$attr("toc-class","toc")+'">\n<div id="toctitle">'+o.$attr("toc-title")+"</div>\n"+r.$outline(o)+"\n</div>",'<div id="preamble">\n<div class="sectionbody">\n'+e.$content()+"\n</div>"+i+"\n</div>"},j.$$arity=1),e.defn(ne,"$quote",L=function(e){var t,n,r=this,o=c,i=c,l=c,a=c,s=c,u=c,_=c,d=c,f=c;return o=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),i=["quoteblock",e.$role()].$compact(),l=' class="'+$(i," ")+'"',a=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'\n<div class="title">'+e.$title()+"</div>"}(),s=function(){return(t=e["$attr?"]("attribution"))===c||null==t||t.$$is_boolean&&1!=t?c:e.$attr("attribution")}(),u=function(){return(t=e["$attr?"]("citetitle"))===c||null==t||t.$$is_boolean&&1!=t?c:e.$attr("citetitle")}(),(t=(n=s)!==!1&&n!==c&&null!=n?n:u)===c||null==t||t.$$is_boolean&&1!=t?f=c:(_=function(){return u!==!1&&u!==c&&null!=u?"<cite>"+u+"</cite>":c}(),d=function(){return s!==!1&&s!==c&&null!=s?"&#8212; "+s+function(){return u!==!1&&u!==c&&null!=u?"<br"+r.void_element_slash+">\n":c}():c}(),f='\n<div class="attribution">\n'+d+_+"\n</div>"),"<div"+o+l+">"+a+"\n<blockquote>\n"+e.$content()+"\n</blockquote>"+f+"\n</div>"},L.$$arity=1),e.defn(ne,"$thematic_break",z=function(e){return"<hr"+this.void_element_slash+">"},z.$$arity=1),e.defn(ne,"$sidebar",P=function(e){var t,n=c,r=c,o=c;return n=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),r=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'<div class="title">'+e.$title()+"</div>\n"}(),"<div"+n+' class="'+function(){return(t=o=e.$role())===c||null==t||t.$$is_boolean&&1!=t?"sidebarblock":$(["sidebarblock",o]," ")}()+'">\n<div class="content">\n'+r+e.$content()+"\n</div>\n</div>"},P.$$arity=1),e.defn(ne,"$table",D=function(t){var n,o,i,l,a,s,u=this,_=c,f=c,p=c,h=c,g=c,b=c,m=c,y=c,v=c;return _=[],f=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),p=["tableblock","frame-"+t.$attr("frame","all"),"grid-"+t.$attr("grid","all")],h=[],o=t["$option?"]("autowidth"),((n=o!==!1&&o!==c&&null!=o?t["$attr?"]("width",c,!1)["$!"]():o)===c||null==n||n.$$is_boolean&&1!=n)&&((n=t["$attr?"]("tablepcwidth",100))===c||null==n||n.$$is_boolean&&1!=n?h["$<<"]("width: "+t.$attr("tablepcwidth")+"%;"):p["$<<"]("spread")),(n=g=t.$role())===c||null==n||n.$$is_boolean&&1!=n||p["$<<"](g),b=' class="'+$(p," ")+'"',(n=t["$attr?"]("float"))===c||null==n||n.$$is_boolean&&1!=n||h["$<<"]("float: "+t.$attr("float")+";"),m=function(){return(n=h["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n?' style="'+$(h," ")+'"':c}(),_["$<<"]("<table"+f+b+m+">"),(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n||_["$<<"]('<caption class="title">'+t.$captioned_title()+"</caption>"),(n=r(t.$attr("rowcount"),0))===c||null==n||n.$$is_boolean&&1!=n||(y=u.void_element_slash,_["$<<"]("<colgroup>"),(n=t["$option?"]("autowidth"))===c||null==n||n.$$is_boolean&&1!=n?d(t.$columns(),"each",[],(l=function(e){l.$$s;return null==e&&(e=c),_["$<<"]('<col style="width: '+e.$attr("colpcwidth")+'%;"'+y+">")},l.$$s=u,l.$$arity=1,l)):(v="<col"+y+">",d(t.$columns().$size(),"times",[],(i=function(){i.$$s;return _["$<<"](v)},i.$$s=u,i.$$arity=0,i))),_["$<<"]("</colgroup>"),d(d(["head","foot","body"],"select",[],(a=function(e){a.$$s;return null==e&&(e=c),t.$rows()["$[]"](e)["$empty?"]()["$!"]()},a.$$s=u,a.$$arity=1,a)),"each",[],(s=function(e){var n,$=s.$$s||this;return null==e&&(e=c),_["$<<"]("<t"+e+">"),d(t.$rows()["$[]"](e),"each",[],(n=function($){var r,o=n.$$s||this;return null==$&&($=c),_["$<<"]("<tr>"),d($,"each",[],(r=function(n){var $,o,i,l=r.$$s||this,a=c,s=c,u=c,f=c,p=c,h=c,g=c;return null==n&&(n=c),e["$=="]("head")?a=n.$text():(s=n.$style(),"asciidoc"["$==="](s)?a="<div>"+n.$content()+"</div>":"verse"["$==="](s)?a='<div class="verse">'+n.$text()+"</div>":"literal"["$==="](s)?a='<div class="literal"><pre>'+n.$text()+"</pre></div>":(a="",d(n.$content(),"each",[],($=function(e){$.$$s;return null==e&&(e=c),a=a+'<p class="tableblock">'+e+"</p>"},$.$$s=l,$.$$arity=1,$)))),u=function(){return(o=(i=e["$=="]("head"))!==!1&&i!==c&&null!=i?i:n.$style()["$=="]("header"))===c||null==o||o.$$is_boolean&&1!=o?"td":"th"}(),f=' class="tableblock halign-'+n.$attr("halign")+" valign-"+n.$attr("valign")+'"',p=function(){return(o=n.$colspan())===c||null==o||o.$$is_boolean&&1!=o?c:' colspan="'+n.$colspan()+'"'}(),h=function(){return(o=n.$rowspan())===c||null==o||o.$$is_boolean&&1!=o?c:' rowspan="'+n.$rowspan()+'"'}(),g=function(){return(o=t.$document()["$attr?"]("cellbgcolor"))===c||null==o||o.$$is_boolean&&1!=o?c:' style="background-color: '+t.$document().$attr("cellbgcolor")+';"'}(),_["$<<"]("<"+u+f+p+h+g+">"+a+"</"+u+">")},r.$$s=o,r.$$arity=1,r)),_["$<<"]("</tr>")},n.$$s=$,n.$$arity=1,n)),_["$<<"]("</t"+e+">")},s.$$s=u,s.$$arity=1,s))),_["$<<"]("</table>"),$(_,e.const_get(oe,"EOL",!0,!0))},D.$$arity=1),e.defn(ne,"$toc",B=function(e){var t,n,$,r=this,o=c,i=c,l=c,a=c,s=c,u=c;return $=(o=e.$document())["$attr?"]("toc-placement","macro"),n=$!==!1&&$!==c&&null!=$?o["$sections?"]():$,(t=n!==!1&&n!==c&&null!=n?o["$attr?"]("toc"):n)===c||null==t||t.$$is_boolean&&1!=t?"<!-- toc disabled -->":((t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?(i=' id="toc"',l=' id="toctitle"'):(i=' id="'+e.$id()+'"',l=' id="'+e.$id()+'title"'),a=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?o.$attr("toc-title"):e.$title()}(),s=function(){return(t=e["$attr?"]("levels"))===c||null==t||t.$$is_boolean&&1!=t?c:e.$attr("levels").$to_i()}(),u=function(){return(t=e["$role?"]())===c||null==t||t.$$is_boolean&&1!=t?o.$attr("toc-class","toc"):e.$role()}(),"<div"+i+' class="'+u+'">\n<div'+l+' class="title">'+a+"</div>\n"+r.$outline(o,f(["toclevels"],{toclevels:s}))+"\n</div>")},B.$$arity=1),e.defn(ne,"$ulist",q=function(t){var n,r,o=this,i=c,l=c,a=c,s=c,u=c,_=c,f=c;return i=[],l=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),a=["ulist",t.$style(),t.$role()].$compact(),s=c,u=c,(n=_=t["$option?"]("checklist"))===c||null==n||n.$$is_boolean&&1!=n?f=function(){return(n=t.$style())===c||null==n||n.$$is_boolean&&1!=n?c:' class="'+t.$style()+'"'}():(a.$insert(1,"checklist"),f=' class="checklist"',(n=t["$option?"]("interactive"))===c||null==n||n.$$is_boolean&&1!=n?(n=t.$document()["$attr?"]("icons","font"))===c||null==n||n.$$is_boolean&&1!=n?(s="&#10003; ",u="&#10063; "):(s='<i class="fa fa-check-square-o"></i> ',u='<i class="fa fa-square-o"></i> '):(n=o.xml_mode)===c||null==n||n.$$is_boolean&&1!=n?(s='<input type="checkbox" data-item-complete="1" checked> ',u='<input type="checkbox" data-item-complete="0"> '):(s='<input type="checkbox" data-item-complete="1" checked="checked"/> ',u='<input type="checkbox" data-item-complete="0"/> ')),i["$<<"]("<div"+l+' class="'+$(a," ")+'">'),(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n||i["$<<"]('<div class="title">'+t.$title()+"</div>"),i["$<<"]("<ul"+f+">"),d(t.$items(),"each",[],(r=function(e){var t;r.$$s;return null==e&&(e=c),i["$<<"]("<li>"),(t=_!==!1&&_!==c&&null!=_?e["$attr?"]("checkbox"):_)===c||null==t||t.$$is_boolean&&1!=t?i["$<<"]("<p>"+e.$text()+"</p>"):i["$<<"]("<p>"+function(){return(t=e["$attr?"]("checked"))===c||null==t||t.$$is_boolean&&1!=t?u:s}()+e.$text()+"</p>"),(t=e["$blocks?"]())===c||null==t||t.$$is_boolean&&1!=t||i["$<<"](e.$content()),i["$<<"]("</li>")},r.$$s=o,r.$$arity=1,r)),i["$<<"]("</ul>"),i["$<<"]("</div>"),$(i,e.const_get(oe,"EOL",!0,!0))},q.$$arity=1),e.defn(ne,"$verse",F=function(e){var t,n,r=this,o=c,i=c,l=c,a=c,s=c,u=c,_=c,d=c,f=c;return o=function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="'+e.$id()+'"'}(),i=["verseblock",e.$role()].$compact(),l=' class="'+$(i," ")+'"',a=function(){return(t=e["$title?"]())===c||null==t||t.$$is_boolean&&1!=t?c:'\n<div class="title">'+e.$title()+"</div>"}(),s=function(){return(t=e["$attr?"]("attribution"))===c||null==t||t.$$is_boolean&&1!=t?c:e.$attr("attribution")}(),u=function(){return(t=e["$attr?"]("citetitle"))===c||null==t||t.$$is_boolean&&1!=t?c:e.$attr("citetitle")}(),(t=(n=s)!==!1&&n!==c&&null!=n?n:u)===c||null==t||t.$$is_boolean&&1!=t?f=c:(_=function(){return u!==!1&&u!==c&&null!=u?"<cite>"+u+"</cite>":c}(),d=function(){return s!==!1&&s!==c&&null!=s?"&#8212; "+s+function(){return u!==!1&&u!==c&&null!=u?"<br"+r.void_element_slash+">\n":c}():c}(),f='\n<div class="attribution">\n'+d+_+"\n</div>"),"<div"+o+l+">"+a+'\n<pre class="content">'+e.$content()+"</pre>"+f+"\n</div>"},F.$$arity=1),e.defn(ne,"$video",U=function(t){var n,r,o=this,i=c,l=c,a=c,s=c,u=c,_=c,d=c,f=c,p=c,h=c,g=c,b=c,m=c,y=c,v=c,w=c,k=c,x=c,O=c,E=c,A=c,S=c,R=c,M=c,T=c,I=c,C=c,N=c,j=c,L=c,z=c;return i=o.xml_mode,l=function(){return(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?c:' id="'+t.$id()+'"'}(),a=["videoblock",t.$role()].$compact(),s=' class="'+$(a," ")+'"',u=function(){return(n=t["$title?"]())===c||null==n||n.$$is_boolean&&1!=n?c:'\n<div class="title">'+t.$captioned_title()+"</div>"}(),_=function(){return(n=t["$attr?"]("width"))===c||null==n||n.$$is_boolean&&1!=n?c:' width="'+t.$attr("width")+'"'}(),d=function(){return(n=t["$attr?"]("height"))===c||null==n||n.$$is_boolean&&1!=n?c:' height="'+t.$attr("height")+'"'}(),function(){return f=t.$attr("poster"),"vimeo"["$==="](f)?(((n=(p=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n)&&(p+=":"),h=function(){return(n=t["$attr?"]("start",c,!1))===c||null==n||n.$$is_boolean&&1!=n?c:"#at="+t.$attr("start")}(),g="?",b=function(){return(n=t["$option?"]("autoplay"))===c||null==n||n.$$is_boolean&&1!=n?c:g+"autoplay=1"}(),b!==!1&&b!==c&&null!=b&&(g="&amp;"),m=function(){return(n=t["$option?"]("loop"))===c||null==n||n.$$is_boolean&&1!=n?c:g+"loop=1"}(),"<div"+l+s+">"+u+'\n<div class="content">\n<iframe'+_+d+' src="'+p+"//player.vimeo.com/video/"+t.$attr("target")+h+b+m+'" frameborder="0"'+function(){return(n=t["$option?"]("nofullscreen"))===c||null==n||n.$$is_boolean&&1!=n?o.$append_boolean_attribute("allowfullscreen",i):c}()+"></iframe>\n</div>\n</div>"):"youtube"["$==="](f)?(((n=(p=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n)&&(p+=":"),y=function(){return(n=t["$option?"]("related"))===c||null==n||n.$$is_boolean&&1!=n?0:1}(),v=function(){return(n=t["$attr?"]("start",c,!1))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;start="+t.$attr("start")}(),w=function(){return(n=t["$attr?"]("end",c,!1))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;end="+t.$attr("end")}(),b=function(){return(n=t["$option?"]("autoplay"))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;autoplay=1"}(),m=function(){return(n=t["$option?"]("loop"))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;loop=1"}(),k=function(){return(n=t["$option?"]("nocontrols"))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;controls=0"}(),(n=t["$option?"]("nofullscreen"))===c||null==n||n.$$is_boolean&&1!=n?(x=c,O=o.$append_boolean_attribute("allowfullscreen",i)):(x="&amp;fs=0",O=c),E=function(){return(n=t["$option?"]("modest"))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;modestbranding=1"}(),A=function(){return(n=t["$attr?"]("theme",c,!1))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;theme="+t.$attr("theme")}(),S=function(){return(n=t["$attr?"]("lang"))===c||null==n||n.$$is_boolean&&1!=n?c:"&amp;hl="+t.$attr("lang")}(),r=t.$attr("target").$split("/",2),n=e.to_ary(r),R=null==n[0]?c:n[0],M=null==n[1]?c:n[1],(n=(r=M)!==!1&&r!==c&&null!=r?r:M=t.$attr("list",c,!1))===c||null==n||n.$$is_boolean&&1!=n?(r=R.$split(",",2),n=e.to_ary(r),R=null==n[0]?c:n[0],I=null==n[1]?c:n[1],T=(n=(r=I)!==!1&&r!==c&&null!=r?r:I=t.$attr("playlist",c,!1))===c||null==n||n.$$is_boolean&&1!=n?function(){return m!==!1&&m!==c&&null!=m?"&amp;playlist="+R:c}():"&amp;playlist="+I):T="&amp;list="+M,"<div"+l+s+">"+u+'\n<div class="content">\n<iframe'+_+d+' src="'+p+"//www.youtube.com/embed/"+R+"?rel="+y+v+w+b+m+k+T+x+E+A+S+'" frameborder="0"'+O+"></iframe>\n</div>\n</div>"):(C=function(){return(n=(""+(N=t.$attr("poster")))["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n?' poster="'+t.$media_uri(N)+'"':c}(),j=t.$attr("start",c,!1),L=t.$attr("end",c,!1),z=function(){return(n=(r=j)!==!1&&r!==c&&null!=r?r:L)===c||null==n||n.$$is_boolean&&1!=n?c:"#t="+j+function(){return L!==!1&&L!==c&&null!=L?",":c}()+L}(),"<div"+l+s+">"+u+'\n<div class="content">\n<video src="'+t.$media_uri(t.$attr("target"))+z+'"'+_+d+C+function(){return(n=t["$option?"]("autoplay"))===c||null==n||n.$$is_boolean&&1!=n?c:o.$append_boolean_attribute("autoplay",i)}()+function(){return(n=t["$option?"]("nocontrols"))===c||null==n||n.$$is_boolean&&1!=n?o.$append_boolean_attribute("controls",i):c}()+function(){return(n=t["$option?"]("loop"))===c||null==n||n.$$is_boolean&&1!=n?c:o.$append_boolean_attribute("loop",i)}()+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")}()},U.$$arity=1),e.defn(ne,"$inline_anchor",G=function(e){var t,n,$=this,r=c,o=c,i=c,l=c,a=c,s=c;return r=e.$target(),function(){return o=e.$type(),"xref"["$==="](o)?(i=(t=e.$attributes()["$[]"]("refid"))!==!1&&t!==c&&null!=t?t:r,l=(t=e.$text())!==!1&&t!==c&&null!=t?t:(n=e.$document().$references()["$[]"]("ids")["$[]"](i))!==!1&&n!==c&&null!=n?n:"["+i+"]",'<a href="'+r+'">'+l+"</a>"):"ref"["$==="](o)?'<a id="'+r+'"></a>':"link"["$==="](o)?(a=[],(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t||a["$<<"](' id="'+e.$id()+'"'),(t=s=e.$role())===c||null==t||t.$$is_boolean&&1!=t||a["$<<"](' class="'+s+'"'),(t=e["$attr?"]("title",c,!1))===c||null==t||t.$$is_boolean&&1!=t||a["$<<"](' title="'+e.$attr("title")+'"'),(t=e["$attr?"]("window",c,!1))===c||null==t||t.$$is_boolean&&1!=t||a["$<<"](' target="'+e.$attr("window")+'"'),'<a href="'+r+'"'+a.$join()+">"+e.$text()+"</a>"):"bibref"["$==="](o)?'<a id="'+r+'"></a>['+r+"]":$.$warn("asciidoctor: WARNING: unknown anchor type: "+e.$type().$inspect())}()},G.$$arity=1),e.defn(ne,"$inline_break",H=function(e){var t=this;return e.$text()+"<br"+t.void_element_slash+">"},H.$$arity=1),e.defn(ne,"$inline_button",Y=function(e){return'<b class="button">'+e.$text()+"</b>"},Y.$$arity=1),e.defn(ne,"$inline_callout",K=function(e){var t,n=this;return(t=e.$document()["$attr?"]("icons","font"))===c||null==t||t.$$is_boolean&&1!=t?(t=e.$document()["$attr?"]("icons"))===c||null==t||t.$$is_boolean&&1!=t?'<b class="conum">('+e.$text()+")</b>":'<img src="'+e.$icon_uri("callouts/"+e.$text())+'" alt="'+e.$text()+'"'+n.void_element_slash+">":'<i class="conum" data-value="'+e.$text()+'"></i><b>('+e.$text()+")</b>"},K.$$arity=1),e.defn(ne,"$inline_footnote",W=function(e){var t,n=c;return(t=n=e.$attr("index"))===c||null==t||t.$$is_boolean&&1!=t?e.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+e.$text()+"]</sup>":c:e.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+n+'" title="View footnote.">'+n+"</a>]</sup>":'<sup class="footnote"'+function(){return(t=e.$id())===c||null==t||t.$$is_boolean&&1!=t?c:' id="_footnote_'+e.$id()+'"'}()+'>[<a id="_footnoteref_'+n+'" class="footnote" href="#_footnote_'+n+'" title="View footnote.">'+n+"</a>]</sup>"},W.$$arity=1),e.defn(ne,"$inline_image",X=function(t){var n,$,r,o,l,a,s,u=this,_=c,p=c,h=c,g=c,b=c,m=c,y=c,v=c,w=c,k=c,x=c,O=c;return(n=($=(_=t.$type())["$=="]("icon"))?t.$document()["$attr?"]("icons","font"):(_=t.$type())["$=="]("icon"))===c||null==n||n.$$is_boolean&&1!=n?(n=($=_["$=="]("icon"))?t.$document()["$attr?"]("icons")["$!"]():_["$=="]("icon"))===c||null==n||n.$$is_boolean&&1!=n?(b=t.$target(),m=d(["width","height","title"],"map",[],(o=function(e){var n;o.$$s;return null==e&&(e=c),(n=t["$attr?"](e))===c||null==n||n.$$is_boolean&&1!=n?c:" "+e+'="'+t.$attr(e)+'"'},o.$$s=u,o.$$arity=1,o)).$join(),a=_["$!="]("icon"),l=a!==!1&&a!==c&&null!=a?(s=t["$attr?"]("format","svg",!1))!==!1&&s!==c&&null!=s?s:b["$include?"](".svg"):a,$=l!==!1&&l!==c&&null!=l?i(t.$document().$safe(),e.const_get([e.const_get(oe,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)):l,(n=$!==!1&&$!==c&&null!=$?(l=y=t["$option?"]("inline"))!==!1&&l!==c&&null!=l?l:v=t["$option?"]("interactive"):$)===c||null==n||n.$$is_boolean&&1!=n||(y!==!1&&y!==c&&null!=y?g=(n=u.$read_svg_contents(t,b))!==!1&&n!==c&&null!=n?n:'<span class="alt">'+t.$attr("alt")+"</span>":v!==!1&&v!==c&&null!=v&&(w=function(){return(n=t["$attr?"]("fallback"))===c||null==n||n.$$is_boolean&&1!=n?'<span class="alt">'+t.$attr("alt")+"</span>":'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+t.$attr("alt")+'"'+m+u.void_element_slash+">"}(),g='<object type="image/svg+xml" data="'+t.$image_uri(b)+'"'+m+">"+w+"</object>")),(n=g)!==!1&&n!==c&&null!=n||(g='<img src="'+function(){return _["$=="]("icon")?t.$icon_uri(b):t.$image_uri(b)}()+'" alt="'+t.$attr("alt")+'"'+m+u.void_element_slash+">")):g="["+t.$attr("alt")+"]":(p="fa fa-"+t.$target(),d(f(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(r=function(e,n){var $;r.$$s;return null==e&&(e=c),null==n&&(n=c),($=t["$attr?"](e))===c||null==$||$.$$is_boolean&&1!=$?c:p=p+" "+n+t.$attr(e)},r.$$s=u,r.$$arity=2,r)),h=function(){return(n=t["$attr?"]("title"))===c||null==n||n.$$is_boolean&&1!=n?c:' title="'+t.$attr("title")+'"'}(),g='<i class="'+p+'"'+h+"></i>"),(n=t["$attr?"]("link"))===c||null==n||n.$$is_boolean&&1!=n||(k=function(){return(n=t["$attr?"]("window"))===c||null==n||n.$$is_boolean&&1!=n?c:' target="'+t.$attr("window")+'"'}(),g='<a class="image" href="'+t.$attr("link")+'"'+k+">"+g+"</a>"),p=function(){return(n=x=t.$role())===c||null==n||n.$$is_boolean&&1!=n?_:_+" "+x}(),O=function(){return(n=t["$attr?"]("float"))===c||null==n||n.$$is_boolean&&1!=n?c:' style="float: '+t.$attr("float")+'"'}(),'<span class="'+p+'"'+O+">"+g+"</span>"},X.$$arity=1),e.defn(ne,"$inline_indexterm",V=function(e){return e.$type()["$=="]("visible")?e.$text():""},V.$$arity=1),e.defn(ne,"$inline_kbd",J=function(e){var t,n=this,$=c;return($=e.$attr("keys")).$size()["$=="](1)?"<kbd>"+$["$[]"](0)+"</kbd>":'<span class="keyseq">'+d($,"map",[],(t=function(e){t.$$s;return null==e&&(e=c),"<kbd>"+e+"</kbd>+"},t.$$s=n,t.$$arity=1,t)).$join().$chop()+"</span>"},J.$$arity=1),e.defn(ne,"$inline_menu",Z=function(e){var t,n,$=this,r=c,o=c,i=c,l=c;return r=e.$attr("menu"),(t=(o=e.$attr("submenus"))["$empty?"]()["$!"]())===c||null==t||t.$$is_boolean&&1!=t?(t=l=e.$attr("menuitem"))===c||null==t||t.$$is_boolean&&1!=t?'<span class="menu">'+r+"</span>":'<span class="menuseq"><span class="menu">'+r+'</span>&#160;&#9656; <span class="menuitem">'+l+"</span></span>":(i=d(o,"map",[],(n=function(e){n.$$s;return null==e&&(e=c),'<span class="submenu">'+e+"</span>&#160;&#9656; "},n.$$s=$,n.$$arity=1,n)).$join().$chop(),'<span class="menuseq"><span class="menu">'+r+"</span>&#160;&#9656; "+i+' <span class="menuitem">'+e.$attr("menuitem")+"</span></span>")},Z.$$arity=1),e.defn(ne,"$inline_quoted",Q=function(t){var n,$,r=c,o=c,i=c,l=c,a=c;return $=e.const_get(oe,"QUOTE_TAGS",!0,!0)["$[]"](t.$type()),n=e.to_ary($),r=null==n[0]?c:n[0],o=null==n[1]?c:n[1],i=null==n[2]?c:n[2],a=(n=l=t.$role())===c||null==n||n.$$is_boolean&&1!=n?""+r+t.$text()+o:i!==!1&&i!==c&&null!=i?r.$chop()+' class="'+l+'">'+t.$text()+o:'<span class="'+l+'">'+r+t.$text()+o+"</span>",(n=t.$id())===c||null==n||n.$$is_boolean&&1!=n?a:'<a id="'+t.$id()+'"></a>'+a},Q.$$arity=1),e.defn(ne,"$append_boolean_attribute",ee=function(e,t){return t!==!1&&t!==c&&null!=t?" "+e+'="'+e+'"':" "+e},ee.$$arity=2),e.defn(ne,"$read_svg_contents",te=function(t,n){var $,r,o=this,i=c,l=c,a=c;return($=i=t.$read_contents(n,f(["start","normalize","label"],{start:t.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===c||null==$||$.$$is_boolean&&1!=$||((($=i["$start_with?"]("<svg"))===c||null==$||$.$$is_boolean&&1!=$)&&(i=i.$sub(e.const_get(oe,"SvgPreambleRx",!0,!0),"")),l=a=c,d(["width","height"],"each",[],(r=function(n){var $;r.$$s;return null==n&&(n=c),($=t["$attr?"](n))===c||null==$||$.$$is_boolean&&1!=$?c:(a!==!1&&a!==c&&null!=a||(a=(l=i.$match(e.const_get(oe,"SvgStartTagRx",!0,!0))["$[]"](0)).$gsub(e.const_get(oe,"DimensionAttributeRx",!0,!0),"")),a=a.$chop()+" "+n+'="'+t.$attr(n)+'px">')},r.$$s=o,r.$$arity=1,r)),a!==!1&&a!==c&&null!=a&&(i=""+a+i["$[]"](e.Range.$new(l.$length(),-1,!1)))),i},te.$$arity=2)}(e.const_get(b,"Converter",!0,!0),e.const_get([e.const_get(b,"Converter",!0,!0).$$scope],"BuiltIn",!0,!0),b)}(a.base,s)},Opal.modules["asciidoctor/extensions"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var o=(e.top,e),i=[e],l=e.nil,a=(e.breaker,e.slice,e.module),s=e.klass,c=e.hash2,u=e.send,_=e.range,d=e.hash
;return e.add_stubs(["$[]=","$config","$-","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$new","$create_block","$===","$has_more_lines?","$next_block","$dup","$<<","$each","$define_method","$send","$insert","$call","$attr_accessor","$[]","$option","$to_set","$flatten","$resolve_regexp","$==","$attr","$method","$register","$+","$values","$groups","$arity","$instance_exec","$to_proc","$activate","$add_document_processor","$!","$any?","$select","$add_syntax_processor","$to_sym","$include?","$private","$tr","$to_s","$join","$map","$split","$upcase","$chr","$instance_variable_get","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$class_for_name","$<","$update_config","$unshift","$as_symbol","$name=","$pop","$size","$>","$fill","$-@","$next_auto_id","$generate_name","$length","$empty?","$const_defined?"]),function(o,i){var f,p=f=a(o,"Asciidoctor"),h=(p.$$proto,p.$$scope),g=i.slice().concat(h);!function(o,i){var f,p=f=a(o,"Extensions"),h=(p.$$proto,p.$$scope),g=i.slice().concat(h);!function(n,$,r){function o(){}var i,a,_,d,f,p,h,g,b=o=s(n,null,"Processor",o),m=b.$$proto,y=b.$$scope,v=r.slice().concat(y);m.config=l,function(n,$){var r,o,i;n.$$proto,n.$$scope,$.slice().concat(n);e.defn(n,"$config",r=function(){var e,t=this;return null==t.config&&(t.config=l),(e=t.config)!==!1&&e!==l&&null!=e?e:t.config=c([],{})},r.$$arity=0),e.defn(n,"$option",o=function(n,$){var r=this,o=l;return o=[n,$],u(r.$config(),"[]=",e.to_a(o)),o[t(o.length,1)]},o.$$arity=2),e.defn(n,"$use_dsl",i=function(){var e,t=this;return(e=t.$name()["$nil_or_empty?"]())===l||null==e||e.$$is_boolean&&1!=e?(e=t.$constants().$grep("DSL"))===l||null==e||e.$$is_boolean&&1!=e?l:t.$extend(t.$const_get("DSL")):(e=t.$constants().$grep("DSL"))===l||null==e||e.$$is_boolean&&1!=e?l:t.$include(t.$const_get("DSL"))},i.$$arity=0),e.alias(n,"extend_dsl","use_dsl"),e.alias(n,"include_dsl","use_dsl")}(e.get_singleton_class(b),v),b.$attr_reader("config"),e.defn(b,"$initialize",i=function(e){var t=this;return null==e&&(e=c([],{})),t.config=t.$class().$config().$merge(e)},i.$$arity=-1),e.defn(b,"$update_config",a=function(e){return this.config.$update(e)},a.$$arity=1),e.defn(b,"$process",_=function(t){var n,$=this,r=arguments.length,o=r-0;o<0&&(o=0),n=new Array(o);for(var i=0;i<r;i++)n[i-0]=arguments[i];return $.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},_.$$arity=-1),e.defn(b,"$create_block",d=function(t,n,$,r,o){return null==o&&(o=c([],{})),e.const_get(v,"Block",!0,!0).$new(t,n,c(["source","attributes"],{source:$,attributes:r}).$merge(o))},d.$$arity=-5),e.defn(b,"$create_image_block",f=function(e,t,n){var $=this;return null==n&&(n=c([],{})),$.$create_block(e,"image",l,t,n)},f.$$arity=-3),e.defn(b,"$create_inline",p=function(t,n,$,r){return null==r&&(r=c([],{})),e.const_get(v,"Inline",!0,!0).$new(t,n,$,r)},p.$$arity=-4),e.defn(b,"$parse_content",h=function(t,n,$){var r,o,i=l,a=l;for(null==$&&($=l),i=function(){return(r=e.const_get(v,"Reader",!0,!0)["$==="](n))===l||null==r||r.$$is_boolean&&1!=r?e.const_get(v,"Reader",!0,!0).$new(n):n}();(o=i["$has_more_lines?"]())!==l&&null!=o&&(!o.$$is_boolean||1==o);)(a=e.const_get(v,"Parser",!0,!0).$next_block(i,t,function(){return $!==!1&&$!==l&&null!=$?$.$dup():c([],{})}()))!==!1&&a!==l&&null!=a&&t["$<<"](a);return t},h.$$arity=-3),u([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(g=function(t,n,$){var r,o=g.$$s||this;return null==t&&(t=l),null==n&&(n=l),null==$&&($=l),u(o,"define_method",[t],(r=function(t){var o,i=r.$$s||this,l=arguments.length,a=l-0;a<0&&(a=0),o=new Array(a);for(var s=0;s<l;s++)o[s-0]=arguments[s];return u(i,"send",[n].concat(e.to_a(o.$dup().$insert(1,$))))},r.$$s=o,r.$$arity=-1,r))},g.$$s=b,g.$$arity=3,g))}(h.base,0,g),function(n,$){var r,o,i,s,c=r=a(n,"ProcessorDsl"),_=(c.$$proto,c.$$scope);$.slice().concat(_);e.defn(c,"$option",o=function(n,$){var r=this,o=l;return o=[n,$],u(r.$config(),"[]=",e.to_a(o)),o[t(o.length,1)]},o.$$arity=2),e.defn(c,"$process",i=function(t){var n,$,r=this,o=i.$$p,a=o||l;null==r.process_block&&(r.process_block=l);var s=arguments.length,c=s-0;c<0&&(c=0),$=new Array(c);for(var _=0;_<s;_++)$[_-0]=arguments[_];return o&&(i.$$p=null),a!==l?r.process_block=a:(n=r.process_block)===l||null==n||n.$$is_boolean&&1!=n?r.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0)):u(r.process_block,"call",e.to_a($))},i.$$arity=-1),e.defn(c,"$process_block_given?",s=function(){var e;return null!=(e=this.process_block)&&e!==l?"instance-variable":l},s.$$arity=0)}(h.base,g),function(t,n,$){function r(){}var o,i=r=s(t,n,"Preprocessor",r),l=(i.$$proto,i.$$scope);$.slice().concat(l);e.defn(i,"$process",o=function(t,n){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},o.$$arity=2)}(h.base,e.const_get(g,"Processor",!0,!0),g),e.casgn(e.const_get(g,"Preprocessor",!0,!0),"DSL",e.const_get(g,"ProcessorDsl",!0,!0)),function(t,n,$){function r(){}var o,i=r=s(t,n,"Treeprocessor",r),l=(i.$$proto,i.$$scope);$.slice().concat(l);e.defn(i,"$process",o=function(t){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},o.$$arity=1)}(h.base,e.const_get(g,"Processor",!0,!0),g),e.casgn(e.const_get(g,"Treeprocessor",!0,!0),"DSL",e.const_get(g,"ProcessorDsl",!0,!0)),function(t,n,$){function r(){}var o,i=r=s(t,n,"Postprocessor",r),l=(i.$$proto,i.$$scope);$.slice().concat(l);e.defn(i,"$process",o=function(t,n){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},o.$$arity=2)}(h.base,e.const_get(g,"Processor",!0,!0),g),e.casgn(e.const_get(g,"Postprocessor",!0,!0),"DSL",e.const_get(g,"ProcessorDsl",!0,!0)),function(t,n,$){function r(){}var o,i,l=r=s(t,n,"IncludeProcessor",r),a=(l.$$proto,l.$$scope);$.slice().concat(a);e.defn(l,"$process",o=function(t,n,$,r){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},o.$$arity=4),e.defn(l,"$handles?",i=function(e){return!0},i.$$arity=1)}(h.base,e.const_get(g,"Processor",!0,!0),g),e.casgn(e.const_get(g,"IncludeProcessor",!0,!0),"DSL",e.const_get(g,"ProcessorDsl",!0,!0)),function(t,n,$){function r(){}var o,i,a=r=s(t,n,"DocinfoProcessor",r),_=a.$$proto,d=a.$$scope;$.slice().concat(d);_.config=l,a.$attr_accessor("location"),e.defn(a,"$initialize",o=function(t){var n,$,r,i=this,a=o.$$p;return null==t&&(t=c([],{})),a&&(o.$$p=null),u(i,e.find_super_dispatcher(i,"initialize",o,!1),[t],null),n="location",$=i.config,(r=$["$[]"](n))!==!1&&r!==l&&null!=r?r:$["$[]="](n,"head")},o.$$arity=-1),e.defn(a,"$process",i=function(t){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},i.$$arity=1)}(h.base,e.const_get(g,"Processor",!0,!0),g),function(t,n){var $,r,o=$=a(t,"DocinfoProcessorDsl"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);o.$include(e.const_get(l,"ProcessorDsl",!0,!0)),e.defn(o,"$at_location",r=function(e){return this.$option("location",e)},r.$$arity=1)}(h.base,g),e.casgn(e.const_get(g,"DocinfoProcessor",!0,!0),"DSL",e.const_get(g,"DocinfoProcessorDsl",!0,!0)),function(n,$,r){function o(){}var i,a,_=o=s(n,$,"BlockProcessor",o),d=_.$$proto,f=_.$$scope;r.slice().concat(f);d.config=l,_.$attr_accessor("name"),e.defn(_,"$initialize",i=function(n,$){var r,o,a,s=this,_=i.$$p,d=l,f=l;return null==n&&(n=l),null==$&&($=c([],{})),_&&(i.$$p=null),u(s,e.find_super_dispatcher(s,"initialize",i,!1),[$],null),s.name=(r=n)!==!1&&r!==l&&null!=r?r:s.config["$[]"]("name"),d=s.config["$[]"]("contexts"),e.const_get([e.Object.$$scope],"NilClass",!0,!0)["$==="](d)?(r="contexts",o=s.config,(a=o["$[]"](r))!==!1&&a!==l&&null!=a||o["$[]="](r,["open","paragraph"].$to_set())):e.const_get([e.Object.$$scope],"Symbol",!0,!0)["$==="](d)?(f=["contexts",[s.config["$[]"]("contexts")].$to_set()],u(s.config,"[]=",e.to_a(f)),f[t(f.length,1)]):(f=["contexts",s.config["$[]"]("contexts").$to_set()],u(s.config,"[]=",e.to_a(f)),f[t(f.length,1)]),r="content_model",o=s.config,(a=o["$[]"](r))!==!1&&a!==l&&null!=a?a:o["$[]="](r,"compound")},i.$$arity=-1),e.defn(_,"$process",a=function(t,n,$){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},a.$$arity=3)}(h.base,e.const_get(g,"Processor",!0,!0),g),function(t,n){var $,r,o,i,s,c,u=$=a(t,"BlockProcessorDsl"),_=(u.$$proto,u.$$scope),d=n.slice().concat(_);u.$include(e.const_get(d,"ProcessorDsl",!0,!0)),e.defn(u,"$named",r=function(t){var n,$=this;return(n=e.const_get(d,"Processor",!0,!0)["$==="]($))===l||null==n||n.$$is_boolean&&1!=n?$.$option("name",t):$.name=t},r.$$arity=1),e.alias(u,"match_name","named"),e.alias(u,"bind_to","named"),e.defn(u,"$contexts",o=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];return n.$option("contexts",t.$flatten())},o.$$arity=-1),e.alias(u,"on_contexts","contexts"),e.alias(u,"on_context","contexts"),e.defn(u,"$content_model",i=function(e){return this.$option("content_model",e)},i.$$arity=1),e.alias(u,"parse_content_as","content_model"),e.defn(u,"$positional_attributes",s=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];return n.$option("pos_attrs",t.$flatten())},s.$$arity=-1),e.alias(u,"pos_attrs","positional_attributes"),e.alias(u,"name_attributes","positional_attributes"),e.alias(u,"name_positional_attributes","positional_attributes"),e.defn(u,"$default_attrs",c=function(e){return this.$option("default_attrs",e)},c.$$arity=1),e.alias(u,"seed_attributes_with","default_attrs")}(h.base,g),e.casgn(e.const_get(g,"BlockProcessor",!0,!0),"DSL",e.const_get(g,"BlockProcessorDsl",!0,!0)),function(t,n,$){function r(){}var o,i,a=r=s(t,n,"MacroProcessor",r),_=a.$$proto,d=a.$$scope;$.slice().concat(d);_.config=l,a.$attr_accessor("name"),e.defn(a,"$initialize",o=function(t,n){var $,r,i,a=this,s=o.$$p;return null==t&&(t=l),null==n&&(n=c([],{})),s&&(o.$$p=null),u(a,e.find_super_dispatcher(a,"initialize",o,!1),[n],null),a.name=($=t)!==!1&&$!==l&&null!=$?$:a.config["$[]"]("name"),$="content_model",r=a.config,(i=r["$[]"]($))!==!1&&i!==l&&null!=i?i:r["$[]="]($,"attributes")},o.$$arity=-1),e.defn(a,"$process",i=function(t,n,$){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},i.$$arity=3)}(h.base,e.const_get(g,"Processor",!0,!0),g),function(t,n){var $,r,o,i,s,c=$=a(t,"MacroProcessorDsl"),u=(c.$$proto,c.$$scope),_=n.slice().concat(u);c.$include(e.const_get(_,"ProcessorDsl",!0,!0)),e.defn(c,"$named",r=function(t){var n,$=this;return(n=e.const_get(_,"Processor",!0,!0)["$==="]($))===l||null==n||n.$$is_boolean&&1!=n?$.$option("name",t):$.name=t},r.$$arity=1),e.alias(c,"match_name","named"),e.alias(c,"bind_to","named"),e.defn(c,"$content_model",o=function(e){return this.$option("content_model",e)},o.$$arity=1),e.alias(c,"parse_content_as","content_model"),e.defn(c,"$positional_attributes",i=function(e){var t,n=this,$=arguments.length,r=$-0;r<0&&(r=0),t=new Array(r);for(var o=0;o<$;o++)t[o-0]=arguments[o];return n.$option("pos_attrs",t.$flatten())},i.$$arity=-1),e.alias(c,"pos_attrs","positional_attributes"),e.alias(c,"name_attributes","positional_attributes"),e.alias(c,"name_positional_attributes","positional_attributes"),e.defn(c,"$default_attrs",s=function(e){return this.$option("default_attrs",e)},s.$$arity=1),e.alias(c,"seed_attributes_with","default_attrs")}(h.base,g),function(e,t,n){function $(){}var r=$=s(e,t,"BlockMacroProcessor",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(h.base,e.const_get(g,"MacroProcessor",!0,!0),g),e.casgn(e.const_get(g,"BlockMacroProcessor",!0,!0),"DSL",e.const_get(g,"MacroProcessorDsl",!0,!0)),function(t,n,$){function r(){}var o,i,a=r=s(t,n,"InlineMacroProcessor",r),c=a.$$proto,u=a.$$scope;$.slice().concat(u);c.config=c.name=l,e.defn(a,"$regexp",o=function(){var e,t,n,$=this;return e="regexp",t=$.config,(n=t["$[]"](e))!==!1&&n!==l&&null!=n?n:t["$[]="](e,$.$resolve_regexp($.name,$.config["$[]"]("format")))},o.$$arity=0),e.defn(a,"$resolve_regexp",i=function(e,t){return t["$=="]("short")?new RegExp("\\\\?"+e+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+e+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},i.$$arity=2)}(h.base,e.const_get(g,"MacroProcessor",!0,!0),g),function(t,n){var $,r,o,i=$=a(t,"InlineMacroProcessorDsl"),l=(i.$$proto,i.$$scope),s=n.slice().concat(l);i.$include(e.const_get(s,"MacroProcessorDsl",!0,!0)),e.defn(i,"$using_format",r=function(e){return this.$option("format",e)},r.$$arity=1),e.defn(i,"$match",o=function(e){return this.$option("regexp",e)},o.$$arity=1)}(h.base,g),e.casgn(e.const_get(g,"InlineMacroProcessor",!0,!0),"DSL",e.const_get(g,"InlineMacroProcessorDsl",!0,!0)),function(t,n,$){function r(){}var o,i=r=s(t,null,"Extension",r),l=(i.$$proto,i.$$scope);$.slice().concat(l);i.$attr("kind"),i.$attr("config"),i.$attr("instance"),e.defn(i,"$initialize",o=function(e,t,n){var $=this;return $.kind=e,$.instance=t,$.config=n},o.$$arity=3)}(h.base,0,g),function(t,n,$){function r(){}var o,i=r=s(t,n,"ProcessorExtension",r),a=(i.$$proto,i.$$scope);$.slice().concat(a);i.$attr("process_method"),e.defn(i,"$initialize",o=function(t,n,$){var r,i=this,a=o.$$p;return null==$&&($=l),a&&(o.$$p=null),u(i,e.find_super_dispatcher(i,"initialize",o,!1),[t,n,n.$config()],null),i.process_method=(r=$)!==!1&&r!==l&&null!=r?r:n.$method("process")},o.$$arity=-3)}(h.base,e.const_get(g,"Extension",!0,!0),g),function(t,n,$){function r(){}var o,i=r=s(t,null,"Group",r),a=(i.$$proto,i.$$scope),c=$.slice().concat(a);(function(t,n){var $,r=(t.$$proto,t.$$scope,n.slice().concat(t));e.defn(t,"$register",$=function(t){var n=this;return null==t&&(t=l),e.const_get(r,"Extensions",!0,!0).$register(t,n)},$.$$arity=-1)})(e.get_singleton_class(i),c),e.defn(i,"$activate",o=function(t){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},o.$$arity=1)}(h.base,0,g),function(o,i,a){function d(){}var f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K,W=d=s(o,null,"Registry",d),X=W.$$proto,V=W.$$scope,J=a.slice().concat(V);X.groups=X.preprocessor_extensions=X.treeprocessor_extensions=X.postprocessor_extensions=X.include_processor_extensions=X.docinfo_processor_extensions=X.block_extensions=X.block_macro_extensions=X.inline_macro_extensions=l,W.$attr_reader("document"),W.$attr_reader("groups"),e.defn(W,"$initialize",f=function(e){var t=this;return null==e&&(e=c([],{})),t.groups=e,t.preprocessor_extensions=t.treeprocessor_extensions=t.postprocessor_extensions=t.include_processor_extensions=t.docinfo_processor_extensions=l,t.block_extensions=t.block_macro_extensions=t.inline_macro_extensions=l,t.document=l},f.$$arity=-1),e.defn(W,"$activate",p=function(t){var $,r=this;return r.document=t,u(n(e.const_get(J,"Extensions",!0,!0).$groups().$values(),r.groups.$values()),"each",[],($=function(t){var n=$.$$s||this,r=l;return null==t&&(t=l),function(){return r=t,e.const_get([e.Object.$$scope],"Proc",!0,!0)["$==="](r)?function(){return r=t.$arity(),(0)["$==="](r)||(-1)["$==="](r)?u(n,"instance_exec",[],t.$to_proc()):1["$==="](r)?t.$call(n):l}():e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="](r)?t.$new().$activate(n):t.$activate(n)}()},$.$$s=r,$.$$arity=1,$)),r},p.$$arity=1),e.defn(W,"$preprocessor",h=function(e){var t,n=this,$=h.$$p,r=$||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return $&&(h.$$p=null),u(n,"add_document_processor",["preprocessor",t],r.$to_proc())},h.$$arity=-1),e.defn(W,"$preprocessors?",g=function(){return this.preprocessor_extensions["$!"]()["$!"]()},g.$$arity=0),e.defn(W,"$preprocessors",b=function(){return this.preprocessor_extensions},b.$$arity=0),e.defn(W,"$treeprocessor",m=function(e){var t,n=this,$=m.$$p,r=$||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return $&&(m.$$p=null),u(n,"add_document_processor",["treeprocessor",t],r.$to_proc())},m.$$arity=-1),e.defn(W,"$treeprocessors?",y=function(){return this.treeprocessor_extensions["$!"]()["$!"]()},y.$$arity=0),e.defn(W,"$treeprocessors",v=function(){return this.treeprocessor_extensions},v.$$arity=0),e.defn(W,"$postprocessor",w=function(e){var t,n=this,$=w.$$p,r=$||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return $&&(w.$$p=null),u(n,"add_document_processor",["postprocessor",t],r.$to_proc())},w.$$arity=-1),e.defn(W,"$postprocessors?",k=function(){return this.postprocessor_extensions["$!"]()["$!"]()},k.$$arity=0),e.defn(W,"$postprocessors",x=function(){return this.postprocessor_extensions},x.$$arity=0),e.defn(W,"$include_processor",O=function(e){var t,n=this,$=O.$$p,r=$||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return $&&(O.$$p=null),u(n,"add_document_processor",["include_processor",t],r.$to_proc())},O.$$arity=-1),e.defn(W,"$include_processors?",E=function(){return this.include_processor_extensions["$!"]()["$!"]()},E.$$arity=0),e.defn(W,"$include_processors",A=function(){return this.include_processor_extensions},A.$$arity=0),e.defn(W,"$docinfo_processor",S=function(e){var t,n=this,$=S.$$p,r=$||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return $&&(S.$$p=null),u(n,"add_document_processor",["docinfo_processor",t],r.$to_proc())},S.$$arity=-1),e.defn(W,"$docinfo_processors?",R=function(e){var t,n,$=this;return null==e&&(e=l),!((t=$.docinfo_processor_extensions)===l||null==t||t.$$is_boolean&&1!=t)&&(e===!1||e===l||null==e||u($.docinfo_processor_extensions,"any?",[],(n=function(t){n.$$s;return null==t&&(t=l),t.$config()["$[]"]("location")["$=="](e)},n.$$s=$,n.$$arity=1,n)))},R.$$arity=-1),e.defn(W,"$docinfo_processors",M=function(e){var t,n,$=this;return null==e&&(e=l),(t=$.docinfo_processor_extensions)===l||null==t||t.$$is_boolean&&1!=t?l:e!==!1&&e!==l&&null!=e?u($.docinfo_processor_extensions,"select",[],(n=function(t){n.$$s;return null==t&&(t=l),t.$config()["$[]"]("location")["$=="](e)},n.$$s=$,n.$$arity=1,n)):$.docinfo_processor_extensions},M.$$arity=-1),e.defn(W,"$block",T=function(e){var t,n=this,$=T.$$p,r=$||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return $&&(T.$$p=null),u(n,"add_syntax_processor",["block",t],r.$to_proc())},T.$$arity=-1),e.defn(W,"$blocks?",I=function(){return this.block_extensions["$!"]()["$!"]()},I.$$arity=0),e.defn(W,"$registered_for_block?",C=function(e,t){var n,$=this,r=l;return!((n=r=$.block_extensions["$[]"](e.$to_sym()))===l||null==n||n.$$is_boolean&&1!=n)&&(!((n=r.$config()["$[]"]("contexts")["$include?"](t))===l||null==n||n.$$is_boolean&&1!=n)&&r)},C.$$arity=2),e.defn(W,"$find_block_extension",N=function(e){return this.block_extensions["$[]"](e.$to_sym())},N.$$arity=1),e.defn(W,"$block_macro",j=function(e){var t,n=this,$=j.$$p,r=$||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return $&&(j.$$p=null),u(n,"add_syntax_processor",["block_macro",t],r.$to_proc())},j.$$arity=-1),e.defn(W,"$block_macros?",L=function(){return this.block_macro_extensions["$!"]()["$!"]()},L.$$arity=0),e.defn(W,"$registered_for_block_macro?",z=function(e){var t,n=this,$=l;return!((t=$=n.block_macro_extensions["$[]"](e.$to_sym()))===l||null==t||t.$$is_boolean&&1!=t)&&$},z.$$arity=1),e.defn(W,"$find_block_macro_extension",P=function(e){return this.block_macro_extensions["$[]"](e.$to_sym())},P.$$arity=1),e.defn(W,"$inline_macro",D=function(e){var t,n=this,$=D.$$p,r=$||l,o=arguments.length,i=o-0;i<0&&(i=0),t=new Array(i);for(var a=0;a<o;a++)t[a-0]=arguments[a];return $&&(D.$$p=null),u(n,"add_syntax_processor",["inline_macro",t],r.$to_proc())},D.$$arity=-1),e.defn(W,"$inline_macros?",B=function(){return this.inline_macro_extensions["$!"]()["$!"]()},B.$$arity=0),e.defn(W,"$registered_for_inline_macro?",q=function(e){var t,n=this,$=l;return!((t=$=n.inline_macro_extensions["$[]"](e.$to_sym()))===l||null==t||t.$$is_boolean&&1!=t)&&$},q.$$arity=1),e.defn(W,"$find_inline_macro_extension",F=function(e){return this.inline_macro_extensions["$[]"](e.$to_sym())},F.$$arity=1),e.defn(W,"$inline_macros",U=function(){return this.inline_macro_extensions.$values()},U.$$arity=0),W.$private(),e.defn(W,"$add_document_processor",G=function(t,n){var r,o,i,a,s,c=this,d=G.$$p,f=d||l,p=l,h=l,g=l,b=l,m=l,y=l,v=l,w=l,k=l;return d&&(G.$$p=null),p=t.$to_s().$tr("_"," "),h=u(p.$split(" "),"map",[],(r=function(e){r.$$s;return null==e&&(e=l),""+e.$chr().$upcase()+e["$[]"](_(1,-1,!1))},r.$$s=c,r.$$arity=1,r)).$join().$to_sym(),g=e.const_get(J,"Extensions",!0,!0).$const_get(h),b=function(){return(o=(i=e.const_get([e.Object.$$scope],"AsciidoctorJ",!0,!1))?"constant":l)===l||null==o||o.$$is_boolean&&1!=o?l:e.const_get([e.const_get([e.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$const_get(h)}(),m=(o=c.$instance_variable_get(("@"+t+"_extensions").$to_sym()))!==!1&&o!==l&&null!=o?o:c.$instance_variable_set(("@"+t+"_extensions").$to_sym(),[]),y=function(){return f!==l?(v=c.$resolve_args(n,1),w=g.$new(v),(o=g.$constants().$grep("DSL"))===l||null==o||o.$$is_boolean&&1!=o||w.$extend(g.$const_get("DSL")),u(w,"instance_exec",[],f.$to_proc()),w.$freeze(),((o=w["$process_block_given?"]())===l||null==o||o.$$is_boolean&&1!=o)&&c.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0).$new("No block specified to process "+p+" extension at "+f.$source_location())),e.const_get(J,"ProcessorExtension",!0,!0).$new(t,w)):(a=c.$resolve_args(n,2),o=e.to_ary(a),w=null==o[0]?l:o[0],v=null==o[1]?l:o[1],(o=(a=e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="](w))!==!1&&a!==l&&null!=a?a:(s=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](w),s!==!1&&s!==l&&null!=s?w=e.const_get(J,"Extensions",!0,!0).$class_for_name(w):s))===l||null==o||o.$$is_boolean&&1!=o?(o=(a=g["$==="](w))!==!1&&a!==l&&null!=a?a:(s=b!==!1&&b!==l&&null!=b)?b["$==="](w):b)===l||null==o||o.$$is_boolean&&1!=o?c.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0).$new("Invalid arguments specified for registering "+p+" extension: "+n)):(w.$update_config(v),w.$freeze(),e.const_get(J,"ProcessorExtension",!0,!0).$new(t,w)):(((o=(a=$(w,g))!==!1&&a!==l&&null!=a?a:(s=b!==!1&&b!==l&&null!=b)?$(w,b):b)===l||null==o||o.$$is_boolean&&1!=o)&&c.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0).$new("Invalid type for "+p+" extension: "+w)),k=w.$new(v),k.$freeze(),e.const_get(J,"ProcessorExtension",!0,!0).$new(t,k)))}(),y.$config()["$[]"]("position")["$=="](">>")?m.$unshift(y):m["$<<"](y)},G.$$arity=2),e.defn(W,"$add_syntax_processor",H=function(n,r){var o,i,a,s,d,f=this,p=H.$$p,h=p||l,g=l,b=l,m=l,y=l,v=l,w=l,k=l,x=l,O=l,E=l,A=l;return p&&(H.$$p=null),g=n.$to_s().$tr("_"," "),b=u(g.$split(" "),"map",[],(o=function(e){o.$$s;return null==e&&(e=l),""+e.$chr().$upcase()+e["$[]"](_(1,-1,!1))},o.$$s=f,o.$$arity=1,o)).$join(),m=(b+"Processor").$to_sym(),y=e.const_get(J,"Extensions",!0,!0).$const_get(m),v=function(){return(i=(a=e.const_get([e.Object.$$scope],"AsciidoctorJ",!0,!1))?"constant":l)===l||null==i||i.$$is_boolean&&1!=i?l:e.const_get([e.const_get([e.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$const_get(m)}(),w=(i=f.$instance_variable_get(("@"+n+"_extensions").$to_sym()))!==!1&&i!==l&&null!=i?i:f.$instance_variable_set(("@"+n+"_extensions").$to_sym(),c([],{})),h!==l?(s=f.$resolve_args(r,2),i=e.to_ary(s),k=null==i[0]?l:i[0],x=null==i[1]?l:i[1],O=y.$new(f.$as_symbol(k),x),(i=y.$constants().$grep("DSL"))===l||null==i||i.$$is_boolean&&1!=i||O.$extend(y.$const_get("DSL")),h.$arity()["$=="](1)?e.yield1(h,O):u(O,"instance_exec",[],h.$to_proc()),((i=k=f.$as_symbol(O.$name()))===l||null==i||i.$$is_boolean&&1!=i)&&f.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0).$new("No name specified for "+g+" extension at "+h.$source_location())),((i=O["$process_block_given?"]())===l||null==i||i.$$is_boolean&&1!=i)&&f.$raise(e.const_get([e.Object.$$scope],"NoMethodError",!0,!0).$new("No block specified to process "+g+" extension at "+h.$source_location())),O.$freeze(),E=[k,e.const_get(J,"ProcessorExtension",!0,!0).$new(n,O)],u(w,"[]=",e.to_a(E)),E[t(E.length,1)]):(s=f.$resolve_args(r,3),i=e.to_ary(s),O=null==i[0]?l:i[0],k=null==i[1]?l:i[1],x=null==i[2]?l:i[2],(i=(s=e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="](O))!==!1&&s!==l&&null!=s?s:(d=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](O),d!==!1&&d!==l&&null!=d?O=e.const_get(J,"Extensions",!0,!0).$class_for_name(O):d))===l||null==i||i.$$is_boolean&&1!=i?(i=(s=y["$==="](O))!==!1&&s!==l&&null!=s?s:(d=v!==!1&&v!==l&&null!=v)?v["$==="](O):v)===l||null==i||i.$$is_boolean&&1!=i?f.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0).$new("Invalid arguments specified for registering "+g+" extension: "+r)):(O.$update_config(x),((i=k=function(){return k!==!1&&k!==l&&null!=k?(E=[f.$as_symbol(k)],u(O,"name=",e.to_a(E)),E[t(E.length,1)]):f.$as_symbol(O.$name())}())===l||null==i||i.$$is_boolean&&1!=i)&&f.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0).$new("No name specified for "+g+" extension: "+O)),O.$freeze(),E=[k,e.const_get(J,"ProcessorExtension",!0,!0).$new(n,O)],u(w,"[]=",e.to_a(E)),E[t(E.length,1)]):(((i=(s=$(O,y))!==!1&&s!==l&&null!=s?s:(d=v!==!1&&v!==l&&null!=v)?$(O,v):v)===l||null==i||i.$$is_boolean&&1!=i)&&f.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0).$new("Class specified for "+g+" extension does not inherit from "+y+": "+O)),A=O.$new(f.$as_symbol(k),x),((i=k=f.$as_symbol(A.$name()))===l||null==i||i.$$is_boolean&&1!=i)&&f.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0).$new("No name specified for "+g+" extension: "+O)),O.$freeze(),E=[k,e.const_get(J,"ProcessorExtension",!0,!0).$new(n,A)],u(w,"[]=",e.to_a(E)),E[t(E.length,1)]))},H.$$arity=2),e.defn(W,"$resolve_args",Y=function(n,o){var i,a=l,s=l,u=l;return a=function(){return(i=e.const_get([e.Object.$$scope],"Hash",!0,!0)["$==="](n["$[]"](-1)))===l||null==i||i.$$is_boolean&&1!=i?c([],{}):n.$pop()}(),o["$=="](1)?a:(s=n.$size(),(i=r(u=t(t(o,1),s),0))===l||null==i||i.$$is_boolean&&1!=i?(i=$(u,0))===l||null==i||i.$$is_boolean&&1!=i||n.$pop(u["$-@"]()):n.$fill(l,s,u),n["$<<"](a),n)},Y.$$arity=2),e.defn(W,"$as_symbol",K=function(e){return e!==!1&&e!==l&&null!=e?e.$to_sym():l},K.$$arity=1)}(h.base,0,g),function($,r){var o,i,a,s,_,f,p,h,g=($.$$proto,$.$$scope,r.slice().concat($));e.defn($,"$generate_name",o=function(){return"extgrp"+this.$next_auto_id()},o.$$arity=0),e.defn($,"$next_auto_id",i=function(){var e,t=this;return null==t.auto_id&&(t.auto_id=l),(e=t.auto_id)!==!1&&e!==l&&null!=e||(t.auto_id=-1),t.auto_id=n(t.auto_id,1)},i.$$arity=0),e.defn($,"$groups",a=function(){var e,t=this;return null==t.groups&&(t.groups=l),(e=t.groups)!==!1&&e!==l&&null!=e?e:t.groups=c([],{})},a.$$arity=0),e.defn($,"$build_registry",s=function(t){var n,$=this,r=s.$$p,o=r||l;return null==t&&(t=l),r&&(s.$$p=null),o!==l?((n=t)!==!1&&n!==l&&null!=n||(t=$.$generate_name()),e.const_get(g,"Registry",!0,!0).$new(d(t,o))):e.const_get(g,"Registry",!0,!0).$new()},s.$$arity=-1),e.defn($,"$register",_=function(n){var $,r,o=this,i=_.$$p,a=i||l,s=l,c=l,d=l,f=l,p=l,h=l,g=arguments.length,b=g-0;b<0&&(b=0),r=new Array(b);for(var m=0;m<g;m++)r[m-0]=arguments[m];return i&&(_.$$p=null),s=r.$length(),c=function(){return a!==l?a:($=(d=r.$pop())["$!"]())===l||null==$||$.$$is_boolean&&1!=$?function(){return f=d,e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="](f)?d:e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](f)?o.$class_for_name(d):e.const_get([e.Object.$$scope],"Symbol",!0,!0)["$==="](f)?o.$class_for_name(d.$to_s()):d}():o.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0).$new("Extension group to register not specified"))}(),p=($=r.$pop())!==!1&&$!==l&&null!=$?$:o.$generate_name(),(($=r["$empty?"]())===l||null==$||$.$$is_boolean&&1!=$)&&o.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0).$new("Wrong number of arguments ("+s+" for 1..2)")),h=[p,c],u(o.$groups(),"[]=",e.to_a(h)),h[t(h.length,1)]},_.$$arity=-1),e.defn($,"$unregister_all",f=function(){return this.groups=c([],{})},f.$$arity=0),e.defn($,"$resolve_class",p=function(t){var n,$=this;return(n=e.const_get([e.Object.$$scope],"Class",!0,!0)["$==="](t))===l||null==n||n.$$is_boolean&&1!=n?$.$class_for_name(t.$to_s()):t},p.$$arity=1),e.defn($,"$class_for_name",h=function(t){var n,$=this,r=l;return r=e.const_get([e.Object.$$scope],"Object",!0,!0),u(t.$split("::"),"each",[],(n=function(e){var $,o=n.$$s||this;return null==e&&(e=l),($=e["$empty?"]())===l||null==$||$.$$is_boolean&&1!=$?($=r["$const_defined?"](e))===l||null==$||$.$$is_boolean&&1!=$?o.$raise("Could not resolve class for name: "+t):r=r.$const_get(e):l},n.$$s=$,n.$$arity=1,n)),r},h.$$arity=1)}(e.get_singleton_class(p),g)}(h.base,g)}(o.base,i)},Opal.modules["asciidoctor/js/postscript"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("asciidoctor/converter"),t.$require("asciidoctor/converter/composite"),t.$require("asciidoctor/converter/html5"),t.$require("asciidoctor/extensions")},Opal.modules["asciidoctor/opal_ext"]=function(e){var t=e.top;e.nil,e.breaker,e.slice;return e.add_stubs(["$require"]),t.$require("asciidoctor/js"),t.$require("asciidoctor/js/postscript")},Opal.modules["asciidoctor/version"]=function(e){var t=(e.top,e),n=[e],$=(e.nil,e.breaker,e.slice,e.module);return function(t,n){var r,o=r=$(t,"Asciidoctor"),i=(o.$$proto,o.$$scope);n.slice().concat(i);e.cdecl(i,"VERSION","1.5.5")}(t.base,n)},Opal.modules["asciidoctor/timings"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var r=(e.top,e),o=[e],i=e.nil,l=(e.breaker,e.slice,e.module),a=e.klass,s=e.hash2,c=e.send,u=e.gvars;return e.add_stubs(["$now","$[]=","$-","$delete","$>","$+","$[]","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert"]),function(r,o){var _,d=_=l(r,"Asciidoctor"),f=(d.$$proto,d.$$scope),p=o.slice().concat(f);!function(r,o,l){function _(){}var d,f,p,h,g,b,m,y,v=_=a(r,null,"Timings",_),w=v.$$proto,k=v.$$scope;l.slice().concat(k);w.timers=w.log=i,e.defn(v,"$initialize",d=function(){var e=this;return e.log=s([],{}),e.timers=s([],{})},d.$$arity=0),e.defn(v,"$start",f=function(n){var $=this,r=i;return r=[n,e.const_get([e.Object.$$scope],"Time",!0,!0).$now()],c($.timers,"[]=",e.to_a(r)),r[t(r.length,1)]},f.$$arity=1),e.defn(v,"$record",p=function(n){var $=this,r=i;return r=[n,t(e.const_get([e.Object.$$scope],"Time",!0,!0).$now(),$.timers.$delete(n))],c($.log,"[]=",e.to_a(r)),r[t(r.length,1)]},p.$$arity=1),e.defn(v,"$read_parse",h=function(){var e,t,r=this,o=i;return(e=n(o=$((t=r.log["$[]"]("read"))!==!1&&t!==i&&null!=t?t:0,(t=r.log["$[]"]("parse"))!==!1&&t!==i&&null!=t?t:0),0))===i||null==e||e.$$is_boolean&&1!=e?i:o},h.$$arity=0),e.defn(v,"$convert",g=function(){var e;return(e=this.log["$[]"]("convert"))!==!1&&e!==i&&null!=e?e:0},g.$$arity=0),e.defn(v,"$read_parse_convert",b=function(){var e,t,r=this,o=i;return(e=n(o=$($((t=r.log["$[]"]("read"))!==!1&&t!==i&&null!=t?t:0,(t=r.log["$[]"]("parse"))!==!1&&t!==i&&null!=t?t:0),(t=r.log["$[]"]("convert"))!==!1&&t!==i&&null!=t?t:0),0))===i||null==e||e.$$is_boolean&&1!=e?i:o},b.$$arity=0),e.defn(v,"$total",m=function(){var e,t,r=this,o=i;return(e=n(o=$($($((t=r.log["$[]"]("read"))!==!1&&t!==i&&null!=t?t:0,(t=r.log["$[]"]("parse"))!==!1&&t!==i&&null!=t?t:0),(t=r.log["$[]"]("convert"))!==!1&&t!==i&&null!=t?t:0),(t=r.log["$[]"]("write"))!==!1&&t!==i&&null!=t?t:0),0))===i||null==e||e.$$is_boolean&&1!=e?i:o},m.$$arity=0),e.defn(v,"$print_report",y=function(e,t){
var n=this;return null==u.stdout&&(u.stdout=i),null==e&&(e=u.stdout),null==t&&(t=i),t!==!1&&t!==i&&null!=t&&e.$puts("Input file: "+t),e.$puts("  Time to read and parse source: "+"%05.5f"["$%"](n.$read_parse().$to_f())),e.$puts("  Time to convert document: "+"%05.5f"["$%"](n.$convert().$to_f())),e.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](n.$read_parse_convert().$to_f()))},y.$$arity=-1)}(f.base,0,p)}(r.base,o)},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.klass);return e.add_stubs(["$method_defined?"]),function(t,n,o){function i(){}var l,a=i=r(t,null,"NilClass",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);((l=a["$method_defined?"]("nil_or_empty?"))===$||null==l||l.$$is_boolean&&1!=l)&&e.alias(a,"nil_or_empty?","nil?")}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=r(t,null,"String",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);((l=a["$method_defined?"]("nil_or_empty?"))===$||null==l||l.$$is_boolean&&1!=l)&&e.alias(a,"nil_or_empty?","empty?")}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=r(t,null,"Array",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);((l=a["$method_defined?"]("nil_or_empty?"))===$||null==l||l.$$is_boolean&&1!=l)&&e.alias(a,"nil_or_empty?","empty?")}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=r(t,null,"Hash",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);((l=a["$method_defined?"]("nil_or_empty?"))===$||null==l||l.$$is_boolean&&1!=l)&&e.alias(a,"nil_or_empty?","empty?")}(t.base,0,n),function(t,n,o){function i(){}var l,a=i=r(t,null,"Numeric",i),s=(a.$$proto,a.$$scope);o.slice().concat(s);return(l=a["$method_defined?"]("nil_or_empty?"))===$||null==l||l.$$is_boolean&&1!=l?e.alias(a,"nil_or_empty?","nil?"):$}(t.base,0,n)},Opal.modules["asciidoctor/core_ext/string/limit"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var $=(e.top,e),r=[e],o=e.nil,i=(e.breaker,e.slice,e.klass);return e.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function($,r,l){function a(){}var s,c,u=a=i($,null,"String",a),_=(u.$$proto,u.$$scope);l.slice().concat(_);return(s=u["$method_defined?"]("limit"))===o||null==s||s.$$is_boolean&&1!=s?(e.defn(u,"$limit",c=function($){var r,i,l=this,a=o;if((r=t($,l.$bytesize()))===o||null==r||r.$$is_boolean&&1!=r)return l;for(;(i=(a=l.$byteslice(0,$)).$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0))["$valid_encoding?"]())===o||null==i||i.$$is_boolean&&1!=i;)$=n($,1);return a},c.$$arity=1),o&&"limit"):o}($.base,0,r)},Opal.modules["asciidoctor/core_ext"]=function(e){var t,n=e.top,$=[e],r=e.nil;e.breaker,e.slice;return e.add_stubs(["$require","$!="]),n.$require("asciidoctor/core_ext/nil_or_empty"),(t=e.const_get($,"RUBY_MIN_VERSION_1_9",!0,!0))===r||null==t||t.$$is_boolean&&1!=t?((t=e.const_get($,"RUBY_ENGINE",!0,!0)["$!="]("opal"))===r||null==t||t.$$is_boolean,r):n.$require("asciidoctor/core_ext/string/limit")},Opal.modules["asciidoctor/helpers"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}var n=(e.top,e),$=[e],r=e.nil,o=(e.breaker,e.slice,e.module),i=e.range,l=e.send,a=e.gvars;return e.add_stubs(["$require","$==","$===","$fail","$warn","$chomp","$message","$class","$normalize_lines_from_string","$normalize_lines_array","$empty?","$to_a","$bytes","$[]","$map","$lines","$encode","$force_encoding","$join","$rstrip","$[]=","$-","$encoding","$nil_or_empty?","$each_line","$include?","$=~","$gsub","$each_byte","$sprintf","$extname","$-@","$length","$basename","$directory?","$dirname","$!","$!=","$mkdir_p","$mkdir"]),function(n,$){var s,c=s=o(n,"Asciidoctor"),u=(c.$$proto,c.$$scope),_=$.slice().concat(u);!function(n,$){var s,c,u,_,d,f,p,h,g,b,m,y=s=o(n,"Helpers"),v=(y.$$proto,y.$$scope),w=$.slice().concat(v);e.defs(y,"$require_library",c=function(t,n,$){var o=this,i=r,l=r;null==n&&(n=!0),null==$&&($="abort");try{return o.$require(t)}catch(a){if(!e.rescue(a,[e.const_get([e.Object.$$scope],"LoadError",!0,!0)]))throw a;i=a;try{return n!==!1&&n!==r&&null!=n?(n["$=="](!0)&&(n=t),function(){return l=$,"abort"["$==="](l)?o.$fail("asciidoctor: FAILED: required gem '"+n+"' is not installed. Processing aborted."):"warn"["$==="](l)?o.$warn("asciidoctor: WARNING: optional gem '"+n+"' is not installed. Functionality disabled."):r}()):function(){return l=$,"abort"["$==="](l)?o.$fail("asciidoctor: FAILED: "+i.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](l)?o.$warn("asciidoctor: WARNING: "+i.$message().$chomp(".")+". Functionality disabled."):r}()}finally{e.pop_exception()}}},c.$$arity=-2),e.defs(y,"$normalize_lines",u=function(t){var n=this;return t.$class()["$=="](e.const_get([e.Object.$$scope],"String",!0,!0))?n.$normalize_lines_from_string(t):n.$normalize_lines_array(t)},u.$$arity=1),e.defs(y,"$normalize_lines_array",_=function(n){var $,o,a,s,c,u=this,_=r,d=r,f=r,p=r,h=r;return($=n["$empty?"]())===r||null==$||$.$$is_boolean&&1!=$?(_=(d=n["$[]"](0))["$[]"](i(0,2,!1)).$bytes().$to_a(),($=e.const_get(w,"COERCE_ENCODING",!0,!0))===r||null==$||$.$$is_boolean&&1!=$?(_["$=="](e.const_get(w,"BOM_BYTES_UTF_8",!0,!0))&&(h=[0,d["$[]"](i(3,-1,!1))],l(n,"[]=",e.to_a(h)),h[t(h.length,1)]),l(n,"map",[],(c=function(e){c.$$s;return null==e&&(e=r),e.$rstrip()},c.$$s=u,c.$$arity=1,c))):(f=e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0),(p=_["$[]"](i(0,1,!1)))["$=="](e.const_get(w,"BOM_BYTES_UTF_16LE",!0,!0))?l(n.$join().$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0))["$[]"](i(1,-1,!1)).$encode(f).$lines(),"map",[],(o=function(e){o.$$s;return null==e&&(e=r),e.$rstrip()},o.$$s=u,o.$$arity=1,o)):p["$=="](e.const_get(w,"BOM_BYTES_UTF_16BE",!0,!0))?(h=[0,d.$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0))["$[]"](i(1,-1,!1))],l(n,"[]=",e.to_a(h)),h[t(h.length,1)],l(n,"map",[],(a=function(t){a.$$s;return null==t&&(t=r),""+t.$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0)).$encode(f).$rstrip()},a.$$s=u,a.$$arity=1,a))):(_["$[]"](i(0,2,!1))["$=="](e.const_get(w,"BOM_BYTES_UTF_8",!0,!0))&&(h=[0,d.$force_encoding(f)["$[]"](i(1,-1,!1))],l(n,"[]=",e.to_a(h)),h[t(h.length,1)]),l(n,"map",[],(s=function(e){s.$$s;return null==e&&(e=r),e.$encoding()["$=="](f)?e.$rstrip():e.$force_encoding(f).$rstrip()},s.$$s=u,s.$$arity=1,s))))):[]},_.$$arity=1),e.defs(y,"$normalize_lines_from_string",d=function(t){var n,$,o=this,a=r,s=r,c=r;return(n=t["$nil_or_empty?"]())===r||null==n||n.$$is_boolean&&1!=n?((n=e.const_get(w,"COERCE_ENCODING",!0,!0))===r||null==n||n.$$is_boolean&&1!=n?t["$[]"](i(0,2,!1)).$bytes().$to_a()["$=="](e.const_get(w,"BOM_BYTES_UTF_8",!0,!0))&&(t=t["$[]"](i(3,-1,!1))):(a=e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0),s=t["$[]"](i(0,2,!1)).$bytes().$to_a(),(c=s["$[]"](i(0,1,!1)))["$=="](e.const_get(w,"BOM_BYTES_UTF_16LE",!0,!0))?t=t.$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0))["$[]"](i(1,-1,!1)).$encode(a):c["$=="](e.const_get(w,"BOM_BYTES_UTF_16BE",!0,!0))?t=t.$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0))["$[]"](i(1,-1,!1)).$encode(a):s["$[]"](i(0,2,!1))["$=="](e.const_get(w,"BOM_BYTES_UTF_8",!0,!0))?t=function(){return t.$encoding()["$=="](a)?t["$[]"](i(1,-1,!1)):t.$force_encoding(a)["$[]"](i(1,-1,!1))}():t.$encoding()["$=="](a)||(t=t.$force_encoding(a))),l(t.$each_line(),"map",[],($=function(e){$.$$s;return null==e&&(e=r),e.$rstrip()},$.$$s=o,$.$$arity=1,$))):[]},d.$$arity=1),e.defs(y,"$uriish?",f=function(t){var n;return n=t["$include?"](":"),n!==!1&&n!==r&&null!=n?t["$=~"](e.const_get(w,"UriSniffRx",!0,!0)):n},f.$$arity=1),e.defs(y,"$uri_prefix",p=function(t){var n,$;return $=t["$include?"](":"),(n=$!==!1&&$!==r&&null!=$?t["$=~"](e.const_get(w,"UriSniffRx",!0,!0)):$)===r||null==n||n.$$is_boolean&&1!=n?r:(n=a["~"])===r?r:n["$[]"](0)},p.$$arity=1),e.cdecl(v,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),e.defs(y,"$encode_uri",h=function(t){var n,$=this;return l(t,"gsub",[e.const_get(w,"REGEXP_ENCODE_URI_CHARS",!0,!0)],(n=function(){var e,t,$=n.$$s||this;return l(((e=a["~"])===r?r:e["$[]"](0)).$each_byte(),"map",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=r),n.$sprintf("%%%02X",e)},t.$$s=$,t.$$arity=1,t)).$join()},n.$$s=$,n.$$arity=0,n))},h.$$arity=1),e.defs(y,"$rootname",g=function(t){var n,$=r;return(n=($=e.const_get([e.Object.$$scope],"File",!0,!0).$extname(t))["$empty?"]())===r||null==n||n.$$is_boolean&&1!=n?t["$[]"](e.Range.$new(0,$.$length()["$-@"](),!0)):t},g.$$arity=1),e.defs(y,"$basename",b=function(t,n){return null==n&&(n=!1),n!==!1&&n!==r&&null!=n?e.const_get([e.Object.$$scope],"File",!0,!0).$basename(t,e.const_get([e.Object.$$scope],"File",!0,!0).$extname(t)):e.const_get([e.Object.$$scope],"File",!0,!0).$basename(t)},b.$$arity=-2),e.defs(y,"$mkdir_p",m=function(t){var n,$,o=this,i=r;return(n=e.const_get([e.Object.$$scope],"File",!0,!0)["$directory?"](t))===r||null==n||n.$$is_boolean&&1!=n?(i=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(t),$=e.const_get([e.Object.$$scope],"File",!0,!0)["$directory?"](i=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(t))["$!"](),(n=$!==!1&&$!==r&&null!=$?i["$!="]("."):$)===r||null==n||n.$$is_boolean&&1!=n||o.$mkdir_p(i),e.const_get([e.Object.$$scope],"Dir",!0,!0).$mkdir(t)):r},m.$$arity=1)}(u.base,_)}(n.base,$)},Opal.modules["asciidoctor/substitutors"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var o=(e.top,e),i=[e],l=e.nil,a=(e.breaker,e.slice),s=e.module,c=e.hash2,u=e.send,_=e.gvars,d=e.range;return e.add_stubs(["$join","$keys","$[]","$+","$attr_reader","$!","$==","$===","$each","$has_key?","$<<","$empty?","$*","$include?","$extract_passthroughs","$sub_specialchars","$sub_quotes","$sub_attributes","$split","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$restore_passthroughs","$apply_subs","$compat_mode","$gsub","$nil_or_empty?","$size","$unescape_brackets","$resolve_pass_subs","$[]=","$-","$>","$end_with?","$parse_attributes","$start_with?","$to_sym","$attributes","$document","$basebackend?","$to_i","$convert","$new","$clear","$convert_quoted_text","$do_replacement","$tr","$length","$store_attribute","$fetch","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$unescape_bracketed_text","$inject","$strip","$map","$pop","$rstrip","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$config","$process_method","$register","$basename","$split_simple_csv","$normalize_string","$!=","$!~","$delete","$chop","$attr?","$sub","$chomp","$encode_uri","$sub_inline_xrefs","$sub_inline_anchors","$find","$references","$id","$index","$text","$rootname","$key","$escape","$attr","$read_next_id","$callouts","$push","$parse_quoted_text_attributes","$shorthand_property_syntax","$shift","$concat","$parse_into","$parse","$each_char","$=~","$chr","$dup","$&","$resolve_subs","$nil?","$require_library","$set_attr","$sub_source","$resolve_highlight_lines","$highlight","$to_a","$uniq","$sort","$option?","$resolve_block_subs"]),function(o,i){var f,p=f=s(o,"Asciidoctor"),h=(p.$$proto,p.$$scope),g=i.slice().concat(h);!function(o,i){var f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H=f=s(o,"Substitutors"),Y=(H.$$proto,H.$$scope),K=i.slice().concat(Y);e.cdecl(Y,"SPECIAL_CHARS",c(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"})),e.cdecl(Y,"SPECIAL_CHARS_PATTERN",new RegExp("["+e.const_get(K,"SPECIAL_CHARS",!0,!0).$keys().$join()+"]")),e.cdecl(Y,"SUBS",c(["basic","normal","verbatim","title","header","pass"],{basic:["specialcharacters"],normal:["specialcharacters","quotes","attributes","replacements","macros","post_replacements"],verbatim:["specialcharacters","callouts"],title:["specialcharacters","quotes","replacements","macros","attributes","post_replacements"],header:["specialcharacters","attributes"],pass:[]})),e.cdecl(Y,"COMPOSITE_SUBS",c(["none","normal","verbatim","specialchars"],{none:[],normal:e.const_get(K,"SUBS",!0,!0)["$[]"]("normal"),verbatim:e.const_get(K,"SUBS",!0,!0)["$[]"]("verbatim"),specialchars:["specialcharacters"]})),e.cdecl(Y,"SUB_SYMBOLS",c(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),e.cdecl(Y,"SUB_OPTIONS",c(["block","inline"],{block:t(t(e.const_get(K,"COMPOSITE_SUBS",!0,!0).$keys(),e.const_get(K,"SUBS",!0,!0)["$[]"]("normal")),["callouts"]),inline:t(e.const_get(K,"COMPOSITE_SUBS",!0,!0).$keys(),e.const_get(K,"SUBS",!0,!0)["$[]"]("normal"))})),e.cdecl(Y,"SUB_HIGHLIGHT",["coderay","pygments"]),e.cdecl(Y,"PASS_START",""),e.cdecl(Y,"PASS_END",""),e.cdecl(Y,"PASS_MATCH",/\u0096(\d+)\u0097/),e.cdecl(Y,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/),H.$attr_reader("passthroughs"),e.defn(H,"$apply_subs",p=function($,r,o){var i,a,s,c=this,_=l,d=l,f=l,p=l;return null==c.passthroughs&&(c.passthroughs=l),null==r&&(r="normal"),null==o&&(o=!1),(i=r["$!"]())===l||null==i||i.$$is_boolean&&1!=i?(r["$=="]("normal")?r=e.const_get(K,"SUBS",!0,!0)["$[]"]("normal"):o!==!1&&o!==l&&null!=o&&((i=e.const_get([e.Object.$$scope],"Symbol",!0,!0)["$==="](r))===l||null==i||i.$$is_boolean&&1!=i?(_=[],u(r,"each",[],(a=function(n){var $;a.$$s;return null==n&&(n=l),($=e.const_get(K,"COMPOSITE_SUBS",!0,!0)["$has_key?"](n))===l||null==$||$.$$is_boolean&&1!=$?_["$<<"](n):_=t(_,e.const_get(K,"COMPOSITE_SUBS",!0,!0)["$[]"](n))},a.$$s=c,a.$$arity=1,a)),r=_):r=(i=e.const_get(K,"COMPOSITE_SUBS",!0,!0)["$[]"](r))!==!1&&i!==l&&null!=i?i:[r]),(i=r["$empty?"]())===l||null==i||i.$$is_boolean&&1!=i?(d=function(){return(i=f=e.const_get([e.Object.$$scope],"Array",!0,!0)["$==="]($))===l||null==i||i.$$is_boolean&&1!=i?$:n($,e.const_get(K,"EOL",!0,!0))}(),(i=p=r["$include?"]("macros"))===l||null==i||i.$$is_boolean&&1!=i||(d=c.$extract_passthroughs(d),(i=c.passthroughs["$empty?"]())===l||null==i||i.$$is_boolean&&1!=i||(p=!1)),u(r,"each",[],(s=function(t){var $,o=s.$$s||this,i=l;return null==t&&(t=l),function(){return i=t,"specialcharacters"["$==="](i)?d=o.$sub_specialchars(d):"quotes"["$==="](i)?d=o.$sub_quotes(d):"attributes"["$==="](i)?d=n(o.$sub_attributes(d.$split(e.const_get(K,"EOL",!0,!0))),e.const_get(K,"EOL",!0,!0)):"replacements"["$==="](i)?d=o.$sub_replacements(d):"macros"["$==="](i)?d=o.$sub_macros(d):"highlight"["$==="](i)?d=o.$highlight_source(d,r["$include?"]("callouts")):"callouts"["$==="](i)?($=r["$include?"]("highlight"))===l||null==$||$.$$is_boolean&&1!=$?d=o.$sub_callouts(d):l:"post_replacements"["$==="](i)?d=o.$sub_post_replacements(d):o.$warn("asciidoctor: WARNING: unknown substitution type "+t)}()},s.$$s=c,s.$$arity=1,s)),p!==!1&&p!==l&&null!=p&&(d=c.$restore_passthroughs(d)),f!==!1&&f!==l&&null!=f?d.$split(e.const_get(K,"EOL",!0,!0)):d):$):$},p.$$arity=-2),e.defn(H,"$apply_normal_subs",h=function(t){var $;return this.$apply_subs(function(){return($=e.const_get([e.Object.$$scope],"Array",!0,!0)["$==="](t))===l||null==$||$.$$is_boolean&&1!=$?t:n(t,e.const_get(K,"EOL",!0,!0))}())},h.$$arity=1),e.defn(H,"$apply_title_subs",g=function(t){return this.$apply_subs(t,e.const_get(K,"SUBS",!0,!0)["$[]"]("title"))},g.$$arity=1),e.defn(H,"$apply_header_subs",b=function(t){return this.$apply_subs(t,e.const_get(K,"SUBS",!0,!0)["$[]"]("header"))},b.$$arity=1),e.defn(H,"$extract_passthroughs",m=function(t){var o,i,a,s,f,p,h=this,g=l,b=l,m=l,y=l;return null==h.document&&(h.document=l),g=h.document.$compat_mode(),(o=(i=(a=t["$include?"]("++"))!==!1&&a!==l&&null!=a?a:t["$include?"]("$$"))!==!1&&i!==l&&null!=i?i:t["$include?"]("ss:"))===l||null==o||o.$$is_boolean&&1!=o||(t=u(t,"gsub",[e.const_get(K,"PassInlineMacroRx",!0,!0)],(s=function(){var t,o=s.$$s||this,i=l,a=l,f=l,p=l,h=l,b=l,m=l,y=l,v=l,w=l;if(null==o.passthroughs&&(o.passthroughs=l),null==_["~"]&&(_["~"]=l),i=_["~"],a=l,(t=(f=i["$[]"](4))["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t){if((t=g!==!1&&g!==l&&null!=g?f["$=="]("++"):g)!==l&&null!=t&&(!t.$$is_boolean||1==t))return function(){return(t=i["$[]"](2)["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?i["$[]"](1)+"["+i["$[]"](2)+"]"+i["$[]"](3)+"++"+o.$extract_passthroughs(i["$[]"](5))+"++":""+i["$[]"](1)+i["$[]"](3)+"++"+o.$extract_passthroughs(i["$[]"](5))+"++"}();if(b=i["$[]"](2),(t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===l||null==t||t.$$is_boolean&&1!=t||b["$=="]("")&&(b=l),m=i["$[]"](3).$size(),y=i["$[]"](5),v=!1,b!==!1&&b!==l&&null!=b){if(!((t=r(m,0))===l||null==t||t.$$is_boolean&&1!=t))return i["$[]"](1)+"["+b+"]"+n("\\",$(m,1))+f+i["$[]"](5)+f+")";i["$[]"](1)["$=="]("\\")?(a="["+b+"]",b=l):((t=f["$=="]("++")?b["$end_with?"]("x-"):f["$=="]("++"))===l||null==t||t.$$is_boolean&&1!=t||(v=!0,b=b["$[]"](d(0,-2,!0))),b=o.$parse_attributes(b))}else if((t=r(m,0))!==l&&null!=t&&(!t.$$is_boolean||1==t))return i["$[]"](1)+"["+b+"]"+n("\\",$(m,1))+f+i["$[]"](5)+f;w=function(){return f["$=="]("+++")?[]:["specialcharacters"]}(),h=o.passthroughs.$size(),b!==!1&&b!==l&&null!=b?v!==!1&&v!==l&&null!=v?(p=[h,c(["text","subs","type","attributes"],{text:y,subs:e.const_get(K,"SUBS",!0,!0)["$[]"]("normal"),type:"monospaced",attributes:b})],u(o.passthroughs,"[]=",e.to_a(p)),p[$(p.length,1)]):(p=[h,c(["text","subs","type","attributes"],{text:y,subs:w,type:"unquoted",attributes:b})],u(o.passthroughs,"[]=",e.to_a(p)),p[$(p.length,1)]):(p=[h,c(["text","subs"],{text:y,subs:w})],u(o.passthroughs,"[]=",e.to_a(p)),p[$(p.length,1)])}else{if(i["$[]"](6)["$=="]("\\"))return i["$[]"](0)["$[]"](d(1,-1,!1));p=[h=o.passthroughs.$size(),c(["text","subs"],{text:o.$unescape_brackets(i["$[]"](8)),subs:function(){return(t=i["$[]"](7)["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?o.$resolve_pass_subs(i["$[]"](7)):[]}()})],u(o.passthroughs,"[]=",e.to_a(p)),p[$(p.length,1)]}return""+a+e.const_get(K,"PASS_START",!0,!0)+h+e.const_get(K,"PASS_END",!0,!0)},s.$$s=h,s.$$arity=0,s))),i=e.const_get(K,"PassInlineRx",!0,!0)["$[]"](g),o=e.to_ary(i),b=null==o[0]?l:o[0],m=null==o[1]?l:o[1],y=null==o[2]?l:o[2],(o=(i=t["$include?"](b))!==!1&&i!==l&&null!=i?i:(a=m!==!1&&m!==l&&null!=m)?t["$include?"](m):m)===l||null==o||o.$$is_boolean&&1!=o||(t=u(t,"gsub",[y],(f=function(){var t,n=f.$$s||this,r=l,o=l,i=l,a=l,s=l,p=l,h=l,b=l,m=l,y=l;if(null==n.passthroughs&&(n.passthroughs=l),null==_["~"]&&(_["~"]=l),r=_["~"],o=r["$[]"](1),i=r["$[]"](2),a=function(){return(t=r["$[]"](3)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?l:"\\"}(),s=r["$[]"](4),p=r["$[]"](5),(t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===l||null==t||t.$$is_boolean&&1!=t||i["$=="]("")&&(i=l),g!==!1&&g!==l&&null!=g?h=!0:(t=h=i!==!1&&i!==l&&null!=i?i["$end_with?"]("x-"):i)===l||null==t||t.$$is_boolean&&1!=t||(i=i["$[]"](d(0,-2,!0))),i!==!1&&i!==l&&null!=i){if((t=s["$=="]("`")?h["$!"]():s["$=="]("`"))!==l&&null!=t&&(!t.$$is_boolean||1==t))return o+"["+i+"]"+a+"`"+n.$extract_passthroughs(p)+"`";if(a!==!1&&a!==l&&null!=a)return o+"["+i+"]"+r["$[]"](3)["$[]"](d(1,-1,!1));o["$=="]("\\")?(o="["+i+"]",i=l):i=n.$parse_attributes(i)}else{if(!((t=s["$=="]("`")?h["$!"]():s["$=="]("`"))===l||null==t||t.$$is_boolean&&1!=t))return""+o+a+"`"+n.$extract_passthroughs(p)+"`";if(a!==!1&&a!==l&&null!=a)return""+o+r["$[]"](3)["$[]"](d(1,-1,!1))}return b=n.passthroughs.$size(),g!==!1&&g!==l&&null!=g?(m=[b,c(["text","subs","attributes","type"],{text:p,subs:["specialcharacters"],attributes:i,type:"monospaced"})],u(n.passthroughs,"[]=",e.to_a(m)),m[$(m.length,1)]):i!==!1&&i!==l&&null!=i?h!==!1&&h!==l&&null!=h?(y=function(){return s["$=="]("`")?["specialcharacters"]:e.const_get(K,"SUBS",!0,!0)["$[]"]("normal")}(),m=[b,c(["text","subs","attributes","type"],{text:p,subs:y,attributes:i,type:"monospaced"})],u(n.passthroughs,"[]=",e.to_a(m)),m[$(m.length,1)]):(m=[b,c(["text","subs","attributes","type"],{text:p,subs:["specialcharacters"],attributes:i,type:"unquoted"})],u(n.passthroughs,"[]=",e.to_a(m)),m[$(m.length,1)]):(m=[b,c(["text","subs"],{text:p,subs:["specialcharacters"]})],u(n.passthroughs,"[]=",e.to_a(m)),m[$(m.length,1)]),""+o+e.const_get(K,"PASS_START",!0,!0)+b+e.const_get(K,"PASS_END",!0,!0)},f.$$s=h,f.$$arity=0,f))),i=t["$include?"](":"),(o=i!==!1&&i!==l&&null!=i?(a=t["$include?"]("stem:"))!==!1&&a!==l&&null!=a?a:t["$include?"]("math:"):i)===l||null==o||o.$$is_boolean&&1!=o||(t=u(t,"gsub",[e.const_get(K,"StemInlineMacroRx",!0,!0)],(p=function(){var t,n=p.$$s||this,r=l,o=l,i=l,a=l,s=l,f=l,h=l;return null==n.document&&(n.document=l),null==n.passthroughs&&(n.passthroughs=l),null==_["~"]&&(_["~"]=l),r=_["~"],(t=r["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?((o=r["$[]"](1).$to_sym())["$=="]("stem")&&(o=function(){return(t=(i=n.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?i:"asciimath"}().$to_sym()),a=n.$unescape_brackets(r["$[]"](3)),s=(t=r["$[]"](2)["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?n.$resolve_pass_subs(r["$[]"](2)):function(){return(t=n.document["$basebackend?"]("html"))===l||null==t||t.$$is_boolean&&1!=t?[]:["specialcharacters"]}(),f=[h=n.passthroughs.$size(),c(["text","subs","type"],{text:a,subs:s,type:o})],u(n.passthroughs,"[]=",e.to_a(f)),f[$(f.length,1)],""+e.const_get(K,"PASS_START",!0,!0)+h+e.const_get(K,"PASS_END",!0,!0)):r["$[]"](0)["$[]"](d(1,-1,!1))},p.$$s=h,p.$$arity=0,p))),t},m.$$arity=1),e.defn(H,"$restore_passthroughs",y=function(t,n){var $,r,o,i,a=this;return null==a.passthroughs&&(a.passthroughs=l),null==n&&(n=!0),function(){try{return($=(r=n!==!1&&n!==l&&null!=n)?(o=a.passthroughs["$empty?"]())!==!1&&o!==l&&null!=o?o:t["$include?"](e.const_get(K,"PASS_START",!0,!0))["$!"]():n)===l||null==$||$.$$is_boolean&&1!=$?u(t,"gsub",[e.const_get(K,"PASS_MATCH",!0,!0)],(i=function(){var t,n=i.$$s||this,$=l,r=l,o=l,a=l;return null==n.passthroughs&&(n.passthroughs=l),null==_["~"]&&(_["~"]=l),$=n.passthroughs["$[]"](_["~"]["$[]"](1).$to_i()),r=function(){return(t=o=$["$[]"]("subs"))===l||null==t||t.$$is_boolean&&1!=t?$["$[]"]("text"):n.$apply_subs($["$[]"]("text"),o)}(),(t=a=$["$[]"]("type"))===l||null==t||t.$$is_boolean&&1!=t||(r=e.const_get(K,"Inline",!0,!0).$new(n,"quoted",r,c(["type","attributes"],{type:a,attributes:$["$[]"]("attributes")})).$convert()),(t=r["$include?"](e.const_get(K,"PASS_START",!0,!0)))===l||null==t||t.$$is_boolean&&1!=t?r:n.$restore_passthroughs(r,!1)},i.$$s=a,i.$$arity=0,i)):t}finally{!function(){n!==!1&&n!==l&&null!=n&&a.passthroughs.$clear()}()}}()},y.$$arity=-2),e.defn(H,"$sub_specialchars",v=function(t){var n,$,r=this;return(n=e.const_get(K,"SUPPORTS_GSUB_RESULT_HASH",!0,!0))===l||null==n||n.$$is_boolean&&1!=n?u(t,"gsub",[e.const_get(K,"SPECIAL_CHARS_PATTERN",!0,!0)],($=function(){var t;$.$$s;return e.const_get(K,"SPECIAL_CHARS",!0,!0)["$[]"]((t=_["~"])===l?l:t["$[]"](0))},$.$$s=r,$.$$arity=0,$)):t.$gsub(e.const_get(K,"SPECIAL_CHARS_PATTERN",!0,!0),e.const_get(K,"SPECIAL_CHARS",!0,!0))},v.$$arity=1),e.alias(H,"sub_specialcharacters","sub_specialchars"),e.const_get(K,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&(e.defn(H,"$sub_quotes",w=function(t){var n,$=this;return null==$.document&&($.document=l),u(e.const_get(K,"QUOTE_SUBS",!0,!0)["$[]"]($.document.$compat_mode()),"each",[],(n=function(e,$,r){var o,i=n.$$s||this;return null==e&&(e=l),null==$&&($=l),null==r&&(r=l),t=u(t,"gsub",[r],(o=function(){var t=o.$$s||this;return null==_["~"]&&(_["~"]=l),t.$convert_quoted_text(_["~"],e,$)},o.$$s=i,o.$$arity=0,o))},n.$$s=$,n.$$arity=3,n)),t},w.$$arity=1),e.defn(H,"$sub_replacements",k=function(t){var n,$=this;return u(e.const_get(K,"REPLACEMENTS",!0,!0),"each",[],(n=function(e,$,r){var o,i=n.$$s||this;return null==e&&(e=l),null==$&&($=l),null==r&&(r=l),t=u(t,"gsub",[e],(o=function(){var e=o.$$s||this;return null==_["~"]&&(_["~"]=l),e.$do_replacement(_["~"],$,r)},o.$$s=i,o.$$arity=0,o))},n.$$s=$,n.$$arity=3,n)),t},k.$$arity=1)),e.defn(H,"$do_replacement",x=function(e,t,n){var $,r=l,o=l;return($=(r=e["$[]"](0))["$include?"]("\\"))===l||null==$||$.$$is_boolean&&1!=$?function(){return o=n,"none"["$==="](o)?t:"leading"["$==="](o)?""+e["$[]"](1)+t:"bounding"["$==="](o)?""+e["$[]"](1)+t+e["$[]"](2):l}():r.$tr("\\","")},x.$$arity=3),e.defn(H,"$sub_attributes",O=function($,r){var o,i,a=this,s=l,d=l,f=l,p=l;return null==a.document&&(a.document=l),null==r&&(r=c([],{})),(o=$["$nil_or_empty?"]())===l||null==o||o.$$is_boolean&&1!=o?((o=s=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="]($))===l||null==o||o.$$is_boolean&&1!=o||($=[$]),d=a.document.$attributes(),f=l,p=[],function(){var n=e.new_brk();try{u($,"each",[],(i=function(n){var $,o,a,s=i.$$s||this,c=l,h=l;return null==n&&(n=l),c=!1,h=!1,($=n["$include?"]("{"))===l||null==$||$.$$is_boolean&&1!=$||(n=function(){var $=e.new_brk();try{return u(n,"gsub",[e.const_get(K,"AttributeReferenceRx",!0,!0)],(o=function(){var n,i,a,s=o.$$s||this,u=l,p=l,g=l,b=l,m=l,y=l,v=l,w=l,k=l,x=l;return null==s.document&&(s.document=l),null==_["~"]&&(_["~"]=l),u=_["~"],(n=(i=u["$[]"](1)["$=="]("\\"))!==!1&&i!==l&&null!=i?i:u["$[]"](4)["$=="]("\\"))===l||null==n||n.$$is_boolean&&1!=n?(n=u["$[]"](3)["$nil_or_empty?"]()["$!"]())===l||null==n||n.$$is_boolean&&1!=n?(n=d["$key?"](x=u["$[]"](2).$downcase()))===l||null==n||n.$$is_boolean&&1!=n?(n=e.const_get(K,"INTRINSIC_ATTRIBUTES",!0,!0)["$key?"](x))===l||null==n||n.$$is_boolean&&1!=n?function(){return m=(n=f)!==!1&&n!==l&&null!=n?n:f=(i=r["$[]"]("attribute_missing"))!==!1&&i!==l&&null!=i?i:d.$fetch("attribute-missing",e.const_get(K,"Compliance",!0,!0).$attribute_missing()),"skip"["$==="](m)?u["$[]"](0):"drop-line"["$==="](m)?(s.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+x),c=!0,e.brk("",$),void 0):"warn"["$==="](m)?(s.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+x),u["$[]"](0)):(h=!0,"")}():e.const_get(K,"INTRINSIC_ATTRIBUTES",!0,!0)["$[]"](x):d["$[]"](x):(p=t((g=u["$[]"](3)).$length(),1),b=u["$[]"](2)["$[]"](e.Range.$new(p,-1,!1)),function(){return m=g,"set"["$==="](m)?(y=b.$split(":"),i=e.const_get(K,"Parser",!0,!0).$store_attribute(y["$[]"](0),(a=y["$[]"](1))!==!1&&a!==l&&null!=a?a:"",s.document),n=e.to_ary(i),v=null==n[0]?l:n[0],w=null==n[1]?l:n[1],w!==!1&&w!==l&&null!=w||d.$fetch("attribute-undefined",e.const_get(K,"Compliance",!0,!0).$attribute_undefined())["$=="]("drop-line")&&(c=!0,e.brk("",$)),h=!0,""):"counter"["$==="](m)||"counter2"["$==="](m)?(y=b.$split(":"),k=s.document.$counter(y["$[]"](0),y["$[]"](1)),g["$=="]("counter2")?(h=!0,""):k):(s.$warn("asciidoctor: WARNING: illegal attribute directive: "+u["$[]"](3)),u["$[]"](0))}()):"{"+u["$[]"](2)+"}"},o.$$s=s,o.$$brk=$,o.$$arity=0,o))}catch(e){if(e===$)return e.$v;throw e}}()),($=(a=c)!==!1&&a!==l&&null!=a?a:h!==!1&&h!==l&&null!=h?n["$empty?"]():h)===l||null==$||$.$$is_boolean&&1!=$?p["$<<"](n):l},i.$$s=a,i.$$brk=n,i.$$arity=1,i))}catch(e){if(e===n)return e.$v;throw e}}(),s!==!1&&s!==l&&null!=s?n(p,e.const_get(K,"EOL",!0,!0)):p):$},O.$$arity=-2),e.defn(H,"$sub_macros",E=function(t){var n,r,o,i,s,f,p,h,g,b,m,y,v,w=this,k=l,x=l,O=l,E=l,A=l,S=l,R=l;return null==w.document&&(w.document=l),(n=t["$nil_or_empty?"]())===l||null==n||n.$$is_boolean&&1!=n?(k=c([],{}),x=["square_bracket",t["$include?"]("[")],u(k,"[]=",e.to_a(x)),x[$(x.length,1)],x=["round_bracket",t["$include?"]("(")],u(k,"[]=",e.to_a(x)),x[$(x.length,1)],x=["colon",O=t["$include?"](":")],u(k,"[]=",e.to_a(x)),x[$(x.length,1)],x=["macroish",(n=k["$[]"]("square_bracket"),n!==!1&&n!==l&&null!=n?O:n)],u(k,"[]=",e.to_a(x)),x[$(x.length,1)],x=["macroish_short_form",(r=k["$[]"]("square_bracket"),n=r!==!1&&r!==l&&null!=r?O:r,n!==!1&&n!==l&&null!=n?t["$include?"](":["):n)],u(k,"[]=",e.to_a(x)),x[$(x.length,1)],E=w.document.$attributes()["$has_key?"]("linkattrs"),A=w.document.$attributes()["$has_key?"]("experimental"),S=""+t,A!==!1&&A!==l&&null!=A&&(r=k["$[]"]("macroish_short_form"),(n=r!==!1&&r!==l&&null!=r?(o=S["$include?"]("kbd:"))!==!1&&o!==l&&null!=o?o:S["$include?"]("btn:"):r)===l||null==n||n.$$is_boolean&&1!=n||(S=u(S,"gsub",[e.const_get(K,"KbdBtnInlineMacroRx",!0,!0)],(i=function(){var t,n,$=i.$$s||this,r=l,o=l,a=l,s=l;return null==_["~"]&&(_["~"]=l),r=_["~"],(t=(o=r["$[]"](0))["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?(t=o["$start_with?"]("kbd"))===l||null==t||t.$$is_boolean&&1!=t?(t=o["$start_with?"]("btn"))===l||null==t||t.$$is_boolean&&1!=t?l:(s=$.$unescape_bracketed_text(r["$[]"](1)),e.const_get(K,"Inline",!0,!0).$new($,"button",s).$convert()):(a=$.$unescape_bracketed_text(r["$[]"](1)),a=a["$=="]("+")?["+"]:u(a.$split(e.const_get(K,"KbdDelimiterRx",!0,!0)),"inject",[[]],(n=function(e,t){var $;n.$$s;return null==e&&(e=l),null==t&&(t=l),($=t["$end_with?"]("++"))===l||null==$||$.$$is_boolean&&1!=$?e["$<<"](t.$strip()):(e["$<<"](t["$[]"](d(0,-3,!1)).$strip()),e["$<<"]("+")),e},n.$$s=$,n.$$arity=2,n)),e.const_get(K,"Inline",!0,!0).$new($,"kbd",l,c(["attributes"],{attributes:c(["keys"],{keys:a})})).$convert()):o["$[]"](d(1,-1,!1))},i.$$s=w,i.$$arity=0,i))),r=k["$[]"]("macroish"),(n=r!==!1&&r!==l&&null!=r?S["$include?"]("menu:"):r)===l||null==n||n.$$is_boolean&&1!=n||(S=u(S,"gsub",[e.const_get(K,"MenuInlineMacroRx",!0,!0)],(s=function(){var t,n,$,r=s.$$s||this,o=l,i=l,a=l,f=l,p=l,h=l,g=l;return null==_["~"]&&(_["~"]=l),o=_["~"],(t=(i=o["$[]"](0))["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?(a=o["$[]"](1),f=o["$[]"](2),(t=f["$!"]())===l||null==t||t.$$is_boolean&&1!=t?(t=g=function(){return(n=f["$include?"]("&gt;"))===l||null==n||n.$$is_boolean&&1!=n?(n=f["$include?"](","))===l||null==n||n.$$is_boolean&&1!=n?l:",":"&gt;"}())===l||null==t||t.$$is_boolean&&1!=t?(p=[],h=f.$rstrip()):(p=u(f.$split(g),"map",[],($=function(e){$.$$s;return null==e&&(e=l),e.$strip()},$.$$s=r,$.$$arity=1,$)),h=p.$pop()):(p=[],h=l),e.const_get(K,"Inline",!0,!0).$new(r,"menu",l,c(["attributes"],{attributes:c(["menu","submenus","menuitem"],{menu:a,submenus:p,menuitem:h})})).$convert()):i["$[]"](d(1,-1,!1))},s.$$s=w,s.$$arity=0,s))),r=S["$include?"]('"'),(n=r!==!1&&r!==l&&null!=r?S["$include?"]("&gt;"):r)===l||null==n||n.$$is_boolean&&1!=n||(S=u(S,"gsub",[e.const_get(K,"MenuInlineRx",!0,!0)],(f=function(){var t,n,$,r=f.$$s||this,o=l,i=l,s=l,p=l,h=l,g=l;return null==_["~"]&&(_["~"]=l),o=_["~"],(t=(i=o["$[]"](0))["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?(s=o["$[]"](1),n=u(s.$split("&gt;"),"map",[],($=function(e){$.$$s;return null==e&&(e=l),e.$strip()},$.$$s=r,$.$$arity=1,$)),t=e.to_ary(n),p=null==t[0]?l:t[0],h=a.call(t,1),g=h.$pop(),e.const_get(K,"Inline",!0,!0).$new(r,"menu",l,c(["attributes"],{attributes:c(["menu","submenus","menuitem"],{menu:p,submenus:h,menuitem:g})})).$convert()):i["$[]"](d(1,-1,!1))},f.$$s=w,f.$$arity=0,f)))),r=R=w.document.$extensions(),(n=r!==!1&&r!==l&&null!=r?R["$inline_macros?"]():r)===l||null==n||n.$$is_boolean&&1!=n||u(R.$inline_macros(),"each",[],(p=function(e){var t,n=p.$$s||this;return null==e&&(e=l),S=u(S,"gsub",[e.$instance().$regexp()],(t=function(){var n,$=t.$$s||this,r=l,o=l,i=l;return null==_["~"]&&(_["~"]=l),r=_["~"],(n=r["$[]"](0)["$start_with?"]("\\"))===l||null==n||n.$$is_boolean&&1!=n?(o=r["$[]"](1),i=function(){return e.$config()["$[]"]("format")["$=="]("short")?c([],{}):e.$config()["$[]"]("content_model")["$=="]("attributes")?$.$parse_attributes(r["$[]"](2),(n=e.$config()["$[]"]("pos_attrs"))!==!1&&n!==l&&null!=n?n:[],c(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):c(["text"],{
text:$.$unescape_bracketed_text(r["$[]"](2))})}(),e.$process_method()["$[]"]($,o,i)):r["$[]"](0)["$[]"](d(1,-1,!1))},t.$$s=n,t.$$arity=0,t))},p.$$s=w,p.$$arity=1,p)),r=k["$[]"]("macroish"),(n=r!==!1&&r!==l&&null!=r?(o=S["$include?"]("image:"))!==!1&&o!==l&&null!=o?o:S["$include?"]("icon:"):r)===l||null==n||n.$$is_boolean&&1!=n||(S=u(S,"gsub",[e.const_get(K,"ImageInlineMacroRx",!0,!0)],(h=function(){var t,n,$,r=h.$$s||this,o=l,i=l,a=l,s=l,u=l,f=l;return null==r.document&&(r.document=l),null==_["~"]&&(_["~"]=l),o=_["~"],(t=o["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?(i=r.$unescape_bracketed_text(o["$[]"](2)),(t=o["$[]"](0)["$start_with?"]("icon:"))===l||null==t||t.$$is_boolean&&1!=t?(a="image",s=["alt","width","height"]):(a="icon",s=["size"]),u=r.$sub_attributes(o["$[]"](1)),a["$=="]("icon")||r.document.$register("images",u),f=r.$parse_attributes(i,s),t="alt",n=f,($=n["$[]"](t))!==!1&&$!==l&&null!=$||n["$[]="](t,e.const_get(K,"Helpers",!0,!0).$basename(u,!0).$tr("_-"," ")),e.const_get(K,"Inline",!0,!0).$new(r,"image",l,c(["type","target","attributes"],{type:a,target:u,attributes:f})).$convert()):o["$[]"](0)["$[]"](d(1,-1,!1))},h.$$s=w,h.$$arity=0,h))),(n=(r=k["$[]"]("macroish_short_form"))!==!1&&r!==l&&null!=r?r:k["$[]"]("round_bracket"))===l||null==n||n.$$is_boolean&&1!=n||(S=u(S,"gsub",[e.const_get(K,"IndextermInlineMacroRx",!0,!0)],(g=function(){var t,n,r=g.$$s||this,o=l,i=l,a=l,s=l,f=l,p=l;return null==r.document&&(r.document=l),null==_["~"]&&(_["~"]=l),o=_["~"],(t=o["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?((t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===l||null==t||t.$$is_boolean&&1!=t||o["$[]"](1)["$=="]("")&&(x=[1,l],u(o,"[]=",e.to_a(x)),x[$(x.length,1)]),i=0,a=l,((t=s=o["$[]"](1))===l||null==t||t.$$is_boolean&&1!=t)&&(a=o["$[]"](3),n=a["$start_with?"]("("),(t=n!==!1&&n!==l&&null!=n?a["$end_with?"](")"):n)===l||null==t||t.$$is_boolean&&1!=t?i=2:(a=a["$[]"](d(1,-1,!0)),i=3)),(t=(n=s["$=="]("indexterm"))!==!1&&n!==l&&null!=n?n:i["$=="](3))===l||null==t||t.$$is_boolean&&1!=t?(p=(t=s["$!"]())===l||null==t||t.$$is_boolean&&1!=t?r.$normalize_string(o["$[]"](2),!0):r.$normalize_string(a),r.document.$register("indexterms",[p]),e.const_get(K,"Inline",!0,!0).$new(r,"indexterm",p,c(["type"],{type:"visible"})).$convert()):(f=(t=s["$!"]())===l||null==t||t.$$is_boolean&&1!=t?r.$split_simple_csv(r.$normalize_string(o["$[]"](2),!0)):r.$split_simple_csv(r.$normalize_string(a)),r.document.$register("indexterms",[].concat(e.to_a(f))),e.const_get(K,"Inline",!0,!0).$new(r,"indexterm",l,c(["attributes"],{attributes:c(["terms"],{terms:f})})).$convert())):o["$[]"](0)["$[]"](d(1,-1,!1))},g.$$s=w,g.$$arity=0,g))),(n=(r=O!==!1&&O!==l&&null!=O)?S["$include?"]("://"):O)===l||null==n||n.$$is_boolean&&1!=n||(S=u(S,"gsub",[e.const_get(K,"LinkInlineRx",!0,!0)],(b=function(){var t,n,r,o,i=b.$$s||this,a=l,s=l,f=l,p=l,h=l,g=l,m=l,y=l;return null==i.document&&(i.document=l),null==_["~"]&&(_["~"]=l),a=_["~"],(t=a["$[]"](2)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?((t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===l||null==t||t.$$is_boolean&&1!=t||a["$[]"](3)["$=="]("")&&(x=[3,l],u(a,"[]=",e.to_a(x)),x[$(x.length,1)]),(t=(n=a["$[]"](1)["$=="]("link:"))?a["$[]"](3)["$!"]():a["$[]"](1)["$=="]("link:"))===l||null==t||t.$$is_boolean&&1!=t?(s=function(){return(t=a["$[]"](1)["$!="]("link:"))===l||null==t||t.$$is_boolean&&1!=t?"":a["$[]"](1)}(),f=a["$[]"](2),p="",((t=(n=a["$[]"](3))!==!1&&n!==l&&null!=n?n:f["$!~"](e.const_get(K,"UriTerminator",!0,!0)))===l||null==t||t.$$is_boolean&&1!=t)&&(h=_["~"]["$[]"](0),")"["$==="](h)?(f=f["$[]"](d(0,-2,!1)),p=")"):";"["$==="](h)?(n=s["$start_with?"]("&lt;"),(t=n!==!1&&n!==l&&null!=n?f["$end_with?"]("&gt;"):n)===l||null==t||t.$$is_boolean&&1!=t?(t=f["$end_with?"](");"))===l||null==t||t.$$is_boolean&&1!=t?(f=f["$[]"](d(0,-2,!1)),p=";"):(f=f["$[]"](d(0,-3,!1)),p=");"):(s=s["$[]"](d(4,-1,!1)),f=f["$[]"](d(0,-5,!1)))):":"["$==="](h)&&((t=f["$end_with?"]("):"))===l||null==t||t.$$is_boolean&&1!=t?(f=f["$[]"](d(0,-2,!1)),p=":"):(f=f["$[]"](d(0,-3,!1)),p="):"))),i.document.$register("links",f),g=c(["type","target"],{type:"link",target:f}),m=l,(t=a["$[]"](3)["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?((t=(n=E!==!1&&E!==l&&null!=E)?(r=a["$[]"](3)["$start_with?"]('"'))!==!1&&r!==l&&null!=r?r:(o=a["$[]"](3)["$include?"](","),o!==!1&&o!==l&&null!=o?a["$[]"](3)["$include?"]("="):o):E)===l||null==t||t.$$is_boolean&&1!=t?y=i.$sub_attributes(a["$[]"](3).$gsub("\\]","]")):(m=i.$parse_attributes(i.$sub_attributes(a["$[]"](3).$gsub("\\]","]")),[]),(t=m["$has_key?"]("id"))===l||null==t||t.$$is_boolean&&1!=t||(x=["id",m.$delete("id")],u(g,"[]=",e.to_a(x)),x[$(x.length,1)]),y=(t=m["$[]"](1))!==!1&&t!==l&&null!=t?t:""),(t=y["$end_with?"]("^"))===l||null==t||t.$$is_boolean&&1!=t||(y=y.$chop(),m!==!1&&m!==l&&null!=m?(t="window",n=m,(r=n["$[]"](t))!==!1&&r!==l&&null!=r||n["$[]="](t,"_blank")):m=c(["window"],{window:"_blank"}))):y="",(t=y["$empty?"]())===l||null==t||t.$$is_boolean&&1!=t||(y=(t=i.document["$attr?"]("hide-uri-scheme"))===l||null==t||t.$$is_boolean&&1!=t?f:f.$sub(e.const_get(K,"UriSniffRx",!0,!0),""),m!==!1&&m!==l&&null!=m?(x=["role",("bare "+m["$[]"]("role")).$chomp(" ")],u(m,"[]=",e.to_a(x)),x[$(x.length,1)]):m=c(["role"],{role:"bare"})),m!==!1&&m!==l&&null!=m&&(x=["attributes",m],u(g,"[]=",e.to_a(x)),x[$(x.length,1)]),""+s+e.const_get(K,"Inline",!0,!0).$new(i,"anchor",y,g).$convert()+p):a["$[]"](0)):""+a["$[]"](1)+a["$[]"](2)["$[]"](d(1,-1,!1))+a["$[]"](3)},b.$$s=w,b.$$arity=0,b))),o=k["$[]"]("macroish"),(n=(r=o!==!1&&o!==l&&null!=o?S["$include?"]("link:"):o)!==!1&&r!==l&&null!=r?r:S["$include?"]("mailto:"))===l||null==n||n.$$is_boolean&&1!=n||(S=u(S,"gsub",[e.const_get(K,"LinkInlineMacroRx",!0,!0)],(m=function(){var t,n,r,o=m.$$s||this,i=l,a=l,s=l,f=l,p=l,h=l,g=l;return null==o.document&&(o.document=l),null==_["~"]&&(_["~"]=l),i=_["~"],(t=i["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?(a=i["$[]"](1),s=i["$[]"](0)["$start_with?"]("mailto:"),f=function(){return s!==!1&&s!==l&&null!=s?"mailto:"+a:a}(),p=c(["type","target"],{type:"link",target:f}),h=l,g=function(){return(t=(n=E!==!1&&E!==l&&null!=E)?(r=i["$[]"](2)["$start_with?"]('"'))!==!1&&r!==l&&null!=r?r:i["$[]"](2)["$include?"](","):E)===l||null==t||t.$$is_boolean&&1!=t?o.$sub_attributes(i["$[]"](2).$gsub("\\]","]")):(h=o.$parse_attributes(o.$sub_attributes(i["$[]"](2).$gsub("\\]","]")),[]),(t=h["$key?"]("id"))===l||null==t||t.$$is_boolean&&1!=t||(x=["id",h.$delete("id")],u(p,"[]=",e.to_a(x)),x[$(x.length,1)]),s!==!1&&s!==l&&null!=s&&((t=h["$key?"](2))===l||null==t||t.$$is_boolean&&1!=t||(x=["target",f+"?subject="+e.const_get(K,"Helpers",!0,!0).$encode_uri(h["$[]"](2))],u(p,"[]=",e.to_a(x)),f=x[$(x.length,1)],(t=h["$key?"](3))===l||null==t||t.$$is_boolean&&1!=t||(x=["target",f+"&amp;body="+e.const_get(K,"Helpers",!0,!0).$encode_uri(h["$[]"](3))],u(p,"[]=",e.to_a(x)),f=x[$(x.length,1)]))),h["$[]"](1))}(),o.document.$register("links",f),(t=g["$end_with?"]("^"))===l||null==t||t.$$is_boolean&&1!=t||(g=g.$chop(),h!==!1&&h!==l&&null!=h?(t="window",n=h,(r=n["$[]"](t))!==!1&&r!==l&&null!=r||n["$[]="](t,"_blank")):h=c(["window"],{window:"_blank"})),(t=g["$empty?"]())===l||null==t||t.$$is_boolean&&1!=t||(s!==!1&&s!==l&&null!=s?g=a:(g=(t=o.document["$attr?"]("hide-uri-scheme"))===l||null==t||t.$$is_boolean&&1!=t?a:a.$sub(e.const_get(K,"UriSniffRx",!0,!0),""),h!==!1&&h!==l&&null!=h?(x=["role",("bare "+h["$[]"]("role")).$chomp(" ")],u(h,"[]=",e.to_a(x)),x[$(x.length,1)]):h=c(["role"],{role:"bare"}))),h!==!1&&h!==l&&null!=h&&(x=["attributes",h],u(p,"[]=",e.to_a(x)),x[$(x.length,1)]),e.const_get(K,"Inline",!0,!0).$new(o,"anchor",g,p).$convert()):i["$[]"](0)["$[]"](d(1,-1,!1))},m.$$s=w,m.$$arity=0,m))),(n=S["$include?"]("@"))===l||null==n||n.$$is_boolean&&1!=n||(S=u(S,"gsub",[e.const_get(K,"EmailInlineMacroRx",!0,!0)],(y=function(){var t,n=y.$$s||this,$=l,r=l,o=l,i=l,a=l;return null==n.document&&(n.document=l),null==_["~"]&&(_["~"]=l),$=_["~"],r=$["$[]"](0),(t=o=$["$[]"](1))===l||null==t||t.$$is_boolean&&1!=t?(a="mailto:"+r,n.document.$register("links",a),e.const_get(K,"Inline",!0,!0).$new(n,"anchor",r,c(["type","target"],{type:"link",target:a})).$convert()):(i=o,"\\"["$==="](i)?r["$[]"](d(1,-1,!1)):r)},y.$$s=w,y.$$arity=0,y))),r=k["$[]"]("macroish_short_form"),(n=r!==!1&&r!==l&&null!=r?S["$include?"]("footnote"):r)===l||null==n||n.$$is_boolean&&1!=n||(S=u(S,"gsub",[e.const_get(K,"FootnoteInlineMacroRx",!0,!0)],(v=function(){var t,n,$,r=v.$$s||this,o=l,i=l,a=l,s=l,f=l,p=l,h=l;return null==r.document&&(r.document=l),null==_["~"]&&(_["~"]=l),o=_["~"],(t=o["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?(o["$[]"](1)["$=="]("footnote")?(i=l,a=r.$restore_passthroughs(r.$sub_inline_xrefs(r.$sub_inline_anchors(r.$normalize_string(o["$[]"](2),!0))),!1),s=r.document.$counter("footnote-number"),r.document.$register("footnotes",e.const_get([e.const_get(K,"Document",!0,!0).$$scope],"Footnote",!0,!0).$new(s,i,a)),f=l,p=l):(n=o["$[]"](2).$split(",",2),t=e.to_ary(n),i=null==t[0]?l:t[0],a=null==t[1]?l:t[1],i=i.$strip(),(t=a["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?(a=r.$restore_passthroughs(r.$sub_inline_xrefs(r.$sub_inline_anchors(r.$normalize_string(a,!0))),!1),s=r.document.$counter("footnote-number"),r.document.$register("footnotes",e.const_get([e.const_get(K,"Document",!0,!0).$$scope],"Footnote",!0,!0).$new(s,i,a)),f="ref",p=l):((t=h=u(r.document.$references()["$[]"]("footnotes"),"find",[],($=function(e){$.$$s;return null==e&&(e=l),e.$id()["$=="](i)},$.$$s=r,$.$$arity=1,$)))===l||null==t||t.$$is_boolean&&1!=t?(s=l,a=i):(s=h.$index(),a=h.$text()),p=i,i=l,f="xref")),e.const_get(K,"Inline",!0,!0).$new(r,"footnote",a,c(["attributes","id","target","type"],{attributes:c(["index"],{index:s}),id:i,target:p,type:f})).$convert()):o["$[]"](0)["$[]"](d(1,-1,!1))},v.$$s=w,v.$$arity=0,v))),w.$sub_inline_xrefs(w.$sub_inline_anchors(S,k),k)):t},E.$$arity=1),e.defn(H,"$sub_inline_anchors",A=function(t,n){var r,o,i,a,s,f,p=this;return null==n&&(n=l),o=(i=n["$!"]())!==!1&&i!==l&&null!=i?i:n["$[]"]("square_bracket"),(r=o!==!1&&o!==l&&null!=o?t["$include?"]("[[["):o)===l||null==r||r.$$is_boolean&&1!=r||(t=u(t,"gsub",[e.const_get(K,"InlineBiblioAnchorRx",!0,!0)],(a=function(){var t,n=a.$$s||this,$=l,r=l,o=l;return null==_["~"]&&(_["~"]=l),$=_["~"],(t=$["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?(r=o=$["$[]"](1),e.const_get(K,"Inline",!0,!0).$new(n,"anchor",o,c(["type","target"],{type:"bibref",target:r})).$convert()):$["$[]"](0)["$[]"](d(1,-1,!1))},a.$$s=p,a.$$arity=0,a))),i=(s=n["$!"]())!==!1&&s!==l&&null!=s?s:n["$[]"]("square_bracket"),(r=(o=i!==!1&&i!==l&&null!=i?t["$include?"]("[["):i)!==!1&&o!==l&&null!=o?o:(i=(s=n["$!"]())!==!1&&s!==l&&null!=s?s:n["$[]"]("macroish"),i!==!1&&i!==l&&null!=i?t["$include?"]("anchor:"):i))===l||null==r||r.$$is_boolean&&1!=r||(t=u(t,"gsub",[e.const_get(K,"InlineAnchorRx",!0,!0)],(f=function(){var t,n,r=f.$$s||this,o=l,i=l,a=l,s=l;return null==_["~"]&&(_["~"]=l),o=_["~"],(t=o["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?((t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===l||null==t||t.$$is_boolean&&1!=t||(o["$[]"](1)["$=="]("")&&(i=[1,l],u(o,"[]=",e.to_a(i)),i[$(i.length,1)]),o["$[]"](2)["$=="]("")&&(i=[2,l],u(o,"[]=",e.to_a(i)),i[$(i.length,1)]),o["$[]"](4)["$=="]("")&&(i=[4,l],u(o,"[]=",e.to_a(i)),i[$(i.length,1)])),a=(t=o["$[]"](1))!==!1&&t!==l&&null!=t?t:o["$[]"](3),s=(t=(n=o["$[]"](2))!==!1&&n!==l&&null!=n?n:o["$[]"](4))!==!1&&t!==l&&null!=t?t:"["+a+"]",e.const_get(K,"Inline",!0,!0).$new(r,"anchor",s,c(["type","target"],{type:"ref",target:a})).$convert()):o["$[]"](0)["$[]"](d(1,-1,!1))},f.$$s=p,f.$$arity=0,f))),t},A.$$arity=-2),e.defn(H,"$sub_inline_xrefs",S=function(t,n){var r,o,i,a,s=this;return null==n&&(n=l),(r=(o=(i=n["$!"]())!==!1&&i!==l&&null!=i?i:n["$[]"]("macroish"))!==!1&&o!==l&&null!=o?o:t["$include?"]("&lt;&lt;"))===l||null==r||r.$$is_boolean&&1!=r||(t=u(t,"gsub",[e.const_get(K,"XrefInlineMacroRx",!0,!0)],(a=function(){var t,n,r,o,i,s=a.$$s||this,f=l,p=l,h=l,g=l,b=l,m=l,y=l,v=l,w=l;return null==s.document&&(s.document=l),null==_["~"]&&(_["~"]=l),f=_["~"],(t=f["$[]"](0)["$start_with?"]("\\"))===l||null==t||t.$$is_boolean&&1!=t?((t=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===l||null==t||t.$$is_boolean&&1!=t||f["$[]"](1)["$=="]("")&&(p=[1,l],u(f,"[]=",e.to_a(p)),p[$(p.length,1)]),(t=f["$[]"](1))===l||null==t||t.$$is_boolean&&1!=t?(h=f["$[]"](2),((t=f["$[]"](3)["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t)&&(g=f["$[]"](3))):(n=u(f["$[]"](1).$split(",",2),"map",[],(r=function(e){r.$$s;return null==e&&(e=l),e.$strip()},r.$$s=s,r.$$arity=1,r)),t=e.to_ary(n),h=null==t[0]?l:t[0],g=null==t[1]?l:t[1],h=h.$sub(e.const_get(K,"DoubleQuotedRx",!0,!0),"\\2"),g=function(){return(t=g["$nil_or_empty?"]())===l||null==t||t.$$is_boolean&&1!=t?g.$sub(e.const_get(K,"DoubleQuotedMultiRx",!0,!0),"\\2"):l}()),(t=h["$include?"]("#"))===l||null==t||t.$$is_boolean&&1!=t?(b=l,m=h):(n=h.$split("#"),t=e.to_ary(n),b=null==t[0]?l:t[0],m=null==t[1]?l:t[1]),b!==!1&&b!==l&&null!=b?(b=e.const_get(K,"Helpers",!0,!0).$rootname(b),(t=(n=s.document.$attributes()["$[]"]("docname")["$=="](b))!==!1&&n!==l&&null!=n?n:s.document.$references()["$[]"]("includes")["$include?"](b))===l||null==t||t.$$is_boolean&&1!=t?(y=function(){return m!==!1&&m!==l&&null!=m?b+"#"+m:b}(),b=""+s.document.$attributes()["$[]"]("relfileprefix")+b+s.document.$attributes().$fetch("outfilesuffix",".html"),v=function(){return m!==!1&&m!==l&&null!=m?b+"#"+m:b}()):(y=m,b=l,v="#"+m)):(o=s.document.$references()["$[]"]("ids")["$has_key?"](m)["$!"](),n=o!==!1&&o!==l&&null!=o?(i=m["$include?"](" "))!==!1&&i!==l&&null!=i?i:m.$downcase()["$!="](m):o,(t=n!==!1&&n!==l&&null!=n?w=function(){return(o=e.const_get(K,"RUBY_MIN_VERSION_1_9",!0,!0))===l||null==o||o.$$is_boolean&&1!=o?s.document.$references()["$[]"]("ids").$index(m):s.document.$references()["$[]"]("ids").$key(m)}():n)===l||null==t||t.$$is_boolean&&1!=t||(m=w),y=m,v="#"+m),e.const_get(K,"Inline",!0,!0).$new(s,"anchor",g,c(["type","target","attributes"],{type:"xref",target:v,attributes:c(["path","fragment","refid"],{path:b,fragment:m,refid:y})})).$convert()):f["$[]"](0)["$[]"](d(1,-1,!1))},a.$$s=s,a.$$arity=0,a))),t},S.$$arity=-2),e.defn(H,"$sub_callouts",R=function(t){var n,$,r=this,o=l;return o=function(){return(n=r["$attr?"]("line-comment"))===l||null==n||n.$$is_boolean&&1!=n?e.const_get(K,"CalloutSourceRx",!0,!0):new RegExp("(?:"+e.const_get([e.Object.$$scope],"Regexp",!0,!0).$escape(r.$attr("line-comment"))+" )?"+e.const_get(K,"CalloutSourceRxt",!0,!0))}(),u(t,"gsub",[o],($=function(){var t=$.$$s||this,n=l;return null==t.document&&(t.document=l),null==_["~"]&&(_["~"]=l),n=_["~"],n["$[]"](1)["$=="]("\\")?n["$[]"](0).$sub("\\",""):e.const_get(K,"Inline",!0,!0).$new(t,"callout",n["$[]"](3),c(["id"],{id:t.document.$callouts().$read_next_id()})).$convert()},$.$$s=r,$.$$arity=0,$))},R.$$arity=1),e.defn(H,"$sub_post_replacements",M=function(t){var $,r,o,i,a=this,s=l,d=l;return null==a.document&&(a.document=l),null==a.attributes&&(a.attributes=l),($=(r=a.document.$attributes()["$has_key?"]("hardbreaks"))!==!1&&r!==l&&null!=r?r:a.attributes["$has_key?"]("hardbreaks-option"))===l||null==$||$.$$is_boolean&&1!=$?($=t["$include?"]("+"))===l||null==$||$.$$is_boolean&&1!=$?t:u(t,"gsub",[e.const_get(K,"LineBreakRx",!0,!0)],(i=function(){var t=i.$$s||this;return null==_["~"]&&(_["~"]=l),e.const_get(K,"Inline",!0,!0).$new(t,"break",_["~"]["$[]"](1),c(["type"],{type:"line"})).$convert()},i.$$s=a,i.$$arity=0,i)):(s=t.$split(e.const_get(K,"EOL",!0,!0)),s.$size()["$=="](1)?t:(d=s.$pop(),n(u(s,"map",[],(o=function(t){var n=o.$$s||this;return null==t&&(t=l),e.const_get(K,"Inline",!0,!0).$new(n,"break",t.$rstrip().$chomp(e.const_get(K,"LINE_BREAK",!0,!0)),c(["type"],{type:"line"})).$convert()},o.$$s=a,o.$$arity=1,o)).$push(d),e.const_get(K,"EOL",!0,!0))))},M.$$arity=1),e.defn(H,"$convert_quoted_text",T=function(t,n,$){var r,o=this,i=l,a=l,s=l,u=l;if(i=l,(r=t["$[]"](0)["$start_with?"]("\\"))!==l&&null!=r&&(!r.$$is_boolean||1==r)){if((r=$["$=="]("constrained")?(a=t["$[]"](2))["$nil_or_empty?"]()["$!"]():$["$=="]("constrained"))===l||null==r||r.$$is_boolean&&1!=r)return t["$[]"](0)["$[]"](d(1,-1,!1));i="["+a+"]"}return $["$=="]("constrained")?i!==!1&&i!==l&&null!=i?""+i+e.const_get(K,"Inline",!0,!0).$new(o,"quoted",t["$[]"](3),c(["type"],{type:n})).$convert():((r=s=o.$parse_quoted_text_attributes(t["$[]"](2)))===l||null==r||r.$$is_boolean&&1!=r?u=l:(u=s.$delete("id"),n["$=="]("mark")&&(n="unquoted")),""+t["$[]"](1)+e.const_get(K,"Inline",!0,!0).$new(o,"quoted",t["$[]"](3),c(["type","id","attributes"],{type:n,id:u,attributes:s})).$convert()):((r=s=o.$parse_quoted_text_attributes(t["$[]"](1)))===l||null==r||r.$$is_boolean&&1!=r?u=l:(u=s.$delete("id"),n["$=="]("mark")&&(n="unquoted")),e.const_get(K,"Inline",!0,!0).$new(o,"quoted",t["$[]"](2),c(["type","id","attributes"],{type:n,id:u,attributes:s})).$convert())},T.$$arity=3),e.defn(H,"$parse_quoted_text_attributes",I=function(t){var o,i,s,_=this,d=l,f=l,p=l,h=l,g=l,b=l;return t===!1||t===l||null==t?l:(o=t["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o?((o=t["$include?"]("{"))===l||null==o||o.$$is_boolean&&1!=o||(t=_.$sub_attributes(t)),t=t.$strip(),(o=t["$include?"](","))===l||null==o||o.$$is_boolean&&1!=o||(i=t.$split(",",2),o=e.to_ary(i),t=null==o[0]?l:o[0],null==o[1]?l:o[1]),(o=t["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o?(i=(s=t["$start_with?"]("."))!==!1&&s!==l&&null!=s?s:t["$start_with?"]("#"),(o=i!==!1&&i!==l&&null!=i?e.const_get(K,"Compliance",!0,!0).$shorthand_property_syntax():i)===l||null==o||o.$$is_boolean&&1!=o?c(["role"],{role:t}):(d=t.$split("#",2),(o=r(d.$length(),1))===l||null==o||o.$$is_boolean&&1!=o?(f=l,p=[]):(i=d["$[]"](1).$split("."),o=e.to_ary(i),f=null==o[0]?l:o[0],p=a.call(o,1)),h=function(){return(o=d["$[]"](0)["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o?d["$[]"](0).$split("."):[]}(),(o=r(h.$length(),1))===l||null==o||o.$$is_boolean&&1!=o||h.$shift(),(o=r(p.$length(),0))===l||null==o||o.$$is_boolean&&1!=o||h.$concat(p),g=c([],{}),f!==!1&&f!==l&&null!=f&&(b=["id",f],u(g,"[]=",e.to_a(b)),b[$(b.length,1)]),((o=h["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o)&&(b=["role",n(h," ")],u(g,"[]=",e.to_a(b)),b[$(b.length,1)]),g)):c([],{})):c([],{})},I.$$arity=1),e.defn(H,"$parse_attributes",C=function(t,n,$){var r,o=this,i=l,a=l;return null==o.document&&(o.document=l),null==n&&(n=["role"]),null==$&&($=c([],{})),t===!1||t===l||null==t?l:(r=t["$empty?"]())===l||null==r||r.$$is_boolean&&1!=r?((r=$["$[]"]("sub_input"))===l||null==r||r.$$is_boolean&&1!=r||(t=o.document.$sub_attributes(t)),(r=$["$[]"]("unescape_input"))===l||null==r||r.$$is_boolean&&1!=r||(t=o.$unescape_bracketed_text(t)),i=l,(r=$.$fetch("sub_result",!0))===l||null==r||r.$$is_boolean&&1!=r||(i=o),(r=a=$["$[]"]("into"))===l||null==r||r.$$is_boolean&&1!=r?e.const_get(K,"AttributeList",!0,!0).$new(t,i).$parse(n):e.const_get(K,"AttributeList",!0,!0).$new(t,i).$parse_into(a,n)):c([],{})},C.$$arity=-2),e.defn(H,"$unescape_bracketed_text",N=function(t){var n;return(n=t["$empty?"]())===l||null==n||n.$$is_boolean&&1!=n?t.$strip().$tr(e.const_get(K,"EOL",!0,!0)," ").$gsub("\\]","]"):""},N.$$arity=1),e.defn(H,"$normalize_string",j=function(t,n){var $,r=this;return null==n&&(n=!1),($=t["$empty?"]())===l||null==$||$.$$is_boolean&&1!=$?n!==!1&&n!==l&&null!=n?r.$unescape_brackets(t.$strip().$tr(e.const_get(K,"EOL",!0,!0)," ")):t.$strip().$tr(e.const_get(K,"EOL",!0,!0)," "):""},j.$$arity=-2),e.defn(H,"$unescape_brackets",L=function(e){var t;return(t=e["$empty?"]())===l||null==t||t.$$is_boolean&&1!=t?e.$gsub("\\]","]"):""},L.$$arity=1),e.defn(H,"$split_simple_csv",z=function(e){var t,n,$,r=this,o=l,i=l,a=l;return(t=e["$empty?"]())===l||null==t||t.$$is_boolean&&1!=t?(t=e["$include?"]('"'))===l||null==t||t.$$is_boolean&&1!=t?o=u(e.$split(","),"map",[],($=function(e){$.$$s;return null==e&&(e=l),e.$strip()},$.$$s=r,$.$$arity=1,$)):(o=[],i=[],a=!1,u(e,"each_char",[],(n=function(e){var t=(n.$$s,l);return null==e&&(e=l),function(){return t=e,","["$==="](t)?a!==!1&&a!==l&&null!=a?i.$push(e):(o["$<<"](i.$join().$strip()),i=[]):'"'["$==="](t)?a=a["$!"]():i.$push(e)}()},n.$$s=r,n.$$arity=1,n)),o["$<<"](i.$join().$strip())):o=[],o},z.$$arity=1),e.defn(H,"$resolve_subs",P=function(o,i,a,s){var c,_,f=this,p=l,h=l,g=l,b=l;return null==i&&(i="block"),null==a&&(a=l),null==s&&(s=l),(c=o["$nil_or_empty?"]())===l||null==c||c.$$is_boolean&&1!=c?(p=l,h=e.const_get(K,"SubModifierSniffRx",!0,!0)["$=~"](o),u(o.$tr(" ","").$split(","),"each",[],(_=function(n){var r,o,s,c=(_.$$s,l),u=l,f=l,g=l,b=l,m=l;return null==n&&(n=l),c=l,h!==!1&&h!==l&&null!=h&&((u=n.$chr())["$=="]("+")?(c="append",n=n["$[]"](d(1,-1,!1))):u["$=="]("-")?(c="remove",n=n["$[]"](d(1,-1,!1))):(r=n["$end_with?"]("+"))===l||null==r||r.$$is_boolean&&1!=r||(c="prepend",n=n.$chop())),n=n.$to_sym(),(r=(o=i["$=="]("inline"))?(s=n["$=="]("verbatim"))!==!1&&s!==l&&null!=s?s:n["$=="]("v"):i["$=="]("inline"))===l||null==r||r.$$is_boolean&&1!=r?(r=e.const_get(K,"COMPOSITE_SUBS",!0,!0)["$key?"](n))===l||null==r||r.$$is_boolean&&1!=r?(o=(s=i["$=="]("inline"))?n.$length()["$=="](1):i["$=="]("inline"),(r=o!==!1&&o!==l&&null!=o?e.const_get(K,"SUB_SYMBOLS",!0,!0)["$key?"](n):o)===l||null==r||r.$$is_boolean&&1!=r?f=[n]:(g=e.const_get(K,"SUB_SYMBOLS",!0,!0)["$[]"](n),f=(r=b=e.const_get(K,"COMPOSITE_SUBS",!0,!0)["$[]"](g))===l||null==r||r.$$is_boolean&&1!=r?[g]:b)):f=e.const_get(K,"COMPOSITE_SUBS",!0,!0)["$[]"](n):f=["specialcharacters"],c!==!1&&c!==l&&null!=c?((r=p)!==!1&&r!==l&&null!=r||(p=function(){return a!==!1&&a!==l&&null!=a?a.$dup():[]}()),function(){return m=c,"append"["$==="](m)?p=t(p,f):"prepend"["$==="](m)?p=t(f,p):"remove"["$==="](m)?p=$(p,f):l}()):((r=p)!==!1&&r!==l&&null!=r||(p=[]),p=t(p,f))},_.$$s=f,_.$$arity=1,_)),g=p["$&"](e.const_get(K,"SUB_OPTIONS",!0,!0)["$[]"](i)),((c=$(p,g)["$empty?"]())===l||null==c||c.$$is_boolean&&1!=c)&&(b=$(p,g),f.$warn("asciidoctor: WARNING: invalid substitution type"+function(){return(c=r(b.$size(),1))===l||null==c||c.$$is_boolean&&1!=c?"":"s"}()+function(){return s!==!1&&s!==l&&null!=s?" for ":l}()+s+": "+n(b,", "))),g):[]},P.$$arity=-2),e.defn(H,"$resolve_block_subs",D=function(e,t,n){return this.$resolve_subs(e,"block",t,n)},D.$$arity=3),e.defn(H,"$resolve_pass_subs",B=function(e){return this.$resolve_subs(e,"inline",l,"passthrough macro")},B.$$arity=1),e.defn(H,"$highlight_source",q=function(r,o,i){var a,s,d,f,p=this,h=l,g=l,b=l,m=l,y=l,v=l,w=l,k=l,x=l,O=l,E=l,A=l,S=l,R=l;return null==p.document&&(p.document=l),null==p.passthroughs&&(p.passthroughs=l),null==i&&(i=l),h=(a=i)!==!1&&a!==l&&null!=a?a:i=p.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](h)?((a=(s=g=e.const_get([e.Object.$$scope],"CodeRay",!0,!1)?"constant":l)!==!1&&s!==l&&null!=s?s:p.document.$attributes()["$[]"]("coderay-unavailable"))===l||null==a||a.$$is_boolean&&1!=a)&&((a=e.const_get(K,"Helpers",!0,!0).$require_library("coderay",!0,"warn")["$nil?"]())===l||null==a||a.$$is_boolean&&1!=a?g=!0:p.document.$set_attr("coderay-unavailable","")):"pygments"["$==="](h)?((a=(s=g=e.const_get([e.Object.$$scope],"Pygments",!0,!1)?"constant":l)!==!1&&s!==l&&null!=s?s:p.document.$attributes()["$[]"]("pygments-unavailable"))===l||null==a||a.$$is_boolean&&1!=a)&&((a=e.const_get(K,"Helpers",!0,!0).$require_library("pygments","pygments.rb","warn")["$nil?"]())===l||null==a||a.$$is_boolean&&1!=a?g=!0:p.document.$set_attr("pygments-unavailable","")):g=!1,g===!1||g===l||null==g?p.$sub_source(r,o):(b=0,m=!1,o!==!1&&o!==l&&null!=o?(y=c([],{}),v=-1,w=function(){return(a=p["$attr?"]("line-comment"))===l||null==a||a.$$is_boolean&&1!=a?e.const_get(K,"CalloutExtractRx",!0,!0):new RegExp("(?:"+e.const_get([e.Object.$$scope],"Regexp",!0,!0).$escape(p.$attr("line-comment"))+" )?"+e.const_get(K,"CalloutExtractRxt",!0,!0))}(),r=n(u(r.$split(e.const_get(K,"EOL",!0,!0)),"map",[],(d=function(e){var n,$=d.$$s||this;return null==e&&(e=l),b=t(b,1),u(e,"gsub",[w],(n=function(){var e,t,$,r=(n.$$s,l);return null==_["~"]&&(_["~"]=l),r=_["~"],r["$[]"](1)["$=="]("\\")?r["$[]"](0).$sub("\\",""):((e=b,t=y,($=t["$[]"](e))!==!1&&$!==l&&null!=$?$:t["$[]="](e,[]))["$<<"](r["$[]"](3)),v=b,l)},n.$$s=$,n.$$arity=0,n))},d.$$s=p,d.$$arity=1,d)),e.const_get(K,"EOL",!0,!0)),m=v["$=="](b),(a=y["$empty?"]())===l||null==a||a.$$is_boolean&&1!=a||(y=l)):y=l,k=l,x=l,h=i,"coderay"["$==="](h)?((a=k=function(){return(s=p["$attr?"]("linenums"))===l||null==s||s.$$is_boolean&&1!=s?l:((s=p.document.$attributes()["$[]"]("coderay-linenums-mode"))!==!1&&s!==l&&null!=s?s:"table").$to_sym()}())===l||null==a||a.$$is_boolean&&1!=a||(a=p["$attr?"]("highlight",l,!1))===l||null==a||a.$$is_boolean&&1!=a||(x=p.$resolve_highlight_lines(p.$attr("highlight",l,!1))),O=e.const_get([e.const_get([e.Object.$$scope],"CodeRay",!0,!0).$$scope],"Duo",!0,!0)["$[]"](p.$attr("language","text",!1).$to_sym(),"html",c(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:((a=p.document.$attributes()["$[]"]("coderay-css"))!==!1&&a!==l&&null!=a?a:"class").$to_sym(),line_numbers:k,line_number_anchors:!1,highlight_lines:x,bold_every:!1})).$highlight(r)):"pygments"["$==="](h)&&(E=(a=e.const_get([e.const_get([e.Object.$$scope],"Pygments",!0,!0).$$scope],"Lexer",!0,!0)["$[]"](p.$attr("language",l,!1)))!==!1&&a!==l&&null!=a?a:e.const_get([e.const_get([e.Object.$$scope],"Pygments",!0,!0).$$scope],"Lexer",!0,!0)["$[]"]("text"),A=c(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),((a=p.document.$attributes()["$[]"]("pygments-css"))!==!1&&a!==l&&null!=a?a:"class")["$=="]("class")||(S=["noclasses",!0],u(A,"[]=",e.to_a(S)),S[$(S.length,1)],S=["style",(a=p.document.$attributes()["$[]"]("pygments-style"))!==!1&&a!==l&&null!=a?a:e.const_get([e.const_get(K,"Stylesheets",!0,!0).$$scope],"DEFAULT_PYGMENTS_STYLE",!0,!0)],u(A,"[]=",e.to_a(S)),S[$(S.length,1)]),(a=p["$attr?"]("highlight",l,!1))===l||null==a||a.$$is_boolean&&1!=a||((a=(x=p.$resolve_highlight_lines(p.$attr("highlight",l,!1)))["$empty?"]())===l||null==a||a.$$is_boolean&&1!=a)&&(S=["hl_lines",n(x," ")],u(A,"[]=",e.to_a(S)),S[$(S.length,1)]),(a=p["$attr?"]("linenums"))===l||null==a||a.$$is_boolean&&1!=a?(S=["nowrap",!0],u(A,"[]=",e.to_a(S)),S[$(S.length,1)],O=E.$highlight(r,c(["options"],{options:A}))):(S=["linenos",(a=p.document.$attributes()["$[]"]("pygments-linenums-mode"))!==!1&&a!==l&&null!=a?a:"table"],u(A,"[]=",e.to_a(S)),S[$(S.length,1)])["$=="]("table")?(k="table",O=E.$highlight(r,c(["options"],{options:A})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):O=E.$highlight(r,c(["options"],{options:A})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")),((a=p.passthroughs["$empty?"]())===l||null==a||a.$$is_boolean&&1!=a)&&(O=O.$gsub(e.const_get(K,"PASS_MATCH_HI",!0,!0),e.const_get(K,"PASS_START",!0,!0)+"\\1"+e.const_get(K,"PASS_END",!0,!0))),(a=(s=o!==!1&&o!==l&&null!=o)?y:o)===l||null==a||a.$$is_boolean&&1!=a?O:(b=0,R=k["$!="]("table"),n(u(O.$split(e.const_get(K,"EOL",!0,!0)),"map",[],(f=function($){var r,o,i=f.$$s||this,a=l,s=l,_=l,d=l;if(null==i.document&&(i.document=l),null==$&&($=l),R!==!1&&R!==l&&null!=R);else{if((r=$["$include?"]('<td class="code">'))===l||null==r||r.$$is_boolean&&1!=r)return $;R=!0}return b=t(b,1),(r=a=y.$delete(b))===l||null==r||r.$$is_boolean&&1!=r?$:(s=l,(r=m!==!1&&m!==l&&null!=m?y["$empty?"]():m)===l||null==r||r.$$is_boolean&&1!=r||((r=_=$.$index("</pre>"))===l||null==r||r.$$is_boolean&&1!=r?$=$.$chomp(" ")+" ":(s=$["$[]"](e.Range.$new(_,-1,!1)),$=$["$[]"](e.Range.$new(0,_,!0)).$chomp(" ")+" ")),a.$size()["$=="](1)?""+$+e.const_get(K,"Inline",!0,!0).$new(i,"callout",a["$[]"](0),c(["id"],{id:i.document.$callouts().$read_next_id()})).$convert()+s:(d=n(u(a,"map",[],(o=function(t){var n=o.$$s||this;return null==n.document&&(n.document=l),null==t&&(t=l),e.const_get(K,"Inline",!0,!0).$new(n,"callout",t,c(["id"],{id:n.document.$callouts().$read_next_id()})).$convert()},o.$$s=i,o.$$arity=1,o))," "),""+$+d+s))},f.$$s=p,f.$$arity=1,f)),e.const_get(K,"EOL",!0,!0))))},q.$$arity=-3),e.defn(H,"$resolve_highlight_lines",F=function(t){var n,r=this,o=l;return o=[],u(t.$delete(" ").$split(e.const_get(K,"DataDelimiterRx",!0,!0)),"map",[],(n=function(t){var r,i,a=(n.$$s,l),s=l,c=l,u=l;return null==t&&(t=l),a=!1,(r=t["$start_with?"]("!"))===l||null==r||r.$$is_boolean&&1!=r||(t=t["$[]"](d(1,-1,!1)),a=!0),(r=t["$include?"]("-"))===l||null==r||r.$$is_boolean&&1!=r?a!==!1&&a!==l&&null!=a?o.$delete(t.$to_i()):o["$<<"](t.$to_i()):(i=t.$split("-",2),r=e.to_ary(i),s=null==r[0]?l:r[0],c=null==r[1]?l:r[1],u=e.Range.$new(s.$to_i(),c.$to_i(),!1).$to_a(),a!==!1&&a!==l&&null!=a?o=$(o,u):o.$concat(u))},n.$$s=r,n.$$arity=1,n)),o.$sort().$uniq()},F.$$arity=1),e.defn(H,"$sub_source",U=function(e,t){var n=this;return function(){return t!==!1&&t!==l&&null!=t?n.$sub_callouts(n.$sub_specialchars(e)):n.$sub_specialchars(e)}()},U.$$arity=2),e.defn(H,"$lock_in_subs",G=function(){var t,n,$,r,o,i=this,a=l,s=l,c=l;if(null==i.default_subs&&(i.default_subs=l),null==i.content_model&&(i.content_model=l),null==i.context&&(i.context=l),null==i.attributes&&(i.attributes=l),null==i.style&&(i.style=l),null==i.document&&(i.document=l),null==i.subs&&(i.subs=l),(t=i.default_subs)===l||null==t||t.$$is_boolean&&1!=t)if(s=i.content_model,"simple"["$==="](s))a=e.const_get(K,"SUBS",!0,!0)["$[]"]("normal");else if("verbatim"["$==="](s))a=(t=(n=i.context["$=="]("listing"))!==!1&&n!==l&&null!=n?n:($=i.context["$=="]("literal"))?i["$option?"]("listparagraph")["$!"]():i.context["$=="]("literal"))===l||null==t||t.$$is_boolean&&1!=t?i.context["$=="]("verse")?e.const_get(K,"SUBS",!0,!0)["$[]"]("normal"):e.const_get(K,"SUBS",!0,!0)["$[]"]("basic"):e.const_get(K,"SUBS",!0,!0)["$[]"]("verbatim");else{if(!"raw"["$==="](s))return l;a=i.context["$=="]("stem")?e.const_get(K,"SUBS",!0,!0)["$[]"]("basic"):e.const_get(K,"SUBS",!0,!0)["$[]"]("pass")}else a=i.default_subs;return(t=c=i.attributes["$[]"]("subs"))===l||null==t||t.$$is_boolean&&1!=t?i.subs=a.$dup():i.subs=i.$resolve_block_subs(c,a,i.context),r=i.context["$=="]("listing")?i.style["$=="]("source"):i.context["$=="]("listing"),$=r!==!1&&r!==l&&null!=r?i.attributes["$[]"]("language"):r,n=$!==!1&&$!==l&&null!=$?i.document["$basebackend?"]("html"):$,(t=n!==!1&&n!==l&&null!=n?e.const_get(K,"SUB_HIGHLIGHT",!0,!0)["$include?"](i.document.$attributes()["$[]"]("source-highlighter")):n)===l||null==t||t.$$is_boolean&&1!=t?l:i.subs=u(i.subs,"map",[],(o=function(e){o.$$s;return null==e&&(e=l),e["$=="]("specialcharacters")?"highlight":e},o.$$s=i,o.$$arity=1,o))},G.$$arity=0)}(h.base,g)}(o.base,i)},Opal.modules["asciidoctor/abstract_node"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=(e.top,e),o=[e],i=e.nil,l=(e.breaker,e.slice,e.module),a=e.klass,s=e.hash2,c=e.send,u=e.range;return e.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$raise","$===","$attributes","$nil?","$has_key?","$[]=","$-","$update","$converter","$include?","$split","$*","$push","$delete","$attr?","$empty?","$extname","$image_uri","$attr","$normalize_web_path","$<","$safe","$uriish?","$generate_data_uri_from_uri","$generate_data_uri","$normalize_system_path","$readable?","$warn","$respond_to?","$binread","$open","$read","$encode64","$require_library","$!","$content_type","$web_path","$new","$open_uri","$normalize_lines_from_string","$fetch","$read_asset","$!=","$is_root?","$join","$base_dir","$system_path"]),function(r,o){var _,d=_=l(r,"Asciidoctor"),f=(d.$$proto,d.$$scope),p=o.slice().concat(f);!function(r,o,l){function _(){}
var d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U=_=a(r,null,"AbstractNode",_),G=U.$$proto,H=U.$$scope,Y=l.slice().concat(H);G.document=G.attributes=G.path_resolver=i,U.$include(e.const_get(Y,"Substitutors",!0,!0)),U.$attr_reader("parent"),U.$attr_reader("document"),U.$attr_reader("context"),U.$attr_reader("node_name"),U.$attr_accessor("id"),U.$attr_reader("attributes"),e.defn(U,"$initialize",d=function(e,t,n){var $,r=this;return null==n&&(n=s([],{})),t["$=="]("document")?r.document=e:e!==!1&&e!==i&&null!=e?(r.parent=e,r.document=e.$document()):(r.parent=i,r.document=i),r.context=t,r.node_name=t.$to_s(),r.attributes=function(){return($=n["$key?"]("attributes"))===i||null==$||$.$$is_boolean&&1!=$?s([],{}):n["$[]"]("attributes").$dup()}(),r.passthroughs=s([],{})},d.$$arity=-3),e.defn(U,"$parent=",f=function(e){var t=this;return t.parent=e,t.document=e.$document(),i},f.$$arity=1),e.defn(U,"$inline?",p=function(){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},p.$$arity=0),e.defn(U,"$block?",h=function(){return this.$raise(e.const_get([e.Object.$$scope],"NotImplementedError",!0,!0))},h.$$arity=0),e.defn(U,"$attr",g=function(t,n,$){var r,o,l=this;return null==n&&(n=i),null==$&&($=!0),(r=e.const_get([e.Object.$$scope],"Symbol",!0,!0)["$==="](t))===i||null==r||r.$$is_boolean&&1!=r||(t=t.$to_s()),l["$=="](l.document)&&($=!1),$!==!1&&$!==i&&null!=$?(r=(o=l.attributes["$[]"](t))!==!1&&o!==i&&null!=o?o:l.document.$attributes()["$[]"](t))!==!1&&r!==i&&null!=r?r:n:(r=l.attributes["$[]"](t))!==!1&&r!==i&&null!=r?r:n},g.$$arity=-2),e.defn(U,"$attr?",b=function(t,n,$){var r,o=this;return null==n&&(n=i),null==$&&($=!0),(r=e.const_get([e.Object.$$scope],"Symbol",!0,!0)["$==="](t))===i||null==r||r.$$is_boolean&&1!=r||(t=t.$to_s()),o["$=="](o.document)&&($=!1),(r=n["$nil?"]())===i||null==r||r.$$is_boolean&&1!=r?$!==!1&&$!==i&&null!=$?n["$=="]((r=o.attributes["$[]"](t))!==!1&&r!==i&&null!=r?r:o.document.$attributes()["$[]"](t)):n["$=="](o.attributes["$[]"](t)):(r=o.attributes["$has_key?"](t))!==!1&&r!==i&&null!=r?r:$!==!1&&$!==i&&null!=$?o.document.$attributes()["$has_key?"](t):$},b.$$arity=-2),e.defn(U,"$set_attr",m=function(n,$,r){var o,l=this,a=i;return null==r&&(r=!0),!!((o=r["$=="](!1)?l.attributes["$key?"](n):r["$=="](!1))===i||null==o||o.$$is_boolean&&1!=o)&&(a=[n,$],c(l.attributes,"[]=",e.to_a(a)),a[t(a.length,1)],!0)},m.$$arity=-3),e.defn(U,"$set_option",y=function(n){var $,r=this,o=i;return($=r.attributes["$has_key?"]("options"))===i||null==$||$.$$is_boolean&&1!=$?(o=["options",n],c(r.attributes,"[]=",e.to_a(o)),o[t(o.length,1)]):(o=["options",r.attributes["$[]"]("options")+","+n],c(r.attributes,"[]=",e.to_a(o)),o[t(o.length,1)]),o=[n+"-option",""],c(r.attributes,"[]=",e.to_a(o)),o[t(o.length,1)]},y.$$arity=1),e.defn(U,"$option?",v=function(e){return this.attributes["$has_key?"](e+"-option")},v.$$arity=1),e.defn(U,"$update_attributes",w=function(e){return this.attributes.$update(e),i},w.$$arity=1),e.defn(U,"$converter",k=function(){return this.document.$converter()},k.$$arity=0),e.defn(U,"$role?",x=function(e){var t,n=this;return null==e&&(e=i),e!==!1&&e!==i&&null!=e?e["$=="]((t=n.attributes["$[]"]("role"))!==!1&&t!==i&&null!=t?t:n.document.$attributes()["$[]"]("role")):(t=n.attributes["$has_key?"]("role"))!==!1&&t!==i&&null!=t?t:n.document.$attributes()["$has_key?"]("role")},x.$$arity=-1),e.defn(U,"$role",O=function(){var e,t=this;return(e=t.attributes["$[]"]("role"))!==!1&&e!==i&&null!=e?e:t.document.$attributes()["$[]"]("role")},O.$$arity=0),e.defn(U,"$has_role?",E=function(e){var t,n,$=this,r=i;return!((t=r=(n=$.attributes["$[]"]("role"))!==!1&&n!==i&&null!=n?n:$.document.$attributes()["$[]"]("role"))===i||null==t||t.$$is_boolean&&1!=t)&&r.$split(" ")["$include?"](e)},E.$$arity=1),e.defn(U,"$roles",A=function(){var e,t,n=this,$=i;return(e=$=(t=n.attributes["$[]"]("role"))!==!1&&t!==i&&null!=t?t:n.document.$attributes()["$[]"]("role"))===i||null==e||e.$$is_boolean&&1!=e?[]:$.$split(" ")},A.$$arity=0),e.defn(U,"$add_role",S=function($){var r,o,l=this,a=i,s=i;return(r=(a=((o=l.attributes["$[]"]("role"))!==!1&&o!==i&&null!=o?o:"").$split(" "))["$include?"]($))===i||null==r||r.$$is_boolean&&1!=r?(s=["role",n(a.$push($)," ")],c(l.attributes,"[]=",e.to_a(s)),s[t(s.length,1)]):i},S.$$arity=1),e.defn(U,"$remove_role",R=function($){var r,o,l=this,a=i,s=i;return(r=(a=((o=l.attributes["$[]"]("role"))!==!1&&o!==i&&null!=o?o:"").$split(" "))["$include?"]($))===i||null==r||r.$$is_boolean&&1!=r?i:(a.$delete($),s=["role",n(a," ")],c(l.attributes,"[]=",e.to_a(s)),s[t(s.length,1)])},R.$$arity=1),e.defn(U,"$reftext?",M=function(){var e,t=this;return(e=t.attributes["$has_key?"]("reftext"))!==!1&&e!==i&&null!=e?e:t.document.$attributes()["$has_key?"]("reftext")},M.$$arity=0),e.defn(U,"$reftext",T=function(){var e,t=this;return(e=t.attributes["$[]"]("reftext"))!==!1&&e!==i&&null!=e?e:t.document.$attributes()["$[]"]("reftext")},T.$$arity=0),e.defn(U,"$icon_uri",I=function(t){var n,$=this,r=i;return(n=$["$attr?"]("icon"))===i||null==n||n.$$is_boolean&&1!=n?$.$image_uri(t+"."+$.document.$attr("icontype","png"),"iconsdir"):(n=e.const_get([e.Object.$$scope],"File",!0,!0).$extname(r=$.$image_uri($.$attr("icon"),"iconsdir"))["$empty?"]())===i||null==n||n.$$is_boolean&&1!=n?r:r+"."+$.document.$attr("icontype","png")},I.$$arity=1),e.defn(U,"$media_uri",C=function(e,t){var n=this;return null==t&&(t="imagesdir"),n.$normalize_web_path(e,function(){return t!==!1&&t!==i&&null!=t?n.document.$attr(t):i}())},C.$$arity=-2),e.defn(U,"$image_uri",N=function(t,n){var r,o,l,a,s=this,c=i,u=i;return null==n&&(n="imagesdir"),o=$((c=s.document).$safe(),e.const_get([e.const_get(Y,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)),(r=o!==!1&&o!==i&&null!=o?c["$attr?"]("data-uri"):o)===i||null==r||r.$$is_boolean&&1!=r?s.$normalize_web_path(t,function(){return n!==!1&&n!==i&&null!=n?c.$attr(n):i}()):(r=(o=e.const_get(Y,"Helpers",!0,!0)["$uriish?"](t))!==!1&&o!==i&&null!=o?o:(a=n!==!1&&n!==i&&null!=n?u=c.$attr(n):n,l=a!==!1&&a!==i&&null!=a?e.const_get(Y,"Helpers",!0,!0)["$uriish?"](u):a,l!==!1&&l!==i&&null!=l?t=s.$normalize_web_path(t,u,!1):l))===i||null==r||r.$$is_boolean&&1!=r?s.$generate_data_uri(t,n):(r=c["$attr?"]("allow-uri-read"))===i||null==r||r.$$is_boolean&&1!=r?t:s.$generate_data_uri_from_uri(t,c["$attr?"]("cache-uri"))},N.$$arity=-2),e.defn(U,"$generate_data_uri",j=function(t,n){var $,r,o=this,l=i,a=i,_=i,d=i;return null==n&&(n=i),l=e.const_get([e.Object.$$scope],"File",!0,!0).$extname(t),a=function(){return l["$=="](".svg")?"image/svg+xml":"image/"+l["$[]"](u(1,-1,!1))}(),_=n!==!1&&n!==i&&null!=n?o.$normalize_system_path(t,o.document.$attr(n),i,s(["target_name"],{target_name:"image"})):o.$normalize_system_path(t),($=e.const_get([e.Object.$$scope],"File",!0,!0)["$readable?"](_))===i||null==$||$.$$is_boolean&&1!=$?(o.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+_),"data:"+a+":base64,"):(d=i,d=($=e.const_get([e.Object.$$scope],"IO",!0,!0)["$respond_to?"]("binread"))===i||null==$||$.$$is_boolean&&1!=$?c(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[_,"rb"],(r=function(e){r.$$s;return null==e&&(e=i),e.$read()},r.$$s=o,r.$$arity=1,r)):e.const_get([e.Object.$$scope],"IO",!0,!0).$binread(_),"data:"+a+";base64,"+e.const_get([e.Object.$$scope],"Base64",!0,!0).$encode64(d).$delete(e.const_get(Y,"EOL",!0,!0)))},j.$$arity=-2),e.defn(U,"$generate_data_uri_from_uri",L=function(t,n){var $,r,o=this,l=i,a=i;null==n&&(n=!1),n!==!1&&n!==i&&null!=n?e.const_get(Y,"Helpers",!0,!0).$require_library("open-uri/cached","open-uri-cached"):($=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"]())===i||null==$||$.$$is_boolean&&1!=$||e.const_get([e.Object.$$scope],"OpenURI",!0,!0);try{return l=i,a=c(o,"open",[t,"rb"],(r=function(e){r.$$s;return null==e&&(e=i),l=e.$content_type(),e.$read()},r.$$s=o,r.$$arity=1,r)),"data:"+l+";base64,"+e.const_get([e.Object.$$scope],"Base64",!0,!0).$encode64(a).$delete(e.const_get(Y,"EOL",!0,!0))}catch(n){if(!e.rescue(n,[e.const_get(Y,"StandardError",!0,!0)]))throw n;try{return o.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+t),t}finally{e.pop_exception()}}},L.$$arity=-2),e.defn(U,"$read_contents",z=function(t,$){var r,o,l,a,u,_=this,d=i,f=i,p=i;if(null==$&&($=s([],{})),d=_.document,(r=(o=e.const_get(Y,"Helpers",!0,!0)["$uriish?"](t))!==!1&&o!==i&&null!=o?o:(a=f=$["$[]"]("start"),l=a!==!1&&a!==i&&null!=a?e.const_get(Y,"Helpers",!0,!0)["$uriish?"](f):a,l!==!1&&l!==i&&null!=l?t=((a=_.path_resolver)!==!1&&a!==i&&null!=a?a:_.path_resolver=e.const_get(Y,"PathResolver",!0,!0).$new()).$web_path(t,f):l))===i||null==r||r.$$is_boolean&&1!=r)t=_.$normalize_system_path(t,$["$[]"]("start"),i,s(["target_name"],{target_name:(r=$["$[]"]("label"))!==!1&&r!==i&&null!=r?r:"asset"})),p=_.$read_asset(t,s(["normalize","warn_on_failure"],{normalize:$["$[]"]("normalize"),warn_on_failure:$.$fetch("warn_on_failure",!0)}));else if((r=d["$attr?"]("allow-uri-read"))===i||null==r||r.$$is_boolean&&1!=r)(r=$.$fetch("warn_on_failure",!0))===i||null==r||r.$$is_boolean&&1!=r||_.$warn("asciidoctor: WARNING: cannot retrieve contents of "+((r=$["$[]"]("label"))!==!1&&r!==i&&null!=r?r:"asset")+" at URI: "+t+" (allow-uri-read attribute not enabled)"),p=i;else{(r=d["$attr?"]("cache-uri"))===i||null==r||r.$$is_boolean&&1!=r||e.const_get(Y,"Helpers",!0,!0).$require_library("open-uri/cached","open-uri-cached");try{p=c(e.const_get([e.Object.$$scope],"OpenURI",!0,!0),"open_uri",[t],(u=function(e){u.$$s;return null==e&&(e=i),e.$read()},u.$$s=_,u.$$arity=1,u)),(r=$["$[]"]("normalize"))===i||null==r||r.$$is_boolean&&1!=r||(p=n(e.const_get(Y,"Helpers",!0,!0).$normalize_lines_from_string(p),e.const_get(Y,"EOL",!0,!0)))}catch(n){if(!e.rescue(n,[e.const_get(Y,"StandardError",!0,!0)]))throw n;try{(r=$.$fetch("warn_on_failure",!0))===i||null==r||r.$$is_boolean&&1!=r||_.$warn("asciidoctor: WARNING: could not retrieve contents of "+((r=$["$[]"]("label"))!==!1&&r!==i&&null!=r?r:"asset")+" at URI: "+t),p=i}finally{e.pop_exception()}}}return p},z.$$arity=-2),e.defn(U,"$read_asset",P=function(t,$){var r,o=this;return null==$&&($=s([],{})),((r=e.const_get([e.Object.$$scope],"Hash",!0,!0)["$==="]($))===i||null==r||r.$$is_boolean&&1!=r)&&($=s(["warn_on_failure"],{warn_on_failure:$["$!="](!1)})),(r=e.const_get([e.Object.$$scope],"File",!0,!0)["$readable?"](t))===i||null==r||r.$$is_boolean&&1!=r?((r=$["$[]"]("warn_on_failure"))===i||null==r||r.$$is_boolean&&1!=r||o.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+t),i):(r=$["$[]"]("normalize"))===i||null==r||r.$$is_boolean&&1!=r?e.const_get([e.Object.$$scope],"IO",!0,!0).$read(t):n(e.const_get(Y,"Helpers",!0,!0).$normalize_lines_from_string(e.const_get([e.Object.$$scope],"IO",!0,!0).$read(t)),e.const_get(Y,"EOL",!0,!0))},P.$$arity=-2),e.defn(U,"$normalize_web_path",D=function(t,n,$){var r,o=this;return null==n&&(n=i),null==$&&($=!0),(r=$!==!1&&$!==i&&null!=$?e.const_get(Y,"Helpers",!0,!0)["$uriish?"](t):$)===i||null==r||r.$$is_boolean&&1!=r?((r=o.path_resolver)!==!1&&r!==i&&null!=r?r:o.path_resolver=e.const_get(Y,"PathResolver",!0,!0).$new()).$web_path(t,n):t},D.$$arity=-2),e.defn(U,"$normalize_system_path",B=function(t,n,r,o){var l,a=this,c=i,u=i;return null==n&&(n=i),null==r&&(r=i),null==o&&(o=s([],{})),c=(l=a.path_resolver)!==!1&&l!==i&&null!=l?l:a.path_resolver=e.const_get(Y,"PathResolver",!0,!0).$new(),(l=$((u=a.document).$safe(),e.const_get([e.const_get(Y,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===i||null==l||l.$$is_boolean&&1!=l?(n!==!1&&n!==i&&null!=n||(n=u.$base_dir()),r!==!1&&r!==i&&null!=r||(r=u.$base_dir())):n!==!1&&n!==i&&null!=n?((l=c["$is_root?"](n))===i||null==l||l.$$is_boolean&&1!=l)&&(n=e.const_get([e.Object.$$scope],"File",!0,!0).$join(u.$base_dir(),n)):n=u.$base_dir(),c.$system_path(t,n,r,o)},B.$$arity=-2),e.defn(U,"$normalize_asset_path",q=function(e,t,n){var $=this;return null==t&&(t="path"),null==n&&(n=!0),$.$normalize_system_path(e,$.document.$base_dir(),i,s(["target_name","recover"],{target_name:t,recover:n}))},q.$$arity=-2),e.defn(U,"$is_uri?",F=function(t){return e.const_get(Y,"Helpers",!0,!0)["$uriish?"](t)},F.$$arity=1)}(f.base,0,p)}(r.base,o)},Opal.modules["asciidoctor/abstract_block"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var o=(e.top,e),i=[e],l=e.nil,a=(e.breaker,e.slice,e.module),s=e.klass,c=e.send,u=e.hash2;return e.add_stubs(["$attr_accessor","$attr_reader","$attr_writer","$==","$!=","$level","$to_s","$playback_attributes","$convert","$converter","$*","$map","$file","$lineno","$include?","$!","$nil_or_empty?","$apply_title_subs","$title","$empty?","$<<","$select","$context","$>","$[]","$has_role?","$header?","$concat","$find_by","$to_proc","$each","$flatten","$delete","$title?","$attributes","$counter_increment","$index=","$-","$+","$sectname","$counter","$numbered","$number=","$attr","$caption=","$special","$doctype","$assign_index","$reindex_sections"]),function(o,i){var _,d=_=a(o,"Asciidoctor"),f=(d.$$proto,d.$$scope),p=i.slice().concat(f);!function(o,i,a){function _(){}var d,f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j=_=s(o,i,"AbstractBlock",_),L=j.$$proto,z=j.$$scope,P=a.slice().concat(z);L.document=L.attributes=L.blocks=L.source_location=L.subs=L.title=L.subbed_title=L.caption=L.next_section_index=L.context=L.style=L.id=L.header=L.next_section_number=l,j.$attr_accessor("content_model"),j.$attr_reader("subs"),j.$attr_reader("blocks"),j.$attr_accessor("level"),j.$attr_writer("title"),j.$attr_accessor("style"),j.$attr_accessor("caption"),j.$attr_accessor("source_location"),e.defn(j,"$initialize",d=function(t,n,$){var r,o,i=this,a=d.$$p,s=l,_=l,f=l;for(null==$&&($=u([],{})),a&&(d.$$p=null),_=0,f=arguments.length,s=new Array(f);_<f;_++)s[_]=arguments[_];return c(i,e.find_super_dispatcher(i,"initialize",d,!1),s,a),i.content_model="compound",i.subs=[],i.default_subs=l,i.blocks=[],i.id=l,i.title=l,i.caption=l,i.style=l,i.level=function(){return n["$=="]("document")?0:(r=(o=t!==!1&&t!==l&&null!=t)?n["$!="]("section"):t)===l||null==r||r.$$is_boolean&&1!=r?l:t.$level()}(),i.next_section_index=0,i.next_section_number=1,i.source_location=l},d.$$arity=-3),e.defn(j,"$block?",f=function(){return!0},f.$$arity=0),e.defn(j,"$inline?",p=function(){return!1},p.$$arity=0),e.defn(j,"$context=",h=function(e){var t=this;return t.context=e,t.node_name=e.$to_s()},h.$$arity=1),e.defn(j,"$convert",g=function(){var e=this;return e.document.$playback_attributes(e.attributes),e.$converter().$convert(e)},g.$$arity=0),e.alias(j,"render","convert"),e.defn(j,"$content",b=function(){var n,$=this;return t(c($.blocks,"map",[],(n=function(e){n.$$s;return null==e&&(e=l),e.$convert()},n.$$s=$,n.$$arity=1,n)),e.const_get(P,"EOL",!0,!0))},b.$$arity=0),e.defn(j,"$file",m=function(){var e,t=this;return(e=t.source_location)===l||null==e||e.$$is_boolean&&1!=e?l:t.source_location.$file()},m.$$arity=0),e.defn(j,"$lineno",y=function(){var e,t=this;return(e=t.source_location)===l||null==e||e.$$is_boolean&&1!=e?l:t.source_location.$lineno()},y.$$arity=0),e.defn(j,"$sub?",v=function(e){return this.subs["$include?"](e)},v.$$arity=1),e.defn(j,"$title?",w=function(){return this.title["$nil_or_empty?"]()["$!"]()},w.$$arity=0),e.defn(j,"$title",k=function(){var e,t,n=this;return(e=null!=(t=n.subbed_title)&&t!==l?"instance-variable":l)===l||null==e||e.$$is_boolean&&1!=e?(e=n.title)===l||null==e||e.$$is_boolean&&1!=e?n.title:n.subbed_title=n.$apply_title_subs(n.title):n.subbed_title},k.$$arity=0),e.defn(j,"$captioned_title",x=function(){var e=this;return""+e.caption+e.$title()},x.$$arity=0),e.defn(j,"$blocks?",O=function(){return this.blocks["$empty?"]()["$!"]()},O.$$arity=0),e.defn(j,"$<<",E=function(e){var t=this;return t.blocks["$<<"](e),t},E.$$arity=1),e.alias(j,"append","<<"),e.defn(j,"$sections",A=function(){var e,t=this;return c(t.blocks,"select",[],(e=function(t){e.$$s;return null==t&&(t=l),t.$context()["$=="]("section")},e.$$s=t,e.$$arity=1,e))},A.$$arity=0),e.defn(j,"$sections?",S=function(){return n(this.next_section_index,0)},S.$$arity=0),e.defn(j,"$find_by",R=function(t){var n,$,r,o,i,a,s,_=this,d=R.$$p,f=d||l,p=l,h=l,g=l,b=l,m=l,y=l;if(null==t&&(t=u([],{})),d&&(R.$$p=null),p=[],o=(i=h=(g=t["$[]"]("context"))["$!"]())!==!1&&i!==l&&null!=i?i:g["$=="](_.context),r=o!==!1&&o!==l&&null!=o?(i=(b=t["$[]"]("style"))["$!"]())!==!1&&i!==l&&null!=i?i:b["$=="](_.style):o,$=r!==!1&&r!==l&&null!=r?(o=(m=t["$[]"]("role"))["$!"]())!==!1&&o!==l&&null!=o?o:_["$has_role?"](m):r,(n=$!==!1&&$!==l&&null!=$?(r=(y=t["$[]"]("id"))["$!"]())!==!1&&r!==l&&null!=r?r:y["$=="](_.id):$)!==l&&null!=n&&(!n.$$is_boolean||1==n)){if(y!==!1&&y!==l&&null!=y)return f!==l?function(){return(n=e.yield1(f,_))===l||null==n||n.$$is_boolean&&1!=n?p:[_]}():[_];f!==l?(n=e.yield1(f,_))===l||null==n||n.$$is_boolean&&1!=n||p["$<<"](_):p["$<<"](_)}return $=(r=_.context["$=="]("document"))?(o=h)!==!1&&o!==l&&null!=o?o:g["$=="]("section"):_.context["$=="]("document"),(n=$!==!1&&$!==l&&null!=$?_["$header?"]():$)===l||null==n||n.$$is_boolean&&1!=n||p.$concat(c(_.header,"find_by",[t],f.$to_proc())),g["$=="]("document")||(_.context["$=="]("dlist")?(n=($=h)!==!1&&$!==l&&null!=$?$:g["$!="]("section"))===l||null==n||n.$$is_boolean&&1!=n||c(_.blocks.$flatten(),"each",[],(a=function(e){a.$$s;return null==e&&(e=l),e!==!1&&e!==l&&null!=e?p.$concat(c(e,"find_by",[t],f.$to_proc())):l},a.$$s=_,a.$$arity=1,a)):(n=c(_.blocks,"each",[],(s=function(e){var n;s.$$s;return null==e&&(e=l),(n=g["$=="]("section")?e.$context()["$!="]("section"):g["$=="]("section"))===l||null==n||n.$$is_boolean&&1!=n?p.$concat(c(e,"find_by",[t],f.$to_proc())):l},s.$$s=_,s.$$arity=1,s)))!==l&&null!=n&&n.$$is_boolean),p},R.$$arity=-1),e.alias(j,"query","find_by"),e.defn(j,"$remove_sub",M=function(e){return this.subs.$delete(e),l},M.$$arity=1),e.defn(j,"$assign_caption",T=function(e,t){var n,$,r=this,o=l,i=l,a=l,s=l;return null==e&&(e=l),null==t&&(t=l),(n=($=r["$title?"]())!==!1&&$!==l&&null!=$?$:r.caption["$!"]())===l||null==n||n.$$is_boolean&&1!=n?l:(e!==!1&&e!==l&&null!=e?r.caption=e:(n=o=r.document.$attributes()["$[]"]("caption"))===l||null==n||n.$$is_boolean&&1!=n?(n=r["$title?"]())===l||null==n||n.$$is_boolean&&1!=n||((n=t)!==!1&&n!==l&&null!=n||(t=r.context.$to_s()),i=t+"-caption",(n=a=r.document.$attributes()["$[]"](i))===l||null==n||n.$$is_boolean&&1!=n||(s=r.document.$counter_increment(t+"-number",r),r.caption=a+" "+s+". ")):r.caption=o,l)},T.$$arity=-1),e.defn(j,"$list_marker_keyword",I=function(t){var n,$=this;return null==t&&(t=l),e.const_get(P,"ORDERED_LIST_KEYWORDS",!0,!0)["$[]"]((n=t)!==!1&&n!==l&&null!=n?n:$.style)},I.$$arity=-1),e.defn(j,"$assign_index",C=function(t){var n,o,i,a=this,s=l,u=l,_=l;return s=[a.next_section_index],c(t,"index=",e.to_a(s)),s[$(s.length,1)],a.next_section_index=r(a.next_section_index,1),t.$sectname()["$=="]("appendix")?(u=a.document.$counter("appendix-number","A"),(n=t.$numbered())===l||null==n||n.$$is_boolean&&1!=n||(s=[u],c(t,"number=",e.to_a(s)),s[$(s.length,1)]),(n=(_=a.document.$attr("appendix-caption",""))["$empty?"]())===l||null==n||n.$$is_boolean&&1!=n?(s=[_+" "+u+": "],c(t,"caption=",e.to_a(s)),s[$(s.length,1)]):(s=[u+". "],c(t,"caption=",e.to_a(s)),s[$(s.length,1)])):(n=t.$numbered())===l||null==n||n.$$is_boolean&&1!=n?l:(o=(i=t.$level()["$=="](1))!==!1&&i!==l&&null!=i?i:t.$level()["$=="](0)?t.$special():t.$level()["$=="](0),(n=o!==!1&&o!==l&&null!=o?a.document.$doctype()["$=="]("book"):o)===l||null==n||n.$$is_boolean&&1!=n?(s=[a.next_section_number],c(t,"number=",e.to_a(s)),s[$(s.length,1)],a.next_section_number=r(a.next_section_number,1)):(s=[a.document.$counter("chapter-number",1)],c(t,"number=",e.to_a(s)),s[$(s.length,1)]))},C.$$arity=1),e.defn(j,"$reindex_sections",N=function(){var e,t=this;return t.next_section_index=0,t.next_section_number=0,c(t.blocks,"each",[],(e=function(t){var n=e.$$s||this;return null==t&&(t=l),t.$context()["$=="]("section")?(n.$assign_index(t),t.$reindex_sections()):l},e.$$s=t,e.$$arity=1,e))},N.$$arity=0)}(f.base,e.const_get(p,"AbstractNode",!0,!0),p)}(o.base,i)},Opal.modules["asciidoctor/attribute_list"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var r=(e.top,e),o=[e],i=e.nil,l=(e.breaker,e.slice,e.module),a=e.klass,s=e.hash2,c=e.send;return e.add_stubs(["$==","$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$skip_blank","$peek","$parse_attribute_value","$get_byte","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$each","$split","$tr","$empty?","$apply_normal_subs","$scan_to_quote","$gsub","$skip","$scan"]),function(r,o){var u,_=u=l(r,"Asciidoctor"),d=(_.$$proto,_.$$scope),f=o.slice().concat(d);!function(r,o,l){function u(){}var _,d,f,p,h,g,b,m,y,v,w,k,x=u=a(r,null,"AttributeList",u),O=x.$$proto,E=x.$$scope,A=l.slice().concat(E);O.attributes=O.scanner=O.delimiter=O.block=O.delimiter_skip_pattern=O.delimiter_boundary_pattern=i,e.const_get([e.Object.$$scope],"RUBY_ENGINE",!0,!0)["$=="]("opal")&&(e.cdecl(E,"CG_BLANK","[ \\t]"),e.cdecl(E,"CC_WORD","a-zA-Z0-9_"),e.cdecl(E,"CG_WORD","[a-zA-Z0-9_]")),e.cdecl(E,"BoundaryRxs",s(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+e.const_get(A,"CG_BLANK",!0,!0)+"*(,|$))")})),e.cdecl(E,"EscapedQuoteRxs",s(['"',"'"],{'"':/\\"/,"'":/\\'/})),e.cdecl(E,"NameRx",new RegExp(e.const_get(A,"CG_WORD",!0,!0)+"["+e.const_get(A,"CC_WORD",!0,!0)+"\\-.]*")),e.cdecl(E,"BlankRx",new RegExp(e.const_get(A,"CG_BLANK",!0,!0)+"+")),e.cdecl(E,"SkipRxs",s(["blank",","],{blank:e.const_get(A,"BlankRx",!0,!0),",":new RegExp(e.const_get(A,"CG_BLANK",!0,!0)+"*(,|$)")})),e.defn(x,"$initialize",_=function(t,n,$){var r=this;return null==n&&(n=i),null==$&&($=","),r.scanner=e.const_get([e.Object.$$scope],"StringScanner",!0,!0).$new(t),r.block=n,r.delimiter=$,r.delimiter_skip_pattern=e.const_get(A,"SkipRxs",!0,!0)["$[]"]($),r.delimiter_boundary_pattern=e.const_get(A,"BoundaryRxs",!0,!0)["$[]"]($),r.attributes=i},_.$$arity=-2),e.defn(x,"$parse_into",d=function(e,t){var n=this;return null==t&&(t=[]),e.$update(n.$parse(t))},d.$$arity=-2),e.defn(x,"$parse",f=function(e){var n,$,r=this,o=i;if(null==e&&(e=[]),(n=r.attributes)!==i&&null!=n&&(!n.$$is_boolean||1==n))return r.attributes;for(r.attributes=s([],{}),o=0;($=r.$parse_attribute(o,e))!==i&&null!=$&&(!$.$$is_boolean||1==$)&&(($=r.scanner["$eos?"]())===i||null==$||$.$$is_boolean&&1!=$);)r.$skip_delimiter(),o=t(o,1);return r.attributes},f.$$arity=-1),e.defn(x,"$rekey",p=function(t){var n=this;return e.const_get(A,"AttributeList",!0,!0).$rekey(n.attributes,t)},p.$$arity=1),e.defs(x,"$rekey",h=function($,r){var o,l=this;return c(r,"each_with_index",[],(o=function(r,l){var a,s=(o.$$s,i),u=i,_=i;return null==r&&(r=i),null==l&&(l=i),r===!1||r===i||null==r?i:(s=t(l,1),(a=u=$["$[]"](s))===i||null==a||a.$$is_boolean&&1!=a?i:(_=[r,u],c($,"[]=",e.to_a(_)),_[n(_.length,1)]))},o.$$s=l,o.$$arity=2,o)),$},h.$$arity=2),e.defn(x,"$parse_attribute",g=function(r,o){var l,a,s,u,_=this,d=i,f=i,p=i,h=i,g=i,b=i,m=i,y=i,v=i,w=i;if(null==r&&(r=0),null==o&&(o=[]),d=!1,_.$skip_blank(),(f=_.scanner.$peek(1))["$=="]('"'))p=_.$parse_attribute_value(_.scanner.$get_byte()),h=i;else if(f["$=="]("'"))p=_.$parse_attribute_value(_.scanner.$get_byte()),h=i,d=!0;else{if(p=_.$scan_name(),g=0,b=i,(l=_.scanner["$eos?"]())===i||null==l||l.$$is_boolean&&1!=l)g=(l=_.$skip_blank())!==!1&&l!==i&&null!=l?l:0,b=_.scanner.$get_byte();else if(p===!1||p===i||null==p)return!1;if((l=(a=b["$!"]())!==!1&&a!==i&&null!=a?a:b["$=="](_.delimiter))===i||null==l||l.$$is_boolean&&1!=l)if((l=(a=b["$!="]("="))!==!1&&a!==i&&null!=a?a:p["$!"]())===i||null==l||l.$$is_boolean&&1!=l){if(_.$skip_blank(),(l=_.scanner.$peek(1))!==i&&null!=l&&(!l.$$is_boolean||1==l))if((b=_.scanner.$get_byte())["$=="]('"'))h=_.$parse_attribute_value(b);else if(b["$=="]("'"))h=_.$parse_attribute_value(b),d=!0;else if(b["$=="](_.delimiter))h=i;else if(h=""+b+_.$scan_to_delimiter(),h["$=="]("None"))return!0}else p=""+p+$(" ",g)+b+_.$scan_to_delimiter(),h=i;else h=i}return h!==!1&&h!==i&&null!=h?(m=p,"options"["$==="](m)||"opts"["$==="](m)?(p="options",c(h.$tr(" ","").$split(","),"each",[],(s=function(t){var $=s.$$s||this,r=i;return null==$.attributes&&($.attributes=i),null==t&&(t=i),r=[t+"-option",""],c($.attributes,"[]=",e.to_a(r)),r[n(r.length,1)]},s.$$s=_,s.$$arity=1,s)),y=[p,h],c(_.attributes,"[]=",e.to_a(y)),y[n(y.length,1)]):"title"["$==="](m)?(y=[p,h],c(_.attributes,"[]=",e.to_a(y)),y[n(y.length,1)]):(y=[p,function(){return a=(u=d!==!1&&d!==i&&null!=d)?h["$empty?"]()["$!"]():d,(l=a!==!1&&a!==i&&null!=a?_.block:a)===i||null==l||l.$$is_boolean&&1!=l?h:_.block.$apply_normal_subs(h)}()],c(_.attributes,"[]=",e.to_a(y)),y[n(y.length,1)])):(v=function(){return a=(u=d!==!1&&d!==i&&null!=d)?p["$empty?"]()["$!"]():d,(l=a!==!1&&a!==i&&null!=a?_.block:a)===i||null==l||l.$$is_boolean&&1!=l?p:_.block.$apply_normal_subs(p)}(),(l=w=o["$[]"](r))===i||null==l||l.$$is_boolean&&1!=l||(y=[w,v],c(_.attributes,"[]=",e.to_a(y)),y[n(y.length,1)]),y=[t(r,1),v],c(_.attributes,"[]=",e.to_a(y)),y[n(y.length,1)]),!0},g.$$arity=-1),e.defn(x,"$parse_attribute_value",b=function(t){var n,$=this,r=i;return $.scanner.$peek(1)["$=="](t)?($.scanner.$get_byte(),""):(n=r=$.$scan_to_quote(t))===i||null==n||n.$$is_boolean&&1!=n?""+t+$.$scan_to_delimiter():($.scanner.$get_byte(),r.$gsub(e.const_get(A,"EscapedQuoteRxs",!0,!0)["$[]"](t),t))},b.$$arity=1),e.defn(x,"$skip_blank",m=function(){return this.scanner.$skip(e.const_get(A,"BlankRx",!0,!0))},m.$$arity=0),e.defn(x,"$skip_delimiter",y=function(){var e=this;return e.scanner.$skip(e.delimiter_skip_pattern)},y.$$arity=0),e.defn(x,"$scan_name",v=function(){return this.scanner.$scan(e.const_get(A,"NameRx",!0,!0))},v.$$arity=0),e.defn(x,"$scan_to_delimiter",w=function(){var e=this;return e.scanner.$scan(e.delimiter_boundary_pattern)},w.$$arity=0),e.defn(x,"$scan_to_quote",k=function(t){return this.scanner.$scan(e.const_get(A,"BoundaryRxs",!0,!0)["$[]"](t))},k.$$arity=1)}(d.base,0,f)}(r.base,o)},Opal.modules["asciidoctor/block"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var r=(e.top,e),o=[e],i=e.nil,l=(e.breaker,e.slice,e.module),a=e.klass,s=e.send,c=e.hash2;return e.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$dup","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$*","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$to_s","$class","$object_id","$inspect"]),function(r,o){var u,_=u=l(r,"Asciidoctor"),d=(_.$$proto,_.$$scope),f=o.slice().concat(d);!function(r,o,l){function u(){}var _,d,f,p,h=u=a(r,o,"Block",u),g=h.$$proto,b=h.$$scope,m=l.slice().concat(b),y=i;g.attributes=g.content_model=g.lines=g.subs=g.blocks=g.context=g.style=i,y=["simple"],s(e.cdecl(b,"DEFAULT_CONTENT_MODEL",c(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",e.to_a(y)),y[t(y.length,1)],e.alias(h,"blockname","context"),h.$attr_accessor("lines"),e.defn(h,"$initialize",_=function(n,$,r){var o,l=this,a=_.$$p,u=i,d=i,f=i,p=i,h=i,g=i;for(null==r&&(r=c([],{})),a&&(_.$$p=null),h=0,g=arguments.length,p=new Array(g);h<g;h++)p[h]=arguments[h];return s(l,e.find_super_dispatcher(l,"initialize",_,!1),p,a),l.content_model=(o=r["$[]"]("content_model"))!==!1&&o!==i&&null!=o?o:e.const_get(m,"DEFAULT_CONTENT_MODEL",!0,!0)["$[]"]($),(o=r["$key?"]("subs"))===i||null==o||o.$$is_boolean&&1!=o?(l.subs=[],l.default_subs=i):(o=u=r["$[]"]("subs"))===i||null==o||o.$$is_boolean&&1!=o?(l.subs=[],l.default_subs=[],l.attributes.$delete("subs")):(u["$=="]("default")?l.default_subs=r["$[]"]("default_subs"):(o=e.const_get([e.Object.$$scope],"Array",!0,!0)["$==="](u))===i||null==o||o.$$is_boolean&&1!=o?(l.default_subs=i,d=["subs",""+u],s(l.attributes,"[]=",e.to_a(d)),d[t(d.length,1)]):(l.default_subs=u.$dup(),l.attributes.$delete("subs")),l.$lock_in_subs()),(o=(f=r["$[]"]("source"))["$nil_or_empty?"]())===i||null==o||o.$$is_boolean&&1!=o?(o=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](f))===i||null==o||o.$$is_boolean&&1!=o?l.lines=f.$dup():l.lines=e.const_get(m,"Helpers",!0,!0).$normalize_lines_from_string(f):l.lines=[]},_.$$arity=-3),e.defn(h,"$content",d=function(){var t,r,o,l=this,a=d.$$p,c=i,u=i,_=i,f=i,p=i,h=i,g=i;for(a&&(d.$$p=null),h=0,g=arguments.length,p=new Array(g);h<g;h++)p[h]=arguments[h];return function(){if(c=l.content_model,"compound"["$==="](c))return s(l,e.find_super_dispatcher(l,"content",d,!1),p,a);if("simple"["$==="](c))return l.$apply_subs(n(l.lines,e.const_get(m,"EOL",!0,!0)),l.subs);if("verbatim"["$==="](c)||"raw"["$==="](c)){if(u=l.$apply_subs(l.lines,l.subs),(t=$(u.$size(),2))===i||null==t||t.$$is_boolean&&1!=t){for(;o=_=u["$[]"](0),(r=o!==!1&&o!==i&&null!=o?_.$rstrip()["$empty?"]():o)!==i&&null!=r&&(!r.$$is_boolean||1==r);)u.$shift();for(;o=f=u["$[]"](-1),(r=o!==!1&&o!==i&&null!=o?f.$rstrip()["$empty?"]():o)!==i&&null!=r&&(!r.$$is_boolean||1==r);)u.$pop();return n(u,e.const_get(m,"EOL",!0,!0))}return u["$[]"](0)}return l.content_model["$=="]("empty")||l.$warn("Unknown content model '"+l.content_model+"' for block: "+l.$to_s()),i}()},d.$$arity=0),e.defn(h,"$source",f=function(){return n(this.lines,e.const_get(m,"EOL",!0,!0))},f.$$arity=0),e.defn(h,"$to_s",p=function(){var e=this,t=i;return t=function(){return e.content_model["$=="]("compound")?"blocks: "+e.blocks.$size():"lines: "+e.lines.$size()}(),"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", content_model: "+e.content_model.$inspect()+", style: "+e.style.$inspect()+", "+t+"}>"},p.$$arity=0)}(d.base,e.const_get(f,"AbstractBlock",!0,!0),f)}(r.base,o)},Opal.modules["asciidoctor/callouts"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var o=(e.top,e),i=[e],l=e.nil,a=(e.breaker,e.slice,e.module),s=e.klass,c=e.hash2,u=e.send;return e.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),function(o,i){var _,d=_=a(o,"Asciidoctor"),f=(d.$$proto,d.$$scope),p=i.slice().concat(f);!function(o,i,a){function _(){}var d,f,p,h,g,b,m,y,v,w=_=s(o,null,"Callouts",_),k=w.$$proto,x=w.$$scope;a.slice().concat(x);k.co_index=k.lists=k.list_index=l,e.defn(w,"$initialize",d=function(){var e=this;return e.lists=[],e.list_index=0,e.$next_list()},d.$$arity=0),e.defn(w,"$register",f=function(e){var n=this,$=l;return n.$current_list()["$<<"](c(["ordinal","id"],{ordinal:e.$to_i(),id:$=n.$generate_next_callout_id()})),n.co_index=t(n.co_index,1),$},f.$$arity=1),e.defn(w,"$read_next_id",p=function(){var e,r=this,o=l,i=l;return o=l,i=r.$current_list(),(e=n(r.co_index,i.$size()))===l||null==e||e.$$is_boolean&&1!=e||(o=i["$[]"]($(r.co_index,1))["$[]"]("id")),r.co_index=t(r.co_index,1),o},p.$$arity=0),e.defn(w,"$callout_ids",h=function(e){var t,n=this;return u(n.$current_list(),"map",[],(t=function(n){t.$$s;return null==n&&(n=l),n["$[]"]("ordinal")["$=="](e)?n["$[]"]("id")+" ":l},t.$$s=n,
t.$$arity=1,t)).$join().$chop()},h.$$arity=1),e.defn(w,"$current_list",g=function(){var e=this;return e.lists["$[]"]($(e.list_index,1))},g.$$arity=0),e.defn(w,"$next_list",b=function(){var e,n=this;return n.list_index=t(n.list_index,1),(e=r(n.lists.$size(),n.list_index))===l||null==e||e.$$is_boolean&&1!=e||n.lists["$<<"]([]),n.co_index=1,l},b.$$arity=0),e.defn(w,"$rewind",m=function(){var e=this;return e.list_index=1,e.co_index=1,l},m.$$arity=0),e.defn(w,"$generate_next_callout_id",y=function(){var e=this;return e.$generate_callout_id(e.list_index,e.co_index)},y.$$arity=0),e.defn(w,"$generate_callout_id",v=function(e,t){return"CO"+e+"-"+t},v.$$arity=2)}(f.base,0,p)}(o.base,i)},Opal.modules["asciidoctor/document"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}var o=(e.top,e),i=[e],l=e.nil,a=(e.breaker,e.slice,e.module),s=e.klass,c=e.hash2,u=e.send,_=e.range;return e.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$include?","$strip","$tr_s","$gsub","$empty?","$!","$rpartition","$delete","$base_dir","$inject","$references","$==","$-","$callouts","$dup","$attributes","$each","$safe","$compat_mode","$sourcemap","$converter","$extensions","$start_with?","$end_with?","$chop","$downcase","$===","$const_get","$upcase","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$find","$constants","$expand_path","$pwd","$>=","$+","$length","$fetch","$abs","$to_i","$delete_if","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$now","$strftime","$join","$build_registry","$to_proc","$activate","$preprocessors?","$preprocessors","$process_method","$treeprocessors?","$treeprocessors","$!=","$nil_or_empty?","$nextval","$counter","$save_to","$chr","$ord","$source","$source_lines","$title=","$title","$first_section","$title?","$merge","$has_header?","$context","$assign_index","$clear_playback_attributes","$save_attributes","$attribute_locked?","$doctitle","$has_key?","$rewind","$name","$negate","$value","$limit","$apply_attribute_value_subs","$delete?","$update_doctype_attributes","$match","$resolve_pass_subs","$apply_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$backend","$default","$create","$fail","$doctype","$content_model","$content","$convert","$postprocessors?","$postprocessors","$write","$respond_to?","$chomp","$open","$map","$split","$&","$normalize_system_path","$read_asset","$resolve_docinfo_subs","$sub_attributes","$docinfo_processors?","$*","$compact","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),function(o,i){var d,f=d=a(o,"Asciidoctor"),p=(f.$$proto,f.$$scope),h=i.slice().concat(p);!function(o,i,a){function d(){}var f,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,oe,ie=d=s(o,i,"Document",d),le=ie.$$proto,ae=ie.$$scope,se=a.slice().concat(ae);le.attributes=le.safe=le.reader=le.base_dir=le.parsed=le.parent_document=le.extensions=le.options=le.counters=le.references=le.doctype=le.backend=le.header=le.blocks=le.attributes_modified=le.id=le.callouts=le.header_attributes=le.max_attribute_value_size=le.attribute_overrides=le.converter=le.outfilesuffix=le.docinfo_processor_extensions=le.document=l,e.cdecl(ae,"Footnote",e.const_get([e.Object.$$scope],"Struct",!0,!0).$new("index","id","text")),function(t,n,$){function r(){}var o,i,a=r=s(t,null,"AttributeEntry",r),c=(a.$$proto,a.$$scope);$.slice().concat(c);a.$attr_reader("name","value","negate"),e.defn(a,"$initialize",o=function(e,t,n){var $,r=this;return null==n&&(n=l),r.name=e,r.value=t,r.negate=function(){return($=n["$nil?"]())===l||null==$||$.$$is_boolean&&1!=$?n:t["$nil?"]()}()},o.$$arity=-3),e.defn(a,"$save_to",i=function(e){var t,n,$,r=this;return(t="attribute_entries",n=e,($=n["$[]"](t))!==!1&&$!==l&&null!=$?$:n["$[]="](t,[]))["$<<"](r)},i.$$arity=1)}(ae.base,0,se),function(t,n,$){function r(){}var o,i,a,u,_=r=s(t,null,"Title",r),d=_.$$proto,f=_.$$scope,p=$.slice().concat(f);d.sanitized=d.subtitle=d.combined=l,_.$attr_reader("main"),e.alias(_,"title","main"),_.$attr_reader("subtitle"),_.$attr_reader("combined"),e.defn(_,"$initialize",o=function(t,n){var $,r,o,i=this,a=l;return null==n&&(n=c([],{})),r=i.sanitized=n["$[]"]("sanitize"),($=r!==!1&&r!==l&&null!=r?t["$include?"]("<"):r)===l||null==$||$.$$is_boolean&&1!=$||(t=t.$gsub(e.const_get(p,"XmlSanitizeRx",!0,!0),"").$tr_s(" "," ").$strip()),($=(r=(a=(o=n["$[]"]("separator"))!==!1&&o!==l&&null!=o?o:":")["$empty?"]())!==!1&&r!==l&&null!=r?r:t["$include?"](a+=" ")["$!"]())===l||null==$||$.$$is_boolean&&1!=$?(r=t.$rpartition(a),$=e.to_ary(r),i.main=null==$[0]?l:$[0],null==$[1]?l:$[1],i.subtitle=null==$[2]?l:$[2]):(i.main=t,i.subtitle=l),i.combined=t},o.$$arity=-2),e.defn(_,"$sanitized?",i=function(){return this.sanitized},i.$$arity=0),e.defn(_,"$subtitle?",a=function(){return this.subtitle["$!"]()["$!"]()},a.$$arity=0),e.defn(_,"$to_s",u=function(){return this.combined},u.$$arity=0)}(ae.base,0,se),ie.$attr_reader("safe"),ie.$attr_reader("compat_mode"),ie.$attr_reader("sourcemap"),ie.$attr_reader("references"),ie.$attr_reader("counters"),ie.$attr_reader("callouts"),ie.$attr_reader("header"),ie.$attr_reader("base_dir"),ie.$attr_reader("options"),ie.$attr_reader("outfilesuffix"),ie.$attr_reader("parent_document"),ie.$attr_reader("reader"),ie.$attr_reader("converter"),ie.$attr_reader("extensions"),e.defn(ie,"$initialize",f=function(r,o){var i,a,s,d,p,h,g,b,m,y,v,w=this,k=f.$$p,x=l,O=l,E=l,A=l,S=l,R=l,M=l,T=l,I=l,C=l,N=l,j=l,L=l,z=l,P=l,D=l;if(null==r&&(r=l),null==o&&(o=c([],{})),k&&(f.$$p=null),u(w,e.find_super_dispatcher(w,"initialize",f,!1),[w,"document"],null),(i=x=o.$delete("parent"))===l||null==i||i.$$is_boolean&&1!=i){if(w.parent_document=l,w.references=c(["ids","footnotes","links","images","indexterms","includes"],{ids:c([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:e.const_get([e.Object.$$scope],"Set",!0,!0).$new()}),w.callouts=e.const_get(se,"Callouts",!0,!0).$new(),O=c([],{}),u((i=o["$[]"]("attributes"))!==!1&&i!==l&&null!=i?i:c([],{}),"each",[],(h=function(n,$){var r,o=(h.$$s,l);return null==n&&(n=l),null==$&&($=l),(r=n["$start_with?"]("!"))===l||null==r||r.$$is_boolean&&1!=r?(r=n["$end_with?"]("!"))===l||null==r||r.$$is_boolean&&1!=r||(n=n.$chop(),$=l):(n=n["$[]"](_(1,-1,!1)),$=l),o=[n.$downcase(),$],u(O,"[]=",e.to_a(o)),o[t(o.length,1)]},h.$$s=w,h.$$arity=2,h)),w.attribute_overrides=O,(i=(A=o["$[]"]("safe"))["$!"]())===l||null==i||i.$$is_boolean&&1!=i)if((i=e.const_get([e.Object.$$scope],"Integer",!0,!0)["$==="](A))===l||null==i||i.$$is_boolean&&1!=i)try{w.safe=e.const_get(se,"SafeMode",!0,!0).$const_get(A.$to_s().$upcase())}catch(t){if(!e.rescue(t,[e.const_get(se,"StandardError",!0,!0)]))throw t;try{w.safe=e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)}finally{e.pop_exception()}}else w.safe=A;else w.safe=e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0);w.compat_mode=O["$key?"]("compat-mode"),w.sourcemap=o["$[]"]("sourcemap"),w.converter=l,E=(a=e.const_get([e.Object.$$scope],"Asciidoctor",!0,!1))&&a.$$scope&&(i=e.const_get([a.$$scope],"Extensions",!0,!1))?"constant":l,w.extensions=l}else w.parent_document=x,i="base_dir",a=o,(s=a["$[]"](i))!==!1&&s!==l&&null!=s||a["$[]="](i,x.$base_dir()),w.references=u(x.$references(),"inject",[c([],{})],(d=function(n,$){var r,o,i,a=(d.$$s,l);return null==$&&($=l),$=e.to_ary($),r=e.slice.call($,0,$.length),o=r.splice(0,1)[0],null==o&&(o=l),i=r.splice(0,1)[0],null==i&&(i=l),null==n&&(n=l),o["$=="]("footnotes")?(a=["footnotes",[]],u(n,"[]=",e.to_a(a)),a[t(a.length,1)]):(a=[o,i],u(n,"[]=",e.to_a(a)),a[t(a.length,1)]),n},d.$$s=w,d.$$arity=2,d.$$has_top_level_mlhs_arg=!0,d)),w.callouts=x.$callouts(),O=x.$attributes().$dup(),u(["doctype","compat-mode","toc","toc-placement","toc-position"],"each",[],(p=function(e){p.$$s;return null==e&&(e=l),O.$delete(e)},p.$$s=w,p.$$arity=1,p)),w.attribute_overrides=O,w.safe=x.$safe(),w.compat_mode=x.$compat_mode(),w.sourcemap=x.$sourcemap(),w.converter=x.$converter(),E=!1,w.extensions=x.$extensions();if(w.parsed=!1,w.header=l,w.counters=c([],{}),w.attributes_modified=e.const_get([e.Object.$$scope],"Set",!0,!0).$new(),w.options=o,w.docinfo_processor_extensions=c([],{}),s="header_footer",g=o,S=(b=g["$[]"](s))!==!1&&b!==l&&null!=b?b:g["$[]="](s,!1),o.$freeze(),R=w.attributes,M=["sectids",""],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],S!==!1&&S!==l&&null!=S||(M=["notitle",""],u(R,"[]=",e.to_a(M)),M[t(M.length,1)]),M=["toc-placement","auto"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["stylesheet",""],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["webfonts",""],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],S!==!1&&S!==l&&null!=S&&(M=["copycss",""],u(R,"[]=",e.to_a(M)),M[t(M.length,1)]),M=["prewrap",""],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["attribute-undefined",e.const_get(se,"Compliance",!0,!0).$attribute_undefined()],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["attribute-missing",e.const_get(se,"Compliance",!0,!0).$attribute_missing()],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["iconfont-remote",""],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["caution-caption","Caution"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["important-caption","Important"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["note-caption","Note"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["tip-caption","Tip"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["warning-caption","Warning"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["appendix-caption","Appendix"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["example-caption","Example"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["figure-caption","Figure"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["table-caption","Table"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["toc-title","Table of Contents"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["manname-title","NAME"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["untitled-label","Untitled"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["version-label","Version"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["last-update-label","Last updated"],u(R,"[]=",e.to_a(M)),M[t(M.length,1)],M=["asciidoctor",""],u(O,"[]=",e.to_a(M)),M[t(M.length,1)],M=["asciidoctor-version",e.const_get(se,"VERSION",!0,!0)],u(O,"[]=",e.to_a(M)),M[t(M.length,1)],T=u(e.const_get(se,"SafeMode",!0,!0).$constants(),"find",[],(m=function(t){var n=m.$$s||this;return null==n.safe&&(n.safe=l),null==t&&(t=l),e.const_get(se,"SafeMode",!0,!0).$const_get(t)["$=="](n.safe)},m.$$s=w,m.$$arity=1,m)).$to_s().$downcase(),M=["safe-mode-name",T],u(O,"[]=",e.to_a(M)),M[t(M.length,1)],M=["safe-mode-"+T,""],u(O,"[]=",e.to_a(M)),M[t(M.length,1)],M=["safe-mode-level",w.safe],u(O,"[]=",e.to_a(M)),M[t(M.length,1)],M=["embedded",function(){return S!==!1&&S!==l&&null!=S?l:""}()],u(O,"[]=",e.to_a(M)),M[t(M.length,1)],s="max-include-depth",g=O,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,64),s="allow-uri-read",g=O,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,l),M=["user-home",e.const_get(se,"USER_HOME",!0,!0)],u(O,"[]=",e.to_a(M)),M[t(M.length,1)],(s=O["$key?"]("numbered"))===l||null==s||s.$$is_boolean&&1!=s||(M=["sectnums",O.$delete("numbered")],u(O,"[]=",e.to_a(M)),M[t(M.length,1)]),(s=o["$[]"]("base_dir"))===l||null==s||s.$$is_boolean&&1!=s?(s=O["$[]"]("docdir"))===l||null==s||s.$$is_boolean&&1!=s?w.base_dir=(M=["docdir",e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(e.const_get([e.Object.$$scope],"Dir",!0,!0).$pwd())],u(O,"[]=",e.to_a(M)),M[t(M.length,1)]):w.base_dir=(M=["docdir",e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(O["$[]"]("docdir"))],u(O,"[]=",e.to_a(M)),M[t(M.length,1)]):w.base_dir=(M=["docdir",e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(o["$[]"]("base_dir"))],u(O,"[]=",e.to_a(M)),M[t(M.length,1)]),(s=I=o["$[]"]("backend"))===l||null==s||s.$$is_boolean&&1!=s||(M=["backend",""+I],u(O,"[]=",e.to_a(M)),M[t(M.length,1)]),(s=C=o["$[]"]("doctype"))===l||null==s||s.$$is_boolean&&1!=s||(M=["doctype",""+C],u(O,"[]=",e.to_a(M)),M[t(M.length,1)]),(s=n(w.safe,e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SERVER",!0,!0)))===l||null==s||s.$$is_boolean&&1!=s||(s="copycss",g=O,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,l),s="source-highlighter",g=O,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,l),s="backend",g=O,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,e.const_get(se,"DEFAULT_BACKEND",!0,!0)),g=x["$!"](),(s=g!==!1&&g!==l&&null!=g?O["$key?"]("docfile"):g)===l||null==s||s.$$is_boolean&&1!=s||(M=["docfile",O["$[]"]("docfile")["$[]"](e.Range.$new($(O["$[]"]("docdir").$length(),1),-1,!1))],u(O,"[]=",e.to_a(M)),M[t(M.length,1)]),M=["docdir",""],u(O,"[]=",e.to_a(M)),M[t(M.length,1)],M=["user-home","."],u(O,"[]=",e.to_a(M)),M[t(M.length,1)],(s=n(w.safe,e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))===l||null==s||s.$$is_boolean&&1!=s||(((s=O["$key?"]("max-attribute-value-size"))===l||null==s||s.$$is_boolean&&1!=s)&&(M=["max-attribute-value-size",4096],u(O,"[]=",e.to_a(M)),M[t(M.length,1)]),((s=O.$fetch("linkcss","")["$nil?"]())===l||null==s||s.$$is_boolean&&1!=s)&&(M=["linkcss",""],u(O,"[]=",e.to_a(M)),M[t(M.length,1)]),s="icons",g=O,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,l))),w.max_attribute_value_size=function(){return g="max-attribute-value-size",b=O,(s=N=(y=b["$[]"](g))!==!1&&y!==l&&null!=y?y:b["$[]="](g,l))===l||null==s||s.$$is_boolean&&1!=s?l:N.$to_i().$abs()}(),u(O,"delete_if",[],(v=function(n,$){var r,o,i=(v.$$s,l);return null==n&&(n=l),null==$&&($=l),i=!1,(r=$["$nil?"]())===l||null==r||r.$$is_boolean&&1!=r?(o=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="]($),(r=o!==!1&&o!==l&&null!=o?$["$end_with?"]("@"):o)===l||null==r||r.$$is_boolean&&1!=r||($=$.$chop(),i=!0),M=[n,$],u(R,"[]=",e.to_a(M)),M[t(M.length,1)]):R.$delete(n),i},v.$$s=w,v.$$arity=2,v)),x!==!1&&x!==l&&null!=x)return s="doctype",g=R,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,e.const_get(se,"DEFAULT_DOCTYPE",!0,!0)),w.reader=e.const_get(se,"Reader",!0,!0).$new(r,o["$[]"]("cursor")),e.const_get(se,"Parser",!0,!0).$parse(w.reader,w),w.$restore_attributes(),w.parsed=!0;if((s="backend",g=R,(b=g["$[]"](s))!==!1&&b!==l&&null!=b?b:g["$[]="](s,e.const_get(se,"DEFAULT_BACKEND",!0,!0)))["$=="]("manpage")?(M=["doctype",(M=["doctype","manpage"],u(O,"[]=",e.to_a(M)),M[t(M.length,1)])],u(R,"[]=",e.to_a(M)),M[t(M.length,1)]):(s="doctype",g=R,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,e.const_get(se,"DEFAULT_DOCTYPE",!0,!0))),w.$update_backend_attributes(R["$[]"]("backend"),!0),j=function(){return(s=e.const_get([e.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))===l||null==s||s.$$is_boolean&&1!=s?e.const_get([e.Object.$$scope],"Time",!0,!0).$now():e.const_get([e.Object.$$scope],"Time",!0,!0).$at(e.const_get([e.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc()}(),s="localdate",g=R,L=(b=g["$[]"](s))!==!1&&b!==l&&null!=b?b:g["$[]="](s,j.$strftime("%Y-%m-%d")),(s=z=R["$[]"]("localtime"))===l||null==s||s.$$is_boolean&&1!=s)try{M=["localtime",j.$strftime("%H:%M:%S %Z")],u(R,"[]=",e.to_a(M)),z=M[t(M.length,1)]}catch(n){if(!e.rescue(n,[e.const_get(se,"StandardError",!0,!0)]))throw n;try{M=["localtime",j.$strftime("%H:%M:%S %z")],u(R,"[]=",e.to_a(M)),z=M[t(M.length,1)]}finally{e.pop_exception()}}else;return s="localdatetime",g=R,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,L+" "+z),s="docdate",g=R,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,L),s="doctime",g=R,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,z),s="docdatetime",g=R,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,L+" "+z),s="stylesdir",g=R,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,"."),s="iconsdir",g=R,(b=g["$[]"](s))!==!1&&b!==l&&null!=b||g["$[]="](s,e.const_get([e.Object.$$scope],"File",!0,!0).$join(R.$fetch("imagesdir","./images"),"icons")),E!==!1&&E!==l&&null!=E&&((s=P=o["$[]"]("extensions_registry"))===l||null==s||s.$$is_boolean&&1!=s?P=(s=e.const_get([e.Object.$$scope],"Proc",!0,!0)["$==="](D=o["$[]"]("extensions")))===l||null==s||s.$$is_boolean&&1!=s?e.const_get([e.const_get(se,"Extensions",!0,!0).$$scope],"Registry",!0,!0).$new():u(e.const_get(se,"Extensions",!0,!0),"build_registry",[],D.$to_proc()):((s=(g=e.const_get([e.const_get(se,"Extensions",!0,!0).$$scope],"Registry",!0,!0)["$==="](P))!==!1&&g!==l&&null!=g?g:(b=e.const_get([e.Object.$$scope],"RUBY_ENGINE_JRUBY",!0,!0),b!==!1&&b!==l&&null!=b?e.const_get([e.const_get([e.const_get([e.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$$scope],"ExtensionRegistry",!0,!0)["$==="](P):b))===l||null==s||s.$$is_boolean&&1!=s)&&(P=e.const_get([e.const_get(se,"Extensions",!0,!0).$$scope],"Registry",!0,!0).$new()),w.extensions=P.$activate(w)),w.reader=e.const_get(se,"PreprocessorReader",!0,!0).$new(w,r,e.const_get([e.const_get(se,"Reader",!0,!0).$$scope],"Cursor",!0,!0).$new(R["$[]"]("docfile"),w.base_dir))},f.$$arity=-1),e.defn(ie,"$parse",p=function(t){var n,$,r,o,i,a=this,s=l,_=l;return null==t&&(t=l),(n=a.parsed)===l||null==n||n.$$is_boolean&&1!=n?(s=a,t!==!1&&t!==l&&null!=t&&(a.reader=e.const_get(se,"PreprocessorReader",!0,!0).$new(s,t,e.const_get([e.const_get(se,"Reader",!0,!0).$$scope],"Cursor",!0,!0).$new(a.attributes["$[]"]("docfile"),a.base_dir))),$=_=function(){return(r=a.parent_document)===l||null==r||r.$$is_boolean&&1!=r?a.extensions:l}(),(n=$!==!1&&$!==l&&null!=$?_["$preprocessors?"]():$)===l||null==n||n.$$is_boolean&&1!=n||u(_.$preprocessors(),"each",[],(o=function(e){var t,n=o.$$s||this;return null==n.reader&&(n.reader=l),null==e&&(e=l),n.reader=(t=e.$process_method()["$[]"](s,n.reader))!==!1&&t!==l&&null!=t?t:n.reader},o.$$s=a,o.$$arity=1,o)),e.const_get(se,"Parser",!0,!0).$parse(a.reader,s,c(["header_only"],{header_only:a.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),a.$restore_attributes(),(n=($=_!==!1&&_!==l&&null!=_)?_["$treeprocessors?"]():_)===l||null==n||n.$$is_boolean&&1!=n||u(_.$treeprocessors(),"each",[],(i=function(t){var n,$,r,o=(i.$$s,l);return null==t&&(t=l),r=o=t.$process_method()["$[]"](s),$=r!==!1&&r!==l&&null!=r?e.const_get(se,"Document",!0,!0)["$==="](o):r,(n=$!==!1&&$!==l&&null!=$?o["$!="](s):$)===l||null==n||n.$$is_boolean&&1!=n?l:s=o},i.$$s=a,i.$$arity=1,i)),a.parsed=!0,s):a},p.$$arity=-1),e.defn(ie,"$counter",h=function(n,$){var r,o,i=this,a=l,s=l,c=l;return null==$&&($=l),o=a=(s=i.attributes["$[]"](n))["$nil_or_empty?"]()["$!"](),(r=o!==!1&&o!==l&&null!=o?i.counters["$key?"](n):o)===l||null==r||r.$$is_boolean&&1!=r?((r=$["$nil?"]())===l||null==r||r.$$is_boolean&&1!=r?$.$to_i().$to_s()["$=="]($)&&($=$.$to_i()):$=i.$nextval(function(){return a!==!1&&a!==l&&null!=a?s:0}()),c=[n,$],u(i.counters,"[]=",e.to_a(c)),c[t(c.length,1)]):(c=[n,i.$nextval(s)],u(i.counters,"[]=",e.to_a(c)),c[t(c.length,1)]),c=[n,i.counters["$[]"](n)],u(i.attributes,"[]=",e.to_a(c)),c[t(c.length,1)]},h.$$arity=-2),e.defn(ie,"$counter_increment",g=function(t,n){var $=this,r=l;return r=$.$counter(t),e.const_get(se,"AttributeEntry",!0,!0).$new(t,r).$save_to(n.$attributes()),r},g.$$arity=2),e.defn(ie,"$nextval",b=function(t){var n,r=l;return(n=e.const_get([e.Object.$$scope],"Integer",!0,!0)["$==="](t))===l||null==n||n.$$is_boolean&&1!=n?(r=t.$to_i(),(n=r.$to_s()["$!="](t.$to_s()))===l||null==n||n.$$is_boolean&&1!=n?$(r,1):$(t["$[]"](0).$ord(),1).$chr()):$(t,1)},b.$$arity=1),e.defn(ie,"$register",m=function(n,r,o){var i,a,s,c=this,_=l,d=l,f=l,p=l;return null==o&&(o=!1),function(){return _=n,"ids"["$==="](_)?(i=[].concat(e.to_a(r)),d=null==i[0]?l:i[0],f=null==i[1]?l:i[1],(i=f)!==!1&&i!==l&&null!=i||(f=$($("[",d),"]")),o!==!1&&o!==l&&null!=o?(p=[d,f],u(c.references["$[]"]("ids"),"[]=",e.to_a(p)),p[t(p.length,1)]):(i=d,a=c.references["$[]"]("ids"),(s=a["$[]"](i))!==!1&&s!==l&&null!=s?s:a["$[]="](i,f))):"footnotes"["$==="](_)||"indexterms"["$==="](_)?c.references["$[]"](n)["$<<"](r):(i=c.options["$[]"]("catalog_assets"))===l||null==i||i.$$is_boolean&&1!=i?l:c.references["$[]"](n)["$<<"](r)}()},m.$$arity=-3),e.defn(ie,"$footnotes?",y=function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()},y.$$arity=0),e.defn(ie,"$footnotes",v=function(){return this.references["$[]"]("footnotes")},v.$$arity=0),e.defn(ie,"$nested?",w=function(){return this.parent_document["$!"]()["$!"]()},w.$$arity=0),e.defn(ie,"$embedded?",k=function(){return this.attributes["$key?"]("embedded")},k.$$arity=0),e.defn(ie,"$extensions?",x=function(){return this.extensions["$!"]()["$!"]()},x.$$arity=0),e.defn(ie,"$source",O=function(){var e,t=this;return(e=t.reader)===l||null==e||e.$$is_boolean&&1!=e?l:t.reader.$source()},O.$$arity=0),e.defn(ie,"$source_lines",E=function(){var e,t=this;return(e=t.reader)===l||null==e||e.$$is_boolean&&1!=e?l:t.reader.$source_lines()},E.$$arity=0),e.defn(ie,"$doctype",A=function(){var e,t=this;return(e=t.doctype)!==!1&&e!==l&&null!=e?e:t.doctype=t.attributes["$[]"]("doctype")},A.$$arity=0),e.defn(ie,"$backend",S=function(){var e,t=this;return(e=t.backend)!==!1&&e!==l&&null!=e?e:t.backend=t.attributes["$[]"]("backend")},S.$$arity=0),e.defn(ie,"$basebackend?",R=function(e){return this.attributes["$[]"]("basebackend")["$=="](e)},R.$$arity=1),e.defn(ie,"$title",M=function(){return this.attributes["$[]"]("title")},M.$$arity=0),e.defn(ie,"$title=",T=function(n){var $,r=this,o=l;return($=r.header)!==!1&&$!==l&&null!=$||(r.header=e.const_get(se,"Section",!0,!0).$new(r,0)),o=[n],u(r.header,"title=",e.to_a(o)),o[t(o.length,1)]},T.$$arity=1),e.defn(ie,"$doctitle",I=function(t){var n,$,r=this,o=l,i=l,a=l;if(null==t&&(t=c([],{})),(n=(o=r.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())===l||null==n||n.$$is_boolean&&1!=n)if($=i=r.$first_section(),(n=$!==!1&&$!==l&&null!=$?i["$title?"]():$)===l||null==n||n.$$is_boolean&&1!=n){if($=t["$[]"]("use_fallback"),(n=$!==!1&&$!==l&&null!=$?o=r.attributes["$[]"]("untitled-label"):$)===l||null==n||n.$$is_boolean&&1!=n)return l}else o=i.$title();else o=r.$title();return(n=a=t["$[]"]("partition"))===l||null==n||n.$$is_boolean&&1!=n?($=t["$[]"]("sanitize"),(n=$!==!1&&$!==l&&null!=$?o["$include?"]("<"):$)===l||null==n||n.$$is_boolean&&1!=n?o:o.$gsub(e.const_get(se,"XmlSanitizeRx",!0,!0),"").$tr_s(" "," ").$strip()):e.const_get(se,"Title",!0,!0).$new(o,t.$merge(c(["separator"],{separator:function(){return a["$=="](!0)?r.attributes["$[]"]("title-separator"):a}()})))},I.$$arity=-1),e.alias(ie,"name","doctitle"),e.defn(ie,"$author",C=function(){return this.attributes["$[]"]("author")},C.$$arity=0),e.defn(ie,"$revdate",N=function(){return this.attributes["$[]"]("revdate")},N.$$arity=0),e.defn(ie,"$notitle",j=function(){var e,t=this;return e=t.attributes["$key?"]("showtitle")["$!"](),e!==!1&&e!==l&&null!=e?t.attributes["$key?"]("notitle"):e},j.$$arity=0),e.defn(ie,"$noheader",L=function(){return this.attributes["$key?"]("noheader")},L.$$arity=0),e.defn(ie,"$nofooter",z=function(){return this.attributes["$key?"]("nofooter")},z.$$arity=0),e.defn(ie,"$first_section",P=function(){var e,t,n=this;return(e=n["$has_header?"]())===l||null==e||e.$$is_boolean&&1!=e?u((e=n.blocks)!==!1&&e!==l&&null!=e?e:[],"find",[],(t=function(e){t.$$s;return null==e&&(e=l),e.$context()["$=="]("section")},t.$$s=n,t.$$arity=1,t)):n.header},P.$$arity=0),e.defn(ie,"$has_header?",D=function(){var e;return!((e=this.header)===l||null==e||e.$$is_boolean&&1!=e)},D.$$arity=0),e.alias(ie,"header?","has_header?"),e.defn(ie,"$<<",B=function(t){var n=this,$=B.$$p,r=l,o=l,i=l;for($&&(B.$$p=null),o=0,i=arguments.length,r=new Array(i);o<i;o++)r[o]=arguments[o];return t.$context()["$=="]("section")&&n.$assign_index(t),u(n,e.find_super_dispatcher(n,"<<",B,!1),r,$)},B.$$arity=1),e.defn(ie,"$finalize_header",q=function(n,$){var r=this,o=l;return null==$&&($=!0),r.$clear_playback_attributes(n),r.$save_attributes(),$!==!1&&$!==l&&null!=$||(o=["invalid-header",!0],u(n,"[]=",e.to_a(o)),o[t(o.length,1)]),n},q.$$arity=-2),e.defn(ie,"$save_attributes",F=function(){var n,$,r,o,i=this,a=l,s=l,c=l,_=l,d=l,f=l,p=l,h=l,g=l,b=l;return(a=i.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(((n=($=i["$attribute_locked?"]("toc"))!==!1&&$!==l&&null!=$?$:i.attributes_modified["$include?"]("toc"))===l||null==n||n.$$is_boolean&&1!=n)&&(s=["toc",""],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]),((n=($=i["$attribute_locked?"]("sectnums"))!==!1&&$!==l&&null!=$?$:i.attributes_modified["$include?"]("sectnums"))===l||null==n||n.$$is_boolean&&1!=n)&&(s=["sectnums",""],u(a,"[]=",e.to_a(s)),s[t(s.length,1)])),((n=($=a["$key?"]("doctitle"))!==!1&&$!==l&&null!=$?$:(c=i.$doctitle())["$!"]())===l||null==n||n.$$is_boolean&&1!=n)&&(s=["doctitle",c],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]),((n=i.id)===l||null==n||n.$$is_boolean&&1!=n)&&(i.id=a["$[]"]("css-signature")),_=function(){return(n=d=function(){return($=a.$delete("toc2"))===l||null==$||$.$$is_boolean&&1!=$?a["$[]"]("toc"):"left"}())===l||null==n||n.$$is_boolean&&1!=n?l:($=f=a.$fetch("toc-placement","macro"),(n=$!==!1&&$!==l&&null!=$?f["$!="]("auto"):$)===l||null==n||n.$$is_boolean&&1!=n?a["$[]"]("toc-position"):f)}(),(n=($=d!==!1&&d!==l&&null!=d)?(r=d["$empty?"]()["$!"]())!==!1&&r!==l&&null!=r?r:_["$nil_or_empty?"]()["$!"]():d)===l||null==n||n.$$is_boolean&&1!=n||(p="left",h="toc2",g=(n=_["$nil_or_empty?"]()["$!"]())===l||null==n||n.$$is_boolean&&1!=n?(n=d["$empty?"]()["$!"]())===l||null==n||n.$$is_boolean&&1!=n?p:d:_,s=["toc",""],u(a,"[]=",e.to_a(s)),s[t(s.length,1)],s=["toc-placement","auto"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)],b=g,"left"["$==="](b)||"<"["$==="](b)||"&lt;"["$==="](b)?(s=["toc-position","left"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]):"right"["$==="](b)||">"["$==="](b)||"&gt;"["$==="](b)?(s=["toc-position","right"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]):"top"["$==="](b)||"^"["$==="](b)?(s=["toc-position","top"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]):"bottom"["$==="](b)||"v"["$==="](b)?(s=["toc-position","bottom"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]):"preamble"["$==="](b)||"macro"["$==="](b)?(s=["toc-position","content"],u(a,"[]=",e.to_a(s)),s[t(s.length,1)],s=["toc-placement",g],u(a,"[]=",e.to_a(s)),s[t(s.length,1)],h=l):(a.$delete("toc-position"),h=l),h!==!1&&h!==l&&null!=h&&(n="toc-class",$=a,(r=$["$[]"](n))!==!1&&r!==l&&null!=r||$["$[]="](n,h))),(n=a["$key?"]("compat-mode"))===l||null==n||n.$$is_boolean&&1!=n?i.compat_mode=!1:((n=a["$has_key?"]("language"))===l||null==n||n.$$is_boolean&&1!=n||(s=["source-language",a["$[]"]("language")],u(a,"[]=",e.to_a(s)),s[t(s.length,1)]),i.compat_mode=!0),i.outfilesuffix=a["$[]"]("outfilesuffix"),i.header_attributes=a.$dup(),(n=i.parent_document)===l||null==n||n.$$is_boolean&&1!=n?u(e.const_get(se,"FLEXIBLE_ATTRIBUTES",!0,!0),"each",[],(o=function(e){var t,n,$=o.$$s||this;return null==$.attribute_overrides&&($.attribute_overrides=l),null==e&&(e=l),n=$.attribute_overrides["$key?"](e),(t=n!==!1&&n!==l&&null!=n?$.attribute_overrides["$[]"](e):n)===l||null==t||t.$$is_boolean&&1!=t?l:$.attribute_overrides.$delete(e)},o.$$s=i,o.$$arity=1,o)):l},F.$$arity=0),e.defn(ie,"$restore_attributes",U=function(){var e,t=this;return((e=t.parent_document)===l||null==e||e.$$is_boolean&&1!=e)&&t.callouts.$rewind(),t.attributes=t.header_attributes},U.$$arity=0),e.defn(ie,"$clear_playback_attributes",G=function(e){return e.$delete("attribute_entries")},G.$$arity=1),e.defn(ie,"$playback_attributes",H=function(n){var $,r,o=this;return($=n["$key?"]("attribute_entries"))===l||null==$||$.$$is_boolean&&1!=$?l:u(n["$[]"]("attribute_entries"),"each",[],(r=function(n){var $,o=r.$$s||this,i=l,a=l;return null==o.attributes&&(o.attributes=l),null==n&&(n=l),i=n.$name(),($=n.$negate())===l||null==$||$.$$is_boolean&&1!=$?(a=[i,n.$value()],u(o.attributes,"[]=",e.to_a(a)),a[t(a.length,1)],i["$=="]("compat-mode")?o.compat_mode=!0:l):(o.attributes.$delete(i),i["$=="]("compat-mode")?o.compat_mode=!1:l)},r.$$s=o,r.$$arity=1,r))},H.$$arity=1),e.defn(ie,"$set_attribute",Y=function(n,$){var r,o=this,i=l,a=l,s=l;return!!((r=o["$attribute_locked?"](n))===l||null==r||r.$$is_boolean&&1!=r)&&(i=(r=o.max_attribute_value_size)===l||null==r||r.$$is_boolean&&1!=r?o.$apply_attribute_value_subs($):o.$apply_attribute_value_subs($).$limit(o.max_attribute_value_size),a=n,"backend"["$==="](a)?o.$update_backend_attributes(i,o.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]()):"doctype"["$==="](a)?o.$update_doctype_attributes(i):(s=[n,i],u(o.attributes,"[]=",e.to_a(s)),s[t(s.length,1)]),o.attributes_modified["$<<"](n),!0)},Y.$$arity=2),e.defn(ie,"$delete_attribute",K=function(e){var t,n=this;return!!((t=n["$attribute_locked?"](e))===l||null==t||t.$$is_boolean&&1!=t)&&(n.attributes.$delete(e),n.attributes_modified["$<<"](e),!0)},K.$$arity=1),e.defn(ie,"$attribute_locked?",W=function(e){return this.attribute_overrides["$key?"](e)},W.$$arity=1),e.defn(ie,"$apply_attribute_value_subs",X=function(t){var n,$=this,r=l,o=l;return(n=r=e.const_get(se,"AttributeEntryPassMacroRx",!0,!0).$match(t))===l||null==n||n.$$is_boolean&&1!=n?$.$apply_header_subs(t):(n=r["$[]"](1)["$empty?"]()["$!"]())===l||null==n||n.$$is_boolean&&1!=n?r["$[]"](2):(o=$.$resolve_pass_subs(r["$[]"](1)),(n=o["$empty?"]())===l||null==n||n.$$is_boolean&&1!=n?$.$apply_subs(r["$[]"](2),o):r["$[]"](2))},X.$$arity=1),e.defn(ie,"$update_backend_attributes",V=function(n,$){var r,o,i=this,a=l,s=l,c=l,d=l,f=l,p=l,h=l,g=l,b=l,m=l,y=l;return null==$&&($=!1),(r=(o=$)!==!1&&o!==l&&null!=o?o:n!==!1&&n!==l&&null!=n?n["$!="](i.attributes["$[]"]("backend")):n)===l||null==r||r.$$is_boolean&&1!=r?l:(a=i.attributes,s=a["$[]"]("backend"),c=a["$[]"]("basebackend"),d=a["$[]"]("doctype"),(r=n["$start_with?"]("xhtml"))===l||null==r||r.$$is_boolean&&1!=r?(r=n["$start_with?"]("html"))===l||null==r||r.$$is_boolean&&1!=r||a["$[]"]("htmlsyntax")["$=="]("xml")||(f=["htmlsyntax","html"],u(a,"[]=",e.to_a(f)),f[t(f.length,1)]):(f=["htmlsyntax","xml"],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],n=n["$[]"](_(1,-1,!1))),(r=p=e.const_get(se,"BACKEND_ALIASES",!0,!0)["$[]"](n))===l||null==r||r.$$is_boolean&&1!=r||(n=p),s!==!1&&s!==l&&null!=s&&(a.$delete("backend-"+s),d!==!1&&d!==l&&null!=d&&a.$delete("backend-"+s+"-doctype-"+d)),d!==!1&&d!==l&&null!=d&&(f=["doctype-"+d,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],f=["backend-"+n+"-doctype-"+d,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)]),f=["backend",n],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],f=["backend-"+n,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],(r=e.const_get([e.const_get(se,"Converter",!0,!0).$$scope],"BackendInfo",!0,!0)["$==="](i.converter=i.$create_converter()))===l||null==r||r.$$is_boolean&&1!=r?(h=n.$sub(e.const_get(se,"TrailingDigitsRx",!0,!0),""),b=(r=e.const_get(se,"DEFAULT_EXTENSIONS",!0,!0)["$[]"](h))!==!1&&r!==l&&null!=r?r:".html",g=b["$[]"](_(1,-1,!1)),((r=i["$attribute_locked?"]("outfilesuffix"))===l||null==r||r.$$is_boolean&&1!=r)&&(f=["outfilesuffix",b],u(a,"[]=",e.to_a(f)),f[t(f.length,1)])):(h=i.converter.$basebackend(),((r=i["$attribute_locked?"]("outfilesuffix"))===l||null==r||r.$$is_boolean&&1!=r)&&(f=["outfilesuffix",i.converter.$outfilesuffix()],u(a,"[]=",e.to_a(f)),f[t(f.length,1)]),g=i.converter.$filetype()),(r=m=a["$[]"]("filetype"))===l||null==r||r.$$is_boolean&&1!=r||a.$delete("filetype-"+m),f=["filetype",g],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],f=["filetype-"+g,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],(r=y=e.const_get(se,"DEFAULT_PAGE_WIDTHS",!0,!0)["$[]"](h))===l||null==r||r.$$is_boolean&&1!=r?a.$delete("pagewidth"):(f=["pagewidth",y],u(a,"[]=",e.to_a(f)),f[t(f.length,1)]),(r=h["$!="](c))===l||null==r||r.$$is_boolean&&1!=r||(c!==!1&&c!==l&&null!=c&&(a.$delete("basebackend-"+c),d!==!1&&d!==l&&null!=d&&a.$delete("basebackend-"+c+"-doctype-"+d)),f=["basebackend",h],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],f=["basebackend-"+h,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)],d!==!1&&d!==l&&null!=d&&(f=["basebackend-"+h+"-doctype-"+d,""],u(a,"[]=",e.to_a(f)),f[t(f.length,1)])),i.backend=l)},V.$$arity=-2),
e.defn(ie,"$update_doctype_attributes",J=function(n){var $,r=this,o=l,i=l,a=l,s=l,c=l;return($=n!==!1&&n!==l&&null!=n?n["$!="](r.attributes["$[]"]("doctype")):n)===l||null==$||$.$$is_boolean&&1!=$?l:(o=r.attributes,i=o["$[]"]("doctype"),a=o["$[]"]("backend"),s=o["$[]"]("basebackend"),i!==!1&&i!==l&&null!=i&&(o.$delete("doctype-"+i),a!==!1&&a!==l&&null!=a&&o.$delete("backend-"+a+"-doctype-"+i),s!==!1&&s!==l&&null!=s&&o.$delete("basebackend-"+s+"-doctype-"+i)),c=["doctype",n],u(o,"[]=",e.to_a(c)),c[t(c.length,1)],c=["doctype-"+n,""],u(o,"[]=",e.to_a(c)),c[t(c.length,1)],a!==!1&&a!==l&&null!=a&&(c=["backend-"+a+"-doctype-"+n,""],u(o,"[]=",e.to_a(c)),c[t(c.length,1)]),s!==!1&&s!==l&&null!=s&&(c=["basebackend-"+s+"-doctype-"+n,""],u(o,"[]=",e.to_a(c)),c[t(c.length,1)]),r.doctype=l)},J.$$arity=1),e.defn(ie,"$create_converter",Z=function(){var n,$=this,r=l,o=l,i=l,a=l,s=l,_=l;return r=c([],{}),o=["htmlsyntax",$.attributes["$[]"]("htmlsyntax")],u(r,"[]=",e.to_a(o)),o[t(o.length,1)],i=function(){return(n=a=$.options["$[]"]("template_dir"))===l||null==n||n.$$is_boolean&&1!=n?(n=i=$.options["$[]"]("template_dirs"))===l||null==n||n.$$is_boolean&&1!=n?l:(o=["template_dirs",i],u(r,"[]=",e.to_a(o)),o[t(o.length,1)]):(o=["template_dirs",[a]],u(r,"[]=",e.to_a(o)),o[t(o.length,1)])}(),i!==!1&&i!==l&&null!=i&&(o=["template_cache",$.options.$fetch("template_cache",!0)],u(r,"[]=",e.to_a(o)),o[t(o.length,1)],o=["template_engine",$.options["$[]"]("template_engine")],u(r,"[]=",e.to_a(o)),o[t(o.length,1)],o=["template_engine_options",$.options["$[]"]("template_engine_options")],u(r,"[]=",e.to_a(o)),o[t(o.length,1)],o=["eruby",$.options["$[]"]("eruby")],u(r,"[]=",e.to_a(o)),o[t(o.length,1)],o=["safe",$.safe],u(r,"[]=",e.to_a(o)),o[t(o.length,1)]),_=(n=s=$.options["$[]"]("converter"))===l||null==n||n.$$is_boolean&&1!=n?e.const_get([e.const_get(se,"Converter",!0,!0).$$scope],"Factory",!0,!0).$default(!1):e.const_get([e.const_get(se,"Converter",!0,!0).$$scope],"Factory",!0,!0).$new(e.const_get([e.Object.$$scope],"Hash",!0,!0)["$[]"]($.$backend(),s)),_.$create($.$backend(),r)},Z.$$arity=0),e.defn(ie,"$convert",Q=function($){var r,o,i,a=this,s=l,_=l,d=l,f=l,p=l;return null==$&&($=c([],{})),((r=a.parsed)===l||null==r||r.$$is_boolean&&1!=r)&&a.$parse(),((r=(o=n(a.safe,e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SERVER",!0,!0)))!==!1&&o!==l&&null!=o?o:$["$empty?"]())===l||null==r||r.$$is_boolean&&1!=r)&&(s=["outfile",$["$[]"]("outfile")],u(a.attributes,"[]=",e.to_a(s)),((r=s[t(s.length,1)])===l||null==r||r.$$is_boolean&&1!=r)&&a.attributes.$delete("outfile"),s=["outdir",$["$[]"]("outdir")],u(a.attributes,"[]=",e.to_a(s)),((r=s[t(s.length,1)])===l||null==r||r.$$is_boolean&&1!=r)&&a.attributes.$delete("outdir")),((r=a.converter)===l||null==r||r.$$is_boolean&&1!=r)&&a.$fail("asciidoctor: FAILED: missing converter for backend '"+a.$backend()+"'. Processing aborted."),a.$doctype()["$=="]("inline")?(o=_=a.blocks["$[]"](0),d=(r=o!==!1&&o!==l&&null!=o?_.$content_model()["$!="]("compound"):o)===l||null==r||r.$$is_boolean&&1!=r?l:_.$content()):(f=function(){return(r=function(){return(o=$["$key?"]("header_footer"))===l||null==o||o.$$is_boolean&&1!=o?a.options["$[]"]("header_footer"):$["$[]"]("header_footer")}())===l||null==r||r.$$is_boolean&&1!=r?"embedded":"document"}(),d=a.converter.$convert(a,f)),((r=a.parent_document)===l||null==r||r.$$is_boolean&&1!=r)&&(o=p=a.extensions,(r=o!==!1&&o!==l&&null!=o?p["$postprocessors?"]():o)===l||null==r||r.$$is_boolean&&1!=r||u(p.$postprocessors(),"each",[],(i=function(e){var t=i.$$s||this;return null==e&&(e=l),d=e.$process_method()["$[]"](t,d)},i.$$s=a,i.$$arity=1,i))),d},Q.$$arity=-1),e.alias(ie,"render","convert"),e.defn(ie,"$write",ee=function(t,n){var $,r,o=this;return($=e.const_get(se,"Writer",!0,!0)["$==="](o.converter))===l||null==$||$.$$is_boolean&&1!=$?(($=n["$respond_to?"]("write"))===l||null==$||$.$$is_boolean&&1!=$?u(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[n,"w"],(r=function(e){r.$$s;return null==e&&(e=l),e.$write(t)},r.$$s=o,r.$$arity=1,r)):(($=t["$nil_or_empty?"]())===l||null==$||$.$$is_boolean&&1!=$)&&(n.$write(t.$chomp()),n.$write(e.const_get(se,"EOL",!0,!0))),l):o.converter.$write(t,n)},ee.$$arity=2),e.defn(ie,"$content",te=function(){var t=this,n=te.$$p,$=l,r=l,o=l;for(n&&(te.$$p=null),r=0,o=arguments.length,$=new Array(o);r<o;r++)$[r]=arguments[r];return t.attributes.$delete("title"),u(t,e.find_super_dispatcher(t,"content",te,!1),$,n)},te.$$arity=0),e.defn(ie,"$docinfo",ne=function(t,$){var o,i,a,s=this,_=l,d=l,f=l,p=l,h=l,g=l,b=l,m=l,y=l;return null==t&&(t="head"),null==$&&($=l),(o=n(s.$safe(),e.const_get([e.const_get(se,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))===l||null==o||o.$$is_boolean&&1!=o?(_=function(){return t["$=="]("head")?l:"-"+t}(),$!==!1&&$!==l&&null!=$||($=s.outfilesuffix),d=s.attributes["$[]"]("docinfodir"),f=l,p=(o=(p=s.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===l||null==o||o.$$is_boolean&&1!=o?u(p.$split(","),"map",[],"strip".$to_proc()):(o=s.attributes["$key?"]("docinfo2"))===l||null==o||o.$$is_boolean&&1!=o?(o=s.attributes["$key?"]("docinfo1"))===l||null==o||o.$$is_boolean&&1!=o?function(){return p!==!1&&p!==l&&null!=p?["private"]:l}():["shared"]:["private","shared"],p!==!1&&p!==l&&null!=p&&(h="docinfo"+_+$,((o=p["$&"](["shared","shared-"+t])["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o)&&(g=s.$normalize_system_path(h,d),(o=f=s.$read_asset(g,c(["normalize"],{normalize:!0})))===l||null==o||o.$$is_boolean&&1!=o||(o=(i=b)!==!1&&i!==l&&null!=i?i:b=s.$resolve_docinfo_subs())===l||null==o||o.$$is_boolean&&1!=o||(f=function(){return(o=b["$=="]("attributes"))===l||null==o||o.$$is_boolean&&1!=o?s.$apply_subs(f,b):s.$sub_attributes(f)}())),((o=(i=s.attributes["$[]"]("docname")["$nil_or_empty?"]())!==!1&&i!==l&&null!=i?i:p["$&"](["private","private-"+t])["$empty?"]())===l||null==o||o.$$is_boolean&&1!=o)&&(g=s.$normalize_system_path(s.attributes["$[]"]("docname")+"-"+h,d),(o=m=s.$read_asset(g,c(["normalize"],{normalize:!0})))===l||null==o||o.$$is_boolean&&1!=o||((o=(i=b)!==!1&&i!==l&&null!=i?i:b=s.$resolve_docinfo_subs())===l||null==o||o.$$is_boolean&&1!=o||(m=function(){return(o=b["$=="]("attributes"))===l||null==o||o.$$is_boolean&&1!=o?s.$apply_subs(m,b):s.$sub_attributes(m)}()),f=function(){return f!==!1&&f!==l&&null!=f?""+f+e.const_get(se,"EOL",!0,!0)+m:m}()))),i=s.extensions,(o=i!==!1&&i!==l&&null!=i?s["$docinfo_processors?"](t):i)===l||null==o||o.$$is_boolean&&1!=o||(y=r(u(s.docinfo_processor_extensions["$[]"](t),"map",[],(a=function(e){var t=a.$$s||this;return null==e&&(e=l),e.$process_method()["$[]"](t)},a.$$s=s,a.$$arity=1,a)).$compact(),e.const_get(se,"EOL",!0,!0)),f=function(){return f!==!1&&f!==l&&null!=f?""+f+e.const_get(se,"EOL",!0,!0)+y:y}()),""+f):""},ne.$$arity=-1),e.defn(ie,"$resolve_docinfo_subs",$e=function(){var e,t=this,n=l;return(e=t.attributes["$key?"]("docinfosubs"))===l||null==e||e.$$is_boolean&&1!=e?"attributes":(n=t.$resolve_subs(t.attributes["$[]"]("docinfosubs"),"block",l,"docinfo"),(e=n["$empty?"]())===l||null==e||e.$$is_boolean&&1!=e?n:l)},$e.$$arity=0),e.defn(ie,"$docinfo_processors?",re=function(n){var $,r,o=this,i=l;return null==n&&(n="head"),($=o.docinfo_processor_extensions["$key?"](n))===l||null==$||$.$$is_boolean&&1!=$?(r=o.extensions,($=r!==!1&&r!==l&&null!=r?o.document.$extensions()["$docinfo_processors?"](n):r)===l||null==$||$.$$is_boolean&&1!=$?(i=[n,!1],u(o.docinfo_processor_extensions,"[]=",e.to_a(i)),i[t(i.length,1)]):(i=[n,o.document.$extensions().$docinfo_processors(n)],u(o.docinfo_processor_extensions,"[]=",e.to_a(i)),i[t(i.length,1)])["$!"]()["$!"]()):o.docinfo_processor_extensions["$[]"](n)["$!="](!1)},re.$$arity=-1),e.defn(ie,"$to_s",oe=function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+function(){return(e=t.header["$!="](l))===l||null==e||e.$$is_boolean&&1!=e?l:t.header.$title()}().$inspect()+", blocks: "+t.blocks.$size()+"}>"},oe.$$arity=0)}(p.base,e.const_get(h,"AbstractBlock",!0,!0),h)}(o.base,i)},Opal.modules["asciidoctor/inline"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,i=e.send,l=e.hash2;return e.add_stubs(["$attr_reader","$attr_accessor","$[]","$nil_or_empty?","$update_attributes","$convert","$converter"]),function(t,n){var a,s=a=r(t,"Asciidoctor"),c=(s.$$proto,s.$$scope),u=n.slice().concat(c);!function(t,n,r){function a(){}var s,c,u,_,d=a=o(t,n,"Inline",a),f=(d.$$proto,d.$$scope);r.slice().concat(f);d.$attr_reader("text"),d.$attr_reader("type"),d.$attr_accessor("target"),e.defn(d,"$initialize",s=function(t,n,r,o){var a,c=this,u=s.$$p,_=$;return null==r&&(r=$),null==o&&(o=l([],{})),u&&(s.$$p=null),i(c,e.find_super_dispatcher(c,"initialize",s,!1),[t,n],null),c.node_name="inline_"+n,c.text=r,c.id=o["$[]"]("id"),c.type=o["$[]"]("type"),c.target=o["$[]"]("target"),(a=(_=o["$[]"]("attributes"))["$nil_or_empty?"]())===$||null==a||a.$$is_boolean&&1!=a?c.$update_attributes(_):$},s.$$arity=-3),e.defn(d,"$block?",c=function(){return!1},c.$$arity=0),e.defn(d,"$inline?",u=function(){return!0},u.$$arity=0),e.defn(d,"$convert",_=function(){var e=this;return e.$converter().$convert(e)},_.$$arity=0),e.alias(d,"render","convert")}(c.base,e.const_get(u,"AbstractNode",!0,!0),u)}(t.base,n)},Opal.modules["asciidoctor/list"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,i=e.send;return e.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),function(t,n){var l,a=l=r(t,"Asciidoctor"),s=(a.$$proto,a.$$scope),c=n.slice().concat(s);!function(t,n,r){function l(){}var a,s,c,u,_=l=o(t,n,"List",l),d=_.$$proto,f=_.$$scope;r.slice().concat(f);d.context=d.document=d.style=$,e.alias(_,"items","blocks"),e.alias(_,"content","blocks"),e.alias(_,"items?","blocks?"),e.defn(_,"$initialize",a=function(t,n){var r=this,o=a.$$p,l=$,s=$,c=$;for(o&&(a.$$p=null),s=0,c=arguments.length,l=new Array(c);s<c;s++)l[s]=arguments[s];return i(r,e.find_super_dispatcher(r,"initialize",a,!1),l,o)},a.$$arity=2),e.defn(_,"$outline?",s=function(){var e,t=this;return(e=t.context["$=="]("ulist"))!==!1&&e!==$&&null!=e?e:t.context["$=="]("olist")},s.$$arity=0),e.defn(_,"$convert",c=function(){var t=this,n=c.$$p,r=$,o=$,l=$,a=$;for(n&&(c.$$p=null),l=0,a=arguments.length,o=new Array(a);l<a;l++)o[l]=arguments[l];return t.context["$=="]("colist")?(r=i(t,e.find_super_dispatcher(t,"convert",c,!1),o,n),t.document.$callouts().$next_list(),r):i(t,e.find_super_dispatcher(t,"convert",c,!1),o,n)},c.$$arity=0),e.alias(_,"render","convert"),e.defn(_,"$to_s",u=function(){var e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", style: "+e.style.$inspect()+", items: "+e.$items().$size()+"}>"},u.$$arity=0)}(s.base,e.const_get(c,"AbstractBlock",!0,!0),c),function(t,n,r){function l(){}var a,s,c,u,_,d,f,p=l=o(t,n,"ListItem",l),h=p.$$proto,g=p.$$scope,b=r.slice().concat(g);h.text=h.blocks=$,e.alias(p,"list","parent"),p.$attr_accessor("marker"),e.defn(p,"$initialize",a=function(t,n){var r=this,o=a.$$p;return null==n&&(n=$),o&&(a.$$p=null),i(r,e.find_super_dispatcher(r,"initialize",a,!1),[t,"list_item"],null),r.text=n,r.level=t.$level()},a.$$arity=-2),e.defn(p,"$text?",s=function(){return this.text["$nil_or_empty?"]()["$!"]()},s.$$arity=0),e.defn(p,"$text",c=function(){var e=this;return e.$apply_subs(e.text)},c.$$arity=0),e.defn(p,"$simple?",u=function(){var t,n,r=this,o=$;return(t=r.blocks["$empty?"]())!==!1&&t!==$&&null!=t?t:(n=r.blocks.$size()["$=="](1)?e.const_get(b,"List",!0,!0)["$==="](o=r.blocks["$[]"](0)):r.blocks.$size()["$=="](1),n!==!1&&n!==$&&null!=n?o["$outline?"]():n)},u.$$arity=0),e.defn(p,"$compound?",_=function(){return this["$simple?"]()["$!"]()},_.$$arity=0),e.defn(p,"$fold_first",d=function(t,n){var r,o,i,l,a,s,c=this,u=$,_=$;return null==t&&(t=!1),null==n&&(n=!1),i=u=c.blocks["$[]"](0),o=i!==!1&&i!==$&&null!=i?e.const_get(b,"Block",!0,!0)["$==="](u):i,(r=o!==!1&&o!==$&&null!=o?(i=(l=u.$context()["$=="]("paragraph"))?t["$!"]():u.$context()["$=="]("paragraph"))!==!1&&i!==$&&null!=i?i:(a=(s=n)!==!1&&s!==$&&null!=s?s:t["$!"](),l=a!==!1&&a!==$&&null!=a?u.$context()["$=="]("literal"):a,l!==!1&&l!==$&&null!=l?u["$option?"]("listparagraph"):l):o)===$||null==r||r.$$is_boolean&&1!=r||(_=c.$blocks().$shift(),((r=c.text["$nil_or_empty?"]())===$||null==r||r.$$is_boolean&&1!=r)&&_.$lines().$unshift(c.text),c.text=_.$source()),$},d.$$arity=-1),e.defn(p,"$to_s",f=function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {list_context: "+t.$parent().$context().$inspect()+", text: "+t.text.$inspect()+", blocks: "+((e=t.blocks)!==!1&&e!==$&&null!=e?e:[]).$size()+"}>"},f.$$arity=0)}(s.base,e.const_get(c,"AbstractBlock",!0,!0),c)}(t.base,n)},Opal.modules["asciidoctor/parser"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var a=(e.top,e),s=[e],c=e.nil,u=(e.breaker,e.slice,e.module),_=e.klass,d=e.send,f=e.hash2,p=e.hash,h=e.range,g=e.gvars;return e.add_stubs(["$new","$lambda","$start_with?","$=~","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$<<","$parse_block_metadata_lines","$is_next_line_document_title?","$has_key?","$finalize_header","$nil_or_empty?","$attributes","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$set_attribute","$delete","$source_location=","$header","$[]=","$id","$parse_style_attribute","$key?","$parse_header_metadata","$==","$doctype","$parse_manpage_header","$match","$sub_attributes","$downcase","$rstrip","$strip","$warn","$prev_line_info","$skip_blank_lines","$is_next_line_section?","$initialize_section","$level","$tr_s","$join","$read_lines_until","$backend","$context","$empty?","$blocks","$has_header?","$!","$!=","$attr?","$attr","$document","$special","$include?","$sectname","$+","$to_i","$>","$line_info","$size","$*","$next_block","$blocks?","$style","$context=","$style=","$parent=","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$extensions","$block_macros?","$===","$parse_block_metadata_line","$advance","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$chr","$lstrip","$>=","$length","$end_with?","$parse_attributes","$attribute_missing","$clear","$registered_for_block_macro?","$config","$each","$process_method","$replace","$peek_line","$path","$lineno","$next_list_item","$callout_ids","$callouts","$items","$next_list","$next_outline_list","$marker","$find","$next_labeled_list","$is_section_title?","$underline_style_section_titles","$generate_id","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$catalog_inline_anchors","$post_match","$map!","$split","$pop","$build_block","$blockquote?","$chop","$tr","$rekey","$next_table","$concat","$title?","$register","$basename","$sub_specialchars","$assign_caption","$ord","$caption","$caption=","$title","$update","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$<=","$<","$nil?","$lines","$parse_blocks","$resolve_list_marker","$items?","$parent","$scan","$marker=","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$delete_at","$sectname=","$special=","$update_attributes","$peek_lines","$is_single_line_section_title?","$is_two_line_section_title?","$single_line_section_level","$abs","$line_length","$section_level","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$map","$each_with_index","$push","$to_a","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$delete_attribute","$save_to","$resolve_ordered_list_marker","$chomp","$roman_numeral_to_int","$parse_colspecs","$create_columns","$has_header_option=","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$buffer_has_unclosed_quotes?","$pre_match","$skip_matched_delimiter","$buffer","$buffer=","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$partition_header_footer","$upto","$shorthand_property_syntax","$each_char","$call","$sub!","$gsub!","$%","$begin","$gsub"]),function(a,s){var b,m=b=u(a,"Asciidoctor"),y=(m.$$proto,m.$$scope),v=s.slice().concat(y);!function(a,s,u){function b(){}var m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U,G,H,Y,K,W,X,V,J,Z,Q,ee,te,ne,$e,re,oe,ie,le,ae,se,ce,ue,_e=b=_(a,null,"Parser",b),de=(_e.$$proto,_e.$$scope),fe=u.slice().concat(de);e.cdecl(de,"BlockMatchData",e.const_get(fe,"Struct",!0,!0).$new("context","masq","tip","terminator")),e.cdecl(de,"TabRx",/\t/),e.cdecl(de,"TabIndentRx",/^\t+/),e.cdecl(de,"StartOfBlockProc",d(_e,"lambda",[],(m=function(t){var n,$,r=m.$$s||this;return null==t&&(t=c),$=t["$start_with?"]("["),(n=$!==!1&&$!==c&&null!=$?e.const_get(fe,"BlockAttributeLineRx",!0,!0)["$=~"](t):$)!==!1&&n!==c&&null!=n?n:r["$is_delimited_block?"](t)},m.$$s=_e,m.$$arity=1,m))),e.cdecl(de,"StartOfListProc",d(_e,"lambda",[],(y=function(t){y.$$s;return null==t&&(t=c),e.const_get(fe,"AnyListRx",!0,!0)["$=~"](t)},y.$$s=_e,y.$$arity=1,y))),e.cdecl(de,"StartOfBlockOrListProc",d(_e,"lambda",[],(v=function(t){var n,$,r,o=v.$$s||this;return null==t&&(t=c),(n=($=o["$is_delimited_block?"](t))!==!1&&$!==c&&null!=$?$:(r=t["$start_with?"]("["),r!==!1&&r!==c&&null!=r?e.const_get(fe,"BlockAttributeLineRx",!0,!0)["$=~"](t):r))!==!1&&n!==c&&null!=n?n:e.const_get(fe,"AnyListRx",!0,!0)["$=~"](t)},v.$$s=_e,v.$$arity=1,v))),e.cdecl(de,"NoOp",c),e.defn(_e,"$initialize",w=function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")},w.$$arity=0),e.defs(_e,"$parse",k=function(t,n,$){var r,o,i,l=this,a=c,s=c;if(null==$&&($=f([],{})),a=l.$parse_document_header(t,n),(r=$["$[]"]("header_only"))===c||null==r||r.$$is_boolean&&1!=r)for(;(o=t["$has_more_lines?"]())!==c&&null!=o&&(!o.$$is_boolean||1==o);)i=l.$next_section(t,n,a),o=e.to_ary(i),s=null==o[0]?c:o[0],a=null==o[1]?c:o[1],s!==!1&&s!==c&&null!=s&&n["$<<"](s);else;return n},k.$$arity=-3),e.defs(_e,"$parse_document_header",x=function(n,$){var r,o,i=this,l=c,a=c,s=c,u=c,_=c,f=c,h=c,g=c,b=c,m=c,y=c,v=c;return l=i.$parse_block_metadata_lines(n,$),o=a=i["$is_next_line_document_title?"](n,l),(r=o!==!1&&o!==c&&null!=o?l["$has_key?"]("title"):o)===c||null==r||r.$$is_boolean&&1!=r?(s=c,((r=(u=$.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===c||null==r||r.$$is_boolean&&1!=r)&&(_=[s=u],d($,"title=",e.to_a(_)),_[t(_.length,1)]),f=c,a!==!1&&a!==c&&null!=a&&((r=$.$sourcemap())===c||null==r||r.$$is_boolean&&1!=r||(h=n.$cursor()),o=i.$parse_section_title(n,$),r=e.to_ary(o),$["$id="](null==r[0]?c:r[0]),null==r[1]?c:r[1],g=null==r[2]?c:r[2],null==r[3]?c:r[3],b=null==r[4]?c:r[4],s!==!1&&s!==c&&null!=s||(_=[s=g],d($,"title=",e.to_a(_)),_[t(_.length,1)]),b!==!1&&b!==c&&null!=b||$.$set_attribute("compat-mode",""),(r=m=l.$delete("separator"))===c||null==r||r.$$is_boolean&&1!=r||$.$set_attribute("title-separator",m),h!==!1&&h!==c&&null!=h&&(_=[h],d($.$header(),"source_location=",e.to_a(_)),_[t(_.length,1)]),_=["doctitle",f=g],d($.$attributes(),"[]=",e.to_a(_)),_[t(_.length,1)],(r=$.$id())===c||null==r||r.$$is_boolean&&1!=r?((r=y=l.$delete(1))===c||null==r||r.$$is_boolean&&1!=r||(v=p(1,y),i.$parse_style_attribute(v,n),(r=v["$key?"]("id"))===c||null==r||r.$$is_boolean&&1!=r||(_=["id",v["$[]"]("id")],d(l,"[]=",e.to_a(_)),_[t(_.length,1)])),_=[l.$delete("id")],d($,"id=",e.to_a(_)),_[t(_.length,1)]):(l.$delete(1),l.$delete("id")),i.$parse_header_metadata(n,$)),((r=(o=(u=$.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())!==!1&&o!==c&&null!=o?o:u["$=="](f))===c||null==r||r.$$is_boolean&&1!=r)&&(_=[s=u],d($,"title=",e.to_a(_)),_[t(_.length,1)]),s!==!1&&s!==c&&null!=s&&(_=["doctitle",s],d($.$attributes(),"[]=",e.to_a(_)),_[t(_.length,1)]),$.$doctype()["$=="]("manpage")&&i.$parse_manpage_header(n,$),$.$finalize_header(l)):$.$finalize_header(l,!1)},x.$$arity=2),e.defs(_e,"$parse_manpage_header",O=function(n,$){var r,o=this,i=c,l=c,a=c,s=c;return(r=i=e.const_get(fe,"ManpageTitleVolnumRx",!0,!0).$match($.$attributes()["$[]"]("doctitle")))===c||null==r||r.$$is_boolean&&1!=r?(o.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed manpage title"),l=["mantitle",$.$attributes()["$[]"]("doctitle")],d($.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)],l=["manvolnum","1"],d($.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)]):(l=["mantitle",$.$sub_attributes(i["$[]"](1).$rstrip().$downcase())],d($.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)],l=["manvolnum",i["$[]"](2).$strip()],d($.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)]),n.$skip_blank_lines(),(r=o["$is_next_line_section?"](n,f([],{})))===c||null==r||r.$$is_boolean&&1!=r?o.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section expected"):(a=o.$initialize_section(n,$,f([],{})),a.$level()["$=="](1)?(s=n.$read_lines_until(f(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),(r=i=e.const_get(fe,"ManpageNamePurposeRx",!0,!0).$match(s))===c||null==r||r.$$is_boolean&&1!=r?o.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": malformed name section body"):(l=["manname",$.$sub_attributes(i["$[]"](1))],d($.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)],l=["manpurpose",i["$[]"](2)],d($.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)],$.$backend()["$=="]("manpage")?(l=["docname",$.$attributes()["$[]"]("manname")],d($.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)],l=["outfilesuffix","."+$.$attributes()["$[]"]("manvolnum")],d($.$attributes(),"[]=",e.to_a(l)),l[t(l.length,1)]):c)):o.$warn("asciidoctor: ERROR: "+n.$prev_line_info()+": name section title must be at level 1"))},O.$$arity=2),e.defs(_e,"$next_section",E=function(o,i,l){var a,s,u,_,p=this,h=c,g=c,b=c,m=c,y=c,v=c,w=c,k=c,x=c,O=c,E=c,A=c,S=c,R=c,M=c,T=c,I=c;for(null==l&&(l=f([],{})),h=!1,g=!1,b=!1,s=(u=i.$context()["$=="]("document"))?i.$blocks()["$empty?"]():i.$context()["$=="]("document"),(a=s!==!1&&s!==c&&null!=s?(u=(_=m=i["$has_header?"]())!==!1&&_!==c&&null!=_?_:l.$delete("invalid-header"))!==!1&&u!==c&&null!=u?u:p["$is_next_line_section?"](o,l)["$!"]():s)===c||null==a||a.$$is_boolean&&1!=a?(y=i.$document().$doctype(),w=p.$initialize_section(o,i,l),l=function(){return(a=O=l["$[]"]("title"))===c||null==a||a.$$is_boolean&&1!=a?f([],{}):f(["title"],{title:O})}(),k=w.$level(),(a=(s=k["$=="](0))?y["$=="]("book"):k["$=="](0))===c||null==a||a.$$is_boolean&&1!=a?x=[n(k,1)]:(g=w.$special()["$!"](),s=w.$special(),x=(a=s!==!1&&s!==c&&null!=s?["preface","appendix"]["$include?"](w.$sectname()):s)===c||null==a||a.$$is_boolean&&1!=a?[n(k,1)]:[n(k,2)])):(y=i.$doctype(),(a=(s=m)!==!1&&s!==c&&null!=s?s:(u=y["$=="]("book"))?l["$[]"](1)["$!="]("abstract"):y["$=="]("book"))===c||null==a||a.$$is_boolean&&1!=a||(h=b=e.const_get(fe,"Block",!0,!0).$new(i,"preamble",f(["content_model"],{content_model:"compound"})),(a=(s=y["$=="]("book"))?i["$attr?"]("preface-title"):y["$=="]("book"))===c||null==a||a.$$is_boolean&&1!=a||(v=[i.$attr("preface-title")],d(h,"title=",e.to_a(v)),v[t(v.length,1)]),i["$<<"](h)),w=i,k=0,x=(a=i.$attributes()["$has_key?"]("fragment"))===c||null==a||a.$$is_boolean&&1!=a?y["$=="]("book")?[0,1]:[1]:c),o.$skip_blank_lines();(s=o["$has_more_lines?"]())!==c&&null!=s&&(!s.$$is_boolean||1==s);){if(p.$parse_block_metadata_lines(o,w,l),(s=E=p["$is_next_line_section?"](o,l))===c||null==s||s.$$is_boolean&&1!=s)S=o.$line_info(),(s=R=p.$next_block(o,(u=b)!==!1&&u!==c&&null!=u?u:w,l,f(["parse_metadata"],{parse_metadata:!1})))===c||null==s||s.$$is_boolean&&1!=s||(g!==!1&&g!==c&&null!=g&&((s=w["$blocks?"]()["$!"]())===c||null==s||s.$$is_boolean&&1!=s?w.$blocks().$size()["$=="](1)&&(M=w.$blocks()["$[]"](0),u=b["$!"](),(s=u!==!1&&u!==c&&null!=u?M.$content_model()["$=="]("compound"):u)===c||null==s||s.$$is_boolean&&1!=s?(s=M.$content_model()["$!="]("compound"))===c||null==s||s.$$is_boolean&&1!=s||(b=e.const_get(fe,"Block",!0,!0).$new(w,"open",f(["content_model"],{content_model:"compound"})),v=["partintro"],d(b,"style=",e.to_a(v)),v[t(v.length,1)],w.$blocks().$shift(),M.$style()["$=="]("partintro")&&(v=["paragraph"],d(M,"context=",e.to_a(v)),v[t(v.length,1)],v=[c],d(M,"style=",e.to_a(v)),v[t(v.length,1)]),v=[b],d(M,"parent=",e.to_a(v)),v[t(v.length,1)],b["$<<"](M),v=[b],d(R,"parent=",e.to_a(v)),v[t(v.length,1)],w["$<<"](b)):p.$warn("asciidoctor: ERROR: "+S+": illegal block content outside of partintro block")):(s=R.$style()["$!="]("partintro"))===c||null==s||s.$$is_boolean&&1!=s||(R.$context()["$=="]("paragraph")?(v=["open"],d(R,"context=",e.to_a(v)),v[t(v.length,1)],v=["partintro"],d(R,"style=",e.to_a(v)),v[t(v.length,1)]):(b=e.const_get(fe,"Block",!0,!0).$new(w,"open",f(["content_model"],{content_model:"compound"})),v=["partintro"],d(b,"style=",e.to_a(v)),v[t(v.length,1)],v=[b],d(R,"parent=",e.to_a(v)),v[t(v.length,1)],w["$<<"](b)))),((s=b)!==!1&&s!==c&&null!=s?s:w)["$<<"](R),l=f([],{}));else{if(E=n(E,w.$document().$attr("leveloffset",0).$to_i()),(s=(u=$(E,k))!==!1&&u!==c&&null!=u?u:(_=w.$context()["$=="]("document"))?E["$=="](0):w.$context()["$=="]("document"))===c||null==s||s.$$is_boolean&&1!=s){(s=(u=E["$=="](0))?y["$!="]("book"):E["$=="](0))===c||null==s||s.$$is_boolean&&1!=s||p.$warn("asciidoctor: ERROR: "+o.$line_info()+": only book doctypes can contain level 0 sections");break}(s=(u=E["$=="](0))?y["$!="]("book"):E["$=="](0))===c||null==s||s.$$is_boolean&&1!=s?(s=(u=x!==!1&&x!==c&&null!=x)?x["$include?"](E)["$!"]():x)===c||null==s||s.$$is_boolean&&1!=s||p.$warn(n(n("asciidoctor: WARNING: "+o.$line_info()+": section title out of sequence: ","expected "+function(){return(s=$(x.$size(),1))===c||null==s||s.$$is_boolean&&1!=s?"level":"levels"}()+" "+r(x," or ")+", "),"got level "+E)):p.$warn("asciidoctor: ERROR: "+o.$line_info()+": only book doctypes can contain level 0 sections"),u=p.$next_section(o,w,l),s=e.to_ary(u),A=null==s[0]?c:s[0],l=null==s[1]?c:s[1],w["$<<"](A)}o.$skip_blank_lines()}if(g!==!1&&g!==c&&null!=g)s=w["$blocks?"](),((a=s!==!1&&s!==c&&null!=s?w.$blocks()["$[]"](-1).$context()["$=="]("section"):s)===c||null==a||a.$$is_boolean&&1!=a)&&p.$warn("asciidoctor: ERROR: "+o.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(h!==!1&&h!==c&&null!=h)if(T=i,(a=h["$blocks?"]())===c||null==a||a.$$is_boolean&&1!=a)T.$blocks().$shift();else if(u=e.const_get(fe,"Compliance",!0,!0).$unwrap_standalone_preamble(),s=u!==!1&&u!==c&&null!=u?T.$blocks().$size()["$=="](1):u,(a=s!==!1&&s!==c&&null!=s?y["$!="]("book"):s)!==c&&null!=a&&(!a.$$is_boolean||1==a))for(T.$blocks().$shift();(s=I=h.$blocks().$shift())!==c&&null!=s&&(!s.$$is_boolean||1==s);)v=[T],d(I,"parent=",e.to_a(v)),v[t(v.length,1)],T["$<<"](I);return[function(){return(a=w["$!="](i))===c||null==a||a.$$is_boolean&&1!=a?c:w}(),l.$dup()]},E.$$arity=-3),e.defs(_e,"$next_block",A=function(r,i,l,a){var s,u,_,p,g,b,m,y,v,w,k=this,x=c,O=c,E=c,A=c,S=c,R=c,M=c,T=c,I=c,C=c,N=c,j=c,L=c,z=c,P=c,D=c,B=c,q=c,F=c,U=c,G=c,H=c,Y=c,K=c,W=c,X=c,V=c,J=c,Z=c,Q=c,ee=c,te=c,ne=c,$e=c,re=c,oe=c,ie=c,le=c,ae=c,se=c,ce=c,ue=c,_e=c,de=c,pe=c,he=c,ge=c,be=c,me=c,ye=c,ve=c,we=c,ke=c,xe=c,Oe=c,Ee=c;if(null==l&&(l=f([],{})),null==a&&(a=f([],{})),x=r.$skip_blank_lines(),(s=r["$has_more_lines?"]())===c||null==s||s.$$is_boolean&&1!=s)return c;for(u=O=a["$[]"]("text"),(s=u!==!1&&u!==c&&null!=u?$(x,0):u)===c||null==s||s.$$is_boolean&&1!=s||(a.$delete("text"),O=!1),E=a.$fetch("parse_metadata",!0),A=i.$document(),(s=S=A.$extensions())===c||null==s||s.$$is_boolean&&1!=s?R=M=!1:(R=S["$blocks?"](),M=S["$block_macros?"]()),T=e.const_get(fe,"ListItem",!0,!0)["$==="](i),I=c,C=c,c,N=A.$sourcemap(),j=c;_=I["$!"](),(u=_!==!1&&_!==c&&null!=_?r["$has_more_lines?"]():_)!==c&&null!=u&&(!u.$$is_boolean||1==u);)if((u=(_=E!==!1&&E!==c&&null!=E)?k.$parse_block_metadata_line(r,A,l,a):E)===c||null==u||u.$$is_boolean&&1!=u){if(N!==!1&&N!==c&&null!=N&&(j=r.$cursor()),L=r.$read_line(),z=!1,P=c,D=c,B=c,(u=l["$[]"](1))===c||null==u||u.$$is_boolean&&1!=u||(_=k.$parse_style_attribute(l,r),u=e.to_ary(_),C=null==u[0]?c:u[0],null==u[1]?c:u[1]),(u=q=k["$is_delimited_block?"](L,!0))===c||null==u||u.$$is_boolean&&1!=u||(z=!0,P=D=q.$context(),B=q.$terminator(),(u=C["$!"]())===c||null==u||u.$$is_boolean&&1!=u?(u=C["$!="](P.$to_s()))===c||null==u||u.$$is_boolean&&1!=u||((u=q.$masq()["$include?"](C))===c||null==u||u.$$is_boolean&&1!=u?(_=q.$masq()["$include?"]("admonition"),(u=_!==!1&&_!==c&&null!=_?e.const_get(fe,"ADMONITION_STYLES",!0,!0)["$include?"](C):_)===c||null==u||u.$$is_boolean&&1!=u?(u=(_=R!==!1&&R!==c&&null!=R)?S["$registered_for_block?"](C,P):R)===c||null==u||u.$$is_boolean&&1!=u?(k.$warn("asciidoctor: WARNING: "+r.$prev_line_info()+": invalid style for "+P+" block: "+C),C=P.$to_s()):P=C.$to_sym():P="admonition"):P=C.$to_sym()):(F=["style",P.$to_s()],d(l,"[]=",e.to_a(F)),C=F[t(F.length,1)])),z!==!1&&z!==c&&null!=z);else for(;(_=!0)!==c&&null!=_&&(!_.$$is_boolean||1==_);){if(p=(g=C!==!1&&C!==c&&null!=C)?e.const_get(fe,"Compliance",!0,!0).$strict_verbatim_paragraphs():C,(_=p!==!1&&p!==c&&null!=p?e.const_get(fe,"VERBATIM_STYLES",!0,!0)["$include?"](C):p)!==c&&null!=_&&(!_.$$is_boolean||1==_)){P=C.$to_sym(),r.$unshift_line(L);break}if(O!==!1&&O!==c&&null!=O);else{if(U=function(){return(_=e.const_get(fe,"Compliance",!0,!0).$markdown_syntax())===c||null==_||_.$$is_boolean&&1!=_?L.$chr():L.$lstrip().$chr()}(),g=e.const_get(fe,"LAYOUT_BREAK_LINES",!0,!0)["$has_key?"](U),p=g!==!1&&g!==c&&null!=g?o(L.$length(),3):g,!((_=p!==!1&&p!==c&&null!=p?function(){return(g=e.const_get(fe,"Compliance",!0,!0).$markdown_syntax())===c||null==g||g.$$is_boolean&&1!=g?e.const_get(fe,"LayoutBreakLineRx",!0,!0):e.const_get(fe,"LayoutBreakLinePlusRx",!0,!0)}()["$=~"](L):p)===c||null==_||_.$$is_boolean&&1!=_)){I=e.const_get(fe,"Block",!0,!0).$new(i,e.const_get(fe,"LAYOUT_BREAK_LINES",!0,!0)["$[]"](U),f(["content_model"],{content_model:"empty"}));break}if(p=L["$end_with?"]("]"),!((_=p!==!1&&p!==c&&null!=p?G=e.const_get(fe,"MediaBlockMacroRx",!0,!0).$match(L):p)===c||null==_||_.$$is_boolean&&1!=_)){if(H=G["$[]"](1).$to_sym(),I=e.const_get(fe,"Block",!0,!0).$new(i,H,f(["content_model"],{content_model:"empty"})),Y=H["$=="]("image")?["alt","width","height"]:H["$=="]("video")?["poster","width","height"]:[],C!==!1&&C!==c&&null!=C&&(H["$=="]("image")&&(F=["alt",C],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]),l.$delete("style"),C=c),I.$parse_attributes(G["$[]"](3),Y,f(["unescape_input","sub_input","sub_result","into"],{unescape_input:H["$=="]("image"),sub_input:!0,sub_result:!1,into:l})),K=I.$sub_attributes(G["$[]"](2),f(["attribute_missing"],{attribute_missing:"drop-line"})),(_=K["$empty?"]())!==c&&null!=_&&(!_.$$is_boolean||1==_))return A.$attributes().$fetch("attribute-missing",e.const_get(fe,"Compliance",!0,!0).$attribute_missing())["$=="]("skip")?e.const_get(fe,"Block",!0,!0).$new(i,"paragraph",f(["content_model","source"],{content_model:"simple",source:[L]})):(l.$clear(),c);F=["target",K],d(l,"[]=",e.to_a(F)),F[t(F.length,1)];break}if(!((_=(p=U["$=="]("t"))?G=e.const_get(fe,"TocBlockMacroRx",!0,!0).$match(L):U["$=="]("t"))===c||null==_||_.$$is_boolean&&1!=_)){I=e.const_get(fe,"Block",!0,!0).$new(i,"toc",f(["content_model"],{content_model:"empty"})),I.$parse_attributes(G["$[]"](1),[],f(["sub_result","into"],{
sub_result:!1,into:l}));break}if(p=(g=M!==!1&&M!==c&&null!=M)?G=e.const_get(fe,"GenericBlockMacroRx",!0,!0).$match(L):M,(_=p!==!1&&p!==c&&null!=p?W=S["$registered_for_block_macro?"](G["$[]"](1)):p)!==c&&null!=_&&(!_.$$is_boolean||1==_)){if(K=G["$[]"](2),X=G["$[]"](3),W.$config()["$[]"]("content_model")["$=="]("attributes")?((_=X["$empty?"]())===c||null==_||_.$$is_boolean&&1!=_)&&A.$parse_attributes(X,(_=W.$config()["$[]"]("pos_attrs"))!==!1&&_!==c&&null!=_?_:[],f(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:l})):(F=["text",X],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]),(_=V=W.$config()["$[]"]("default_attrs"))===c||null==_||_.$$is_boolean&&1!=_||d(V,"each",[],(b=function(e,t){var n,$,r;b.$$s;return null==e&&(e=c),null==t&&(t=c),n=e,$=l,(r=$["$[]"](n))!==!1&&r!==c&&null!=r?r:$["$[]="](n,t)},b.$$s=k,b.$$arity=2,b)),(_=I=W.$process_method()["$[]"](i,K,l.$dup()))===c||null==_||_.$$is_boolean&&1!=_)return l.$clear(),c;l.$replace(I.$attributes());break}}if(!((_=G=e.const_get(fe,"CalloutListRx",!0,!0).$match(L))===c||null==_||_.$$is_boolean&&1!=_)){for(I=e.const_get(fe,"List",!0,!0).$new(i,"colist"),F=["style","arabic"],d(l,"[]=",e.to_a(F)),F[t(F.length,1)],r.$unshift_line(L),J=1;(p=(g=G)!==!1&&g!==c&&null!=g?g:(m=r["$has_more_lines?"](),m!==!1&&m!==c&&null!=m?G=e.const_get(fe,"CalloutListRx",!0,!0).$match(r.$peek_line()):m))!==c&&null!=p&&(!p.$$is_boolean||1==p);)(p=G["$[]"](1).$to_i()["$!="](J))===c||null==p||p.$$is_boolean&&1!=p||k.$warn("asciidoctor: WARNING: "+r.$path()+": line "+t(r.$lineno(),2)+": callout list item index: expected "+J+" got "+G["$[]"](1)),Z=k.$next_list_item(r,I,G),J=n(J,1),Z!==!1&&Z!==c&&null!=Z&&(I["$<<"](Z),Q=A.$callouts().$callout_ids(I.$items().$size()),(p=Q["$empty?"]()["$!"]())===c||null==p||p.$$is_boolean&&1!=p?k.$warn("asciidoctor: WARNING: "+r.$path()+": line "+t(r.$lineno(),2)+": no callouts refer to list item "+I.$items().$size()):(F=["coids",Q],d(Z.$attributes(),"[]=",e.to_a(F)),F[t(F.length,1)])),G=c;A.$callouts().$next_list();break}if(!((_=e.const_get(fe,"UnorderedListRx",!0,!0)["$=~"](L))===c||null==_||_.$$is_boolean&&1!=_)){r.$unshift_line(L),I=k.$next_outline_list(r,"ulist",i);break}if(!((_=G=e.const_get(fe,"OrderedListRx",!0,!0).$match(L))===c||null==_||_.$$is_boolean&&1!=_)){r.$unshift_line(L),I=k.$next_outline_list(r,"olist",i),p=l["$[]"]("style")["$!"](),(_=p!==!1&&p!==c&&null!=p?I.$attributes()["$[]"]("style")["$!"]():p)===c||null==_||_.$$is_boolean&&1!=_||(ee=I.$items()["$[]"](0).$marker(),(_=ee["$start_with?"]("."))===c||null==_||_.$$is_boolean&&1!=_?(C=d(e.const_get(fe,"ORDERED_LIST_STYLES",!0,!0),"find",[],(y=function(t){y.$$s;return null==t&&(t=c),e.const_get(fe,"OrderedListMarkerRxMap",!0,!0)["$[]"](t)["$=~"](ee)},y.$$s=k,y.$$arity=1,y)),F=["style",((_=C)!==!1&&_!==c&&null!=_?_:e.const_get(fe,"ORDERED_LIST_STYLES",!0,!0)["$[]"](0)).$to_s()],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]):(F=["style",((_=e.const_get(fe,"ORDERED_LIST_STYLES",!0,!0)["$[]"](t(ee.$length(),1)))!==!1&&_!==c&&null!=_?_:e.const_get(fe,"ORDERED_LIST_STYLES",!0,!0)["$[]"](0)).$to_s()],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]));break}if(!((_=G=e.const_get(fe,"DescriptionListRx",!0,!0).$match(L))===c||null==_||_.$$is_boolean&&1!=_)){r.$unshift_line(L),I=k.$next_labeled_list(r,G,i);break}if(p=(g=C["$=="]("float"))!==!1&&g!==c&&null!=g?g:C["$=="]("discrete"),!((_=p!==!1&&p!==c&&null!=p?k["$is_section_title?"](L,function(){return(g=e.const_get(fe,"Compliance",!0,!0).$underline_style_section_titles())===c||null==g||g.$$is_boolean&&1!=g?c:r.$peek_line(!0)}()):p)===c||null==_||_.$$is_boolean&&1!=_)){r.$unshift_line(L),p=k.$parse_section_title(r,A),_=e.to_ary(p),te=null==_[0]?c:_[0],ne=null==_[1]?c:_[1],$e=null==_[2]?c:_[2],re=null==_[3]?c:_[3],null==_[4]?c:_[4],ne!==!1&&ne!==c&&null!=ne&&(F=["reftext",ne],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]),(_=l["$has_key?"]("id"))===c||null==_||_.$$is_boolean&&1!=_||(_=te)!==!1&&_!==c&&null!=_||(te=l["$[]"]("id")),I=e.const_get(fe,"Block",!0,!0).$new(i,"floating_title",f(["content_model"],{content_model:"empty"})),(_=te["$nil_or_empty?"]())===c||null==_||_.$$is_boolean&&1!=_?(F=[te],d(I,"id=",e.to_a(F)),F[t(F.length,1)]):(oe=e.const_get(fe,"Section",!0,!0).$new(i),F=[$e],d(oe,"title=",e.to_a(F)),F[t(F.length,1)],F=[oe.$generate_id()],d(I,"id=",e.to_a(F)),F[t(F.length,1)]),F=[re],d(I,"level=",e.to_a(F)),F[t(F.length,1)],F=[$e],d(I,"title=",e.to_a(F)),F[t(F.length,1)];break}if((_=(p=C!==!1&&C!==c&&null!=C)?C["$!="]("normal"):C)!==c&&null!=_&&(!_.$$is_boolean||1==_)){if(!((_=e.const_get(fe,"PARAGRAPH_STYLES",!0,!0)["$include?"](C))===c||null==_||_.$$is_boolean&&1!=_)){P=C.$to_sym(),D="paragraph",r.$unshift_line(L);break}if(!((_=e.const_get(fe,"ADMONITION_STYLES",!0,!0)["$include?"](C))===c||null==_||_.$$is_boolean&&1!=_)){P="admonition",D="paragraph",r.$unshift_line(L);break}if(!((_=(p=R!==!1&&R!==c&&null!=R)?S["$registered_for_block?"](C,"paragraph"):R)===c||null==_||_.$$is_boolean&&1!=_)){P=C.$to_sym(),D="paragraph",r.$unshift_line(L);break}k.$warn("asciidoctor: WARNING: "+r.$prev_line_info()+": invalid style for paragraph: "+C),C=c}if(ie=(_=x["$=="](0))?T:x["$=="](0),p=C["$!="]("normal"),(_=p!==!1&&p!==c&&null!=p?e.const_get(fe,"LiteralParagraphRx",!0,!0)["$=~"](L):p)===c||null==_||_.$$is_boolean&&1!=_){if(r.$unshift_line(L),le=k.$read_paragraph_lines(r,ie,f(["skip_line_comments"],{skip_line_comments:!0})),(_=le["$empty?"]())!==c&&null!=_&&(!_.$$is_boolean||1==_))return r.$advance(),c;if(k.$catalog_inline_anchors(le.$join(e.const_get(fe,"EOL",!0,!0)),A),ae=le["$[]"](0),p=O["$!"](),(_=p!==!1&&p!==c&&null!=p?se=e.const_get(fe,"AdmonitionParagraphRx",!0,!0).$match(ae):p)===c||null==_||_.$$is_boolean&&1!=_)if(g=O["$!"](),p=g!==!1&&g!==c&&null!=g?e.const_get(fe,"Compliance",!0,!0).$markdown_syntax():g,(_=p!==!1&&p!==c&&null!=p?ae["$start_with?"]("> "):p)===c||null==_||_.$$is_boolean&&1!=_)if(p=O["$!"](),(_=p!==!1&&p!==c&&null!=p?k["$blockquote?"](le,ae):p)===c||null==_||_.$$is_boolean&&1!=_)C["$=="]("normal")&&k["$adjust_indentation!"](le),I=e.const_get(fe,"Block",!0,!0).$new(i,"paragraph",f(["content_model","source","attributes"],{content_model:"simple",source:le,attributes:l}));else{for(F=[0,ae["$[]"](h(1,-1,!1))],d(le,"[]=",e.to_a(F)),F[t(F.length,1)],p=le.$pop()["$[]"](h(3,-1,!1)).$split(", ",2),_=e.to_ary(p),ue=null==_[0]?c:_[0],_e=null==_[1]?c:_[1];(p=le["$[]"](-1)["$empty?"]())!==c&&null!=p&&(!p.$$is_boolean||1==p);)le.$pop();F=[-1,le["$[]"](-1).$chop()],d(le,"[]=",e.to_a(F)),F[t(F.length,1)],F=["style","quote"],d(l,"[]=",e.to_a(F)),F[t(F.length,1)],ue!==!1&&ue!==c&&null!=ue&&(F=["attribution",ue],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]),_e!==!1&&_e!==c&&null!=_e&&(F=["citetitle",_e],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]),I=e.const_get(fe,"Block",!0,!0).$new(i,"quote",f(["content_model","source","attributes"],{content_model:"simple",source:le,attributes:l}))}else{if(d(le,"map!",[],(v=function(e){var t;v.$$s;return null==e&&(e=c),e["$=="](">")?e["$[]"](h(1,-1,!1)):(t=e["$start_with?"]("> "))===c||null==t||t.$$is_boolean&&1!=t?e:e["$[]"](h(2,-1,!1))},v.$$s=k,v.$$arity=1,v)),(_=le["$[]"](-1)["$start_with?"]("-- "))===c||null==_||_.$$is_boolean&&1!=_)p=c,_=e.to_ary(p),ue=null==_[0]?c:_[0],_e=null==_[1]?c:_[1];else for(p=le.$pop()["$[]"](h(3,-1,!1)).$split(", ",2),_=e.to_ary(p),ue=null==_[0]?c:_[0],_e=null==_[1]?c:_[1];(p=le["$[]"](-1)["$empty?"]())!==c&&null!=p&&(!p.$$is_boolean||1==p);)le.$pop();F=["style","quote"],d(l,"[]=",e.to_a(F)),F[t(F.length,1)],ue!==!1&&ue!==c&&null!=ue&&(F=["attribution",ue],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]),_e!==!1&&_e!==c&&null!=_e&&(F=["citetitle",_e],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]),I=k.$build_block("quote","compound",!1,i,e.const_get(fe,"Reader",!0,!0).$new(le),l)}else F=[0,se.$post_match().$lstrip()],d(le,"[]=",e.to_a(F)),F[t(F.length,1)],F=["style",se["$[]"](1)],d(l,"[]=",e.to_a(F)),F[t(F.length,1)],F=["name",ce=se["$[]"](1).$downcase()],d(l,"[]=",e.to_a(F)),F[t(F.length,1)],_="caption",p=l,(g=p["$[]"](_))!==!1&&g!==c&&null!=g||p["$[]="](_,A.$attributes()["$[]"](ce+"-caption")),I=e.const_get(fe,"Block",!0,!0).$new(i,"admonition",f(["content_model","source","attributes"],{content_model:"simple",source:le,attributes:l}))}else r.$unshift_line(L),le=k.$read_paragraph_lines(r,ie,f(["skip_line_comments"],{skip_line_comments:O})),k["$adjust_indentation!"](le),I=e.const_get(fe,"Block",!0,!0).$new(i,"literal",f(["content_model","source","attributes"],{content_model:"verbatim",source:le,attributes:l})),T!==!1&&T!==c&&null!=T&&I.$set_option("listparagraph");break}if(_=I["$!"](),(u=_!==!1&&_!==c&&null!=_?P:_)!==c&&null!=u&&(!u.$$is_boolean||1==u))if((u=(_=P["$=="]("abstract"))!==!1&&_!==c&&null!=_?_:P["$=="]("partintro"))===c||null==u||u.$$is_boolean&&1!=u||(P="open"),de=P,"admonition"["$==="](de))F=["name",ce=C.$downcase()],d(l,"[]=",e.to_a(F)),F[t(F.length,1)],u="caption",_=l,(p=_["$[]"](u))!==!1&&p!==c&&null!=p||_["$[]="](u,A.$attributes()["$[]"](ce+"-caption")),I=k.$build_block(P,"compound",B,i,r,l);else{if("comment"["$==="](de))return k.$build_block(P,"skip",B,i,r,l),c;if("example"["$==="](de))I=k.$build_block(P,"compound",B,i,r,l);else if("listing"["$==="](de)||"fenced_code"["$==="](de)||"source"["$==="](de))P["$=="]("fenced_code")?(F=["style","source"],d(l,"[]=",e.to_a(F)),C=F[t(F.length,1)],_=L["$[]"](h(3,-1,!1)).$tr(" ","").$split(",",2),u=e.to_ary(_),pe=null==u[0]?c:u[0],he=null==u[1]?c:u[1],(u=pe["$nil_or_empty?"]()["$!"]())===c||null==u||u.$$is_boolean&&1!=u?(u=ge=A.$attributes()["$[]"]("source-language"))===c||null==u||u.$$is_boolean&&1!=u||(F=["language",ge],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]):(F=["language",pe],d(l,"[]=",e.to_a(F)),F[t(F.length,1)],((u=he["$nil_or_empty?"]())===c||null==u||u.$$is_boolean&&1!=u)&&(F=["linenums",""],d(l,"[]=",e.to_a(F)),F[t(F.length,1)])),_=l["$key?"]("indent")["$!"](),(u=_!==!1&&_!==c&&null!=_?A.$attributes()["$key?"]("source-indent"):_)===c||null==u||u.$$is_boolean&&1!=u||(F=["indent",A.$attributes()["$[]"]("source-indent")],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]),B=B["$[]"](h(0,2,!1))):P["$=="]("source")&&(e.const_get(fe,"AttributeList",!0,!0).$rekey(l,[c,"language","linenums"]),((u=l["$key?"]("language"))===c||null==u||u.$$is_boolean&&1!=u)&&((u=ge=A.$attributes()["$[]"]("source-language"))===c||null==u||u.$$is_boolean&&1!=u||(F=["language",ge],d(l,"[]=",e.to_a(F)),F[t(F.length,1)])),_=l["$key?"]("indent")["$!"](),(u=_!==!1&&_!==c&&null!=_?A.$attributes()["$key?"]("source-indent"):_)===c||null==u||u.$$is_boolean&&1!=u||(F=["indent",A.$attributes()["$[]"]("source-indent")],d(l,"[]=",e.to_a(F)),F[t(F.length,1)])),I=k.$build_block("listing","verbatim",B,i,r,l);else if("literal"["$==="](de))I=k.$build_block(P,"verbatim",B,i,r,l);else if("pass"["$==="](de))I=k.$build_block(P,"raw",B,i,r,l);else if("stem"["$==="](de)||"latexmath"["$==="](de)||"asciimath"["$==="](de))P["$=="]("stem")&&(F=["style",function(){return(u=be=l["$[]"](2))===c||null==u||u.$$is_boolean&&1!=u?(u=(me=A.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===c||null==u||u.$$is_boolean&&1!=u?me:"asciimath":(u=be["$include?"]("tex"))===c||null==u||u.$$is_boolean&&1!=u?"asciimath":"latexmath"}()],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]),I=k.$build_block("stem","raw",B,i,r,l);else if("open"["$==="](de)||"sidebar"["$==="](de))I=k.$build_block(P,"compound",B,i,r,l);else if("table"["$==="](de))ye=r.$cursor(),ve=e.const_get(fe,"Reader",!0,!0).$new(r.$read_lines_until(f(["terminator","skip_line_comments"],{terminator:B,skip_line_comments:!0})),ye),de=B.$chr(),","["$==="](de)?(F=["format","csv"],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]):":"["$==="](de)&&(F=["format","dsv"],d(l,"[]=",e.to_a(F)),F[t(F.length,1)]),I=k.$next_table(ve,i,l);else if("quote"["$==="](de)||"verse"["$==="](de))e.const_get(fe,"AttributeList",!0,!0).$rekey(l,[c,"attribution","citetitle"]),I=k.$build_block(P,function(){return P["$=="]("verse")?"verbatim":"compound"}(),B,i,r,l);else if((u=(_=R!==!1&&R!==c&&null!=R)?W=S["$registered_for_block?"](P,D):R)===c||null==u||u.$$is_boolean&&1!=u)k.$raise("Unsupported block type "+P+" at "+r.$line_info());else if((u=(we=W.$config()["$[]"]("content_model"))["$!="]("skip"))===c||null==u||u.$$is_boolean&&1!=u||((u=(ke=(_=W.$config()["$[]"]("pos_attrs"))!==!1&&_!==c&&null!=_?_:[])["$empty?"]()["$!"]())===c||null==u||u.$$is_boolean&&1!=u||e.const_get(fe,"AttributeList",!0,!0).$rekey(l,[c].$concat(ke)),(u=V=W.$config()["$[]"]("default_attrs"))===c||null==u||u.$$is_boolean&&1!=u||d(V,"each",[],(w=function(e,t){var n,$,r;w.$$s;return null==e&&(e=c),null==t&&(t=c),n=e,$=l,(r=$["$[]"](n))!==!1&&r!==c&&null!=r?r:$["$[]="](n,t)},w.$$s=k,w.$$arity=2,w))),I=k.$build_block(P,we,B,i,r,l,f(["extension"],{extension:W})),(u=(_=I!==!1&&I!==c&&null!=I)?we["$!="]("skip"):I)===c||null==u||u.$$is_boolean&&1!=u)return l.$clear(),c}}else r.$advance();return I!==!1&&I!==c&&null!=I&&(j!==!1&&j!==c&&null!=j&&(F=[j],d(I,"source_location=",e.to_a(F)),F[t(F.length,1)]),((s=I["$title?"]())===c||null==s||s.$$is_boolean&&1!=s)&&(F=[l["$[]"]("title")],d(I,"title=",e.to_a(F)),F[t(F.length,1)]),I.$context()["$=="]("image")?(xe=l["$[]"]("target"),I.$document().$register("images",xe),s="alt",u=l,(_=u["$[]"](s))!==!1&&_!==c&&null!=_||u["$[]="](s,e.const_get(fe,"Helpers",!0,!0).$basename(xe,!0).$tr("_-"," ")),F=["alt",I.$sub_specialchars(l["$[]"]("alt"))],d(l,"[]=",e.to_a(F)),F[t(F.length,1)],I.$assign_caption(l.$delete("caption"),"figure"),(s=Oe=l["$[]"]("scaledwidth"))===c||null==s||s.$$is_boolean&&1!=s||(s=h(48,57,!1)["$include?"](((u=Oe["$[]"](-1))!==!1&&u!==c&&null!=u?u:0).$ord()))===c||null==s||s.$$is_boolean&&1!=s||(F=["scaledwidth",Oe+"%"],d(l,"[]=",e.to_a(F)),F[t(F.length,1)])):(s=I,(u=s.$caption())!==!1&&u!==c&&null!=u||s["$caption="](l.$delete("caption"))),F=[l["$[]"]("style")],d(I,"style=",e.to_a(F)),F[t(F.length,1)],u=I,(s=Ee=(_=u.$id())!==!1&&_!==c&&null!=_?_:u["$id="](l["$[]"]("id")))===c||null==s||s.$$is_boolean&&1!=s||A.$register("ids",[Ee,(s=l["$[]"]("reftext"))!==!1&&s!==c&&null!=s?s:function(){return(u=I["$title?"]())===c||null==u||u.$$is_boolean&&1!=u?c:I.$title()}()]),((s=l["$empty?"]())===c||null==s||s.$$is_boolean&&1!=s)&&I.$attributes().$update(l),I.$lock_in_subs(),(s=I["$sub?"]("callouts"))===c||null==s||s.$$is_boolean&&1!=s||((s=k.$catalog_callouts(I.$source(),A))===c||null==s||s.$$is_boolean&&1!=s)&&I.$remove_sub("callouts")),I},A.$$arity=-3),e.defs(_e,"$blockquote?",S=function(e,t){var n,r,o,i;return null==t&&(t=c),o=$(e.$size(),1),r=o!==!1&&o!==c&&null!=o?((i=t)!==!1&&i!==c&&null!=i?i:e["$[]"](0))["$start_with?"]('"'):o,n=r!==!1&&r!==c&&null!=r?e["$[]"](-1)["$start_with?"]("-- "):r,n!==!1&&n!==c&&null!=n?e["$[]"](-2)["$end_with?"]('"'):n},S.$$arity=-2),e.defs(_e,"$read_paragraph_lines",R=function(n,$,r){var o,i=c,l=c;return null==r&&(r=f([],{})),i=["break_on_blank_lines",!0],d(r,"[]=",e.to_a(i)),i[t(i.length,1)],i=["break_on_list_continuation",!0],d(r,"[]=",e.to_a(i)),i[t(i.length,1)],i=["preserve_last_line",!0],d(r,"[]=",e.to_a(i)),i[t(i.length,1)],l=function(){return $!==!1&&$!==c&&null!=$?(o=e.const_get(fe,"Compliance",!0,!0).$block_terminates_paragraph())===c||null==o||o.$$is_boolean&&1!=o?e.const_get(fe,"StartOfListProc",!0,!0):e.const_get(fe,"StartOfBlockOrListProc",!0,!0):(o=e.const_get(fe,"Compliance",!0,!0).$block_terminates_paragraph())===c||null==o||o.$$is_boolean&&1!=o?e.const_get(fe,"NoOp",!0,!0):e.const_get(fe,"StartOfBlockProc",!0,!0)}(),d(n,"read_lines_until",[r],l.$to_proc())},R.$$arity=-3),e.defs(_e,"$is_delimited_block?",M=function(n,o){var a,s,u=c,_=c,d=c,f=c,p=c,g=c,b=c;if(null==o&&(o=!1),s=$(u=n.$length(),1),(a=s!==!1&&s!==c&&null!=s?e.const_get(fe,"DELIMITED_BLOCK_LEADERS",!0,!0)["$include?"](n["$[]"](h(0,1,!1))):s)===c||null==a||a.$$is_boolean&&1!=a)return c;if(u["$=="](2))_=n,d=2;else{if((a=i(u,4))===c||null==a||a.$$is_boolean&&1!=a?(_=n["$[]"](h(0,3,!1)),d=4):(_=n,d=u),f=!1,(a=e.const_get(fe,"Compliance",!0,!0).$markdown_syntax())!==c&&null!=a&&(!a.$$is_boolean||1==a)&&(p=function(){return d["$=="](4)?_.$chop():_}(),p["$=="]("```"))){if((a=(s=d["$=="](4))?_["$end_with?"]("`"):d["$=="](4))!==c&&null!=a&&(!a.$$is_boolean||1==a))return c;_=p,d=3,f=!0}if((a=(s=d["$=="](3))?f["$!"]():d["$=="](3))!==c&&null!=a&&(!a.$$is_boolean||1==a))return c}return(a=e.const_get(fe,"DELIMITED_BLOCKS",!0,!0)["$has_key?"](_))===c||null==a||a.$$is_boolean&&1!=a?c:(a=(s=l(d,4))!==!1&&s!==c&&null!=s?s:d["$=="](u))===c||null==a||a.$$is_boolean&&1!=a?(""+_+r(_["$[]"](h(-1,-1,!1)),t(u,d)))["$=="](n)?o===!1||o===c||null==o||(a=[].concat(e.to_a(e.const_get(fe,"DELIMITED_BLOCKS",!0,!0)["$[]"](_))),g=null==a[0]?c:a[0],b=null==a[1]?c:a[1],e.const_get(fe,"BlockMatchData",!0,!0).$new(g,b,_,n)):c:o===!1||o===c||null==o||(a=[].concat(e.to_a(e.const_get(fe,"DELIMITED_BLOCKS",!0,!0)["$[]"](_))),g=null==a[0]?c:a[0],b=null==a[1]?c:a[1],e.const_get(fe,"BlockMatchData",!0,!0).$new(g,b,_,_))},M.$$arity=-2),e.defs(_e,"$build_block",T=function(n,r,o,i,l,a,s){var u,_,p=this,h=c,g=c,b=c,m=c,y=c,v=c,w=c,k=c,x=c,O=c;if(null==s&&(s=f([],{})),(u=(_=r["$=="]("skip"))!==!1&&_!==c&&null!=_?_:r["$=="]("raw"))===c||null==u||u.$$is_boolean&&1!=u?(h=!1,g=r):(h=r["$=="]("skip"),g="simple"),(u=o["$nil?"]())===c||null==u||u.$$is_boolean&&1!=u?(u=g["$!="]("compound"))===c||null==u||u.$$is_boolean&&1!=u?o["$=="](!1)?(b=c,m=l):(b=c,y=l.$cursor(),m=e.const_get(fe,"Reader",!0,!0).$new(l.$read_lines_until(f(["terminator","skip_processing"],{terminator:o,skip_processing:h})),y)):(b=l.$read_lines_until(f(["terminator","skip_processing"],{terminator:o,skip_processing:h})),m=c):(g["$=="]("verbatim")?b=l.$read_lines_until(f(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(r["$=="]("compound")&&(r="simple"),b=p.$read_paragraph_lines(l,!1,f(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),m=c),r["$=="]("skip"))return a.$clear(),b;if(r["$=="]("verbatim")&&((u=v=a["$[]"]("indent"))===c||null==u||u.$$is_boolean&&1!=u?(u=$(w=((_=a["$[]"]("tabsize"))!==!1&&_!==c&&null!=_?_:i.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))===c||null==u||u.$$is_boolean&&1!=u||p["$adjust_indentation!"](b,c,w):p["$adjust_indentation!"](b,v,(u=a["$[]"]("tabsize"))!==!1&&u!==c&&null!=u?u:i.$document().$attributes()["$[]"]("tabsize"))),(u=k=s["$[]"]("extension"))===c||null==u||u.$$is_boolean&&1!=u)x=e.const_get(fe,"Block",!0,!0).$new(i,n,f(["content_model","source","attributes"],{content_model:r,source:b,attributes:a}));else{if(a.$delete("style"),(u=x=k.$process_method()["$[]"](i,(_=m)!==!1&&_!==c&&null!=_?_:e.const_get(fe,"Reader",!0,!0).$new(b),a.$dup()))===c||null==u||u.$$is_boolean&&1!=u)return c;a.$replace(x.$attributes()),(u=(_=x.$content_model()["$=="]("compound"))?(b=x.$lines())["$nil_or_empty?"]()["$!"]():x.$content_model()["$=="]("compound"))===c||null==u||u.$$is_boolean&&1!=u||(r="compound",m=e.const_get(fe,"Reader",!0,!0).$new(b))}return _=a["$has_key?"]("title"),(u=_!==!1&&_!==c&&null!=_?x.$document()["$attr?"](x.$context()+"-caption"):_)===c||null==u||u.$$is_boolean&&1!=u||(O=[a.$delete("title")],d(x,"title=",e.to_a(O)),O[t(O.length,1)],x.$assign_caption(a.$delete("caption"))),r["$=="]("compound")&&p.$parse_blocks(m,x),x},T.$$arity=-7),e.defs(_e,"$parse_blocks",I=function(t,n){for(var $,r=c;($=t["$has_more_lines?"]())!==c&&null!=$&&(!$.$$is_boolean||1==$);)(r=e.const_get(fe,"Parser",!0,!0).$next_block(t,n))!==!1&&r!==c&&null!=r&&n["$<<"](r)},I.$$arity=2),e.defs(_e,"$next_outline_list",C=function(r,o,i){var a,s,u=this,_=c,f=c,p=c,h=c,g=c,b=c,m=c;for(_=e.const_get(fe,"List",!0,!0).$new(i,o),i.$context()["$=="](o)?(f=[n(i.$level(),1)],d(_,"level=",e.to_a(f)),f[t(f.length,1)]):(f=[1],d(_,"level=",e.to_a(f)),f[t(f.length,1)]);s=r["$has_more_lines?"](),(a=s!==!1&&s!==c&&null!=s?p=e.const_get(fe,"ListRxMap",!0,!0)["$[]"](o).$match(r.$peek_line()):s)!==c&&null!=a&&(!a.$$is_boolean||1==a);){if(h=u.$resolve_list_marker(o,p["$[]"](1)),s=_["$items?"](),(a=s!==!1&&s!==c&&null!=s?h["$!="](_.$items()["$[]"](0).$marker()):s)===c||null==a||a.$$is_boolean&&1!=a)g=_.$level();else for(g=n(_.$level(),1),b=i;b.$context()["$=="](o);){if(h["$=="](b.$items()["$[]"](0).$marker())){g=b.$level();break}b=b.$parent()}if((a=(s=_["$items?"]()["$!"]())!==!1&&s!==c&&null!=s?s:g["$=="](_.$level()))===c||null==a||a.$$is_boolean&&1!=a){if(!((a=l(g,_.$level()))===c||null==a||a.$$is_boolean&&1!=a))break;(a=$(g,_.$level()))===c||null==a||a.$$is_boolean&&1!=a||_.$items()["$[]"](-1)["$<<"](u.$next_block(r,_))}else m=u.$next_list_item(r,_,p);m!==!1&&m!==c&&null!=m&&_["$<<"](m),m=c,r.$skip_blank_lines()}return _},C.$$arity=3),e.defs(_e,"$catalog_callouts",N=function(t,n){var $,r,o=this,i=c;return i=!1,($=t["$include?"]("<"))===c||null==$||$.$$is_boolean&&1!=$||d(t,"scan",[e.const_get(fe,"CalloutQuickScanRx",!0,!0)],(r=function(){var e,t=(r.$$s,c);return null==g["~"]&&(g["~"]=c),t=g["~"],(e=t["$[]"](0).$chr()["$!="]("\\"))===c||null==e||e.$$is_boolean&&1!=e||n.$callouts().$register(t["$[]"](2)),i=!0},r.$$s=o,r.$$arity=0,r)),i},N.$$arity=2),e.defs(_e,"$catalog_inline_anchors",j=function(t,n){var $,r,o=this;return($=t["$include?"]("["))===c||null==$||$.$$is_boolean&&1!=$||d(t,"scan",[e.const_get(fe,"InlineAnchorRx",!0,!0)],(r=function(){var e,t=(r.$$s,c),$=c,o=c;return null==g["~"]&&(g["~"]=c),t=g["~"],(e=t["$[]"](0)["$start_with?"]("\\"))===c||null==e||e.$$is_boolean&&1!=e?($=(e=t["$[]"](1))!==!1&&e!==c&&null!=e?e:t["$[]"](3),o=(e=t["$[]"](2))!==!1&&e!==c&&null!=e?e:t["$[]"](4),n.$register("ids",[$,o])):c},r.$$s=o,r.$$arity=0,r)),c},j.$$arity=2),e.defs(_e,"$next_labeled_list",L=function(t,n,$){var r,o,i,l=this,a=c,s=c,u=c,_=c,d=c;for(a=e.const_get(fe,"List",!0,!0).$new($,"dlist"),s=c,u=e.const_get(fe,"DescriptionListSiblingRx",!0,!0)["$[]"](n["$[]"](2));(r=(o=n)!==!1&&o!==c&&null!=o?o:(i=t["$has_more_lines?"](),i!==!1&&i!==c&&null!=i?n=u.$match(t.$peek_line()):i))!==c&&null!=r&&(!r.$$is_boolean||1==r);)o=l.$next_list_item(t,a,n,u),r=e.to_ary(o),_=null==r[0]?c:r[0],d=null==r[1]?c:r[1],(r=(o=s!==!1&&s!==c&&null!=s)?s["$[]"](-1)["$!"]():s)===c||null==r||r.$$is_boolean&&1!=r?a.$items()["$<<"](s=[[_],d]):(s.$pop(),s["$[]"](0)["$<<"](_),s["$<<"](d)),n=c;return a},L.$$arity=3),e.defs(_e,"$next_list_item",z=function(n,$,r,o){var i,l,a=this,s=c,u=c,_=c,p=c,g=c,b=c,m=c,y=c,v=c,w=c,k=c,x=c,O=c,E=c,A=c,S=c;if(null==o&&(o=c),(s=$.$context())["$=="]("dlist")?(u=e.const_get(fe,"ListItem",!0,!0).$new($,r["$[]"](1)),_=e.const_get(fe,"ListItem",!0,!0).$new($,r["$[]"](3)),p=r["$[]"](3)["$nil_or_empty?"]()["$!"]()):(g=r["$[]"](2),b=!1,(i=(l=s["$=="]("ulist"))?g["$start_with?"]("["):s["$=="]("ulist"))===c||null==i||i.$$is_boolean&&1!=i||((i=g["$start_with?"]("[ ] "))===c||null==i||i.$$is_boolean&&1!=i?(i=(l=g["$start_with?"]("[x] "))!==!1&&l!==c&&null!=l?l:g["$start_with?"]("[*] "))===c||null==i||i.$$is_boolean&&1!=i||(b=!0,m=!0,g=g["$[]"](h(3,-1,!1)).$lstrip()):(b=!0,m=!1,g=g["$[]"](h(3,-1,!1)).$lstrip())),_=e.const_get(fe,"ListItem",!0,!0).$new($,g),b!==!1&&b!==c&&null!=b&&(y=["checklist-option",""],d($.$attributes(),"[]=",e.to_a(y)),y[t(y.length,1)],y=["checkbox",""],d(_.$attributes(),"[]=",e.to_a(y)),y[t(y.length,1)],m!==!1&&m!==c&&null!=m&&(y=["checked",""],d(_.$attributes(),"[]=",e.to_a(y)),y[t(y.length,1)])),(i=o)!==!1&&i!==c&&null!=i||(o=a.$resolve_list_marker(s,r["$[]"](1),$.$items().$size(),!0,n)),y=[o],d(_,"marker=",e.to_a(y)),y[t(y.length,1)],p=!0),n.$advance(),v=n.$cursor(),w=e.const_get(fe,"Reader",!0,!0).$new(a.$read_lines_for_list_item(n,s,o,p),v),(i=w["$has_more_lines?"]())!==c&&null!=i&&(!i.$$is_boolean||1==i)){for(k=w.$skip_line_comments(),x=w.$peek_line(),((i=k["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&w.$unshift_lines(k),(i=x["$nil?"]()["$!"]())===c||null==i||i.$$is_boolean&&1!=i?(O=!1,E=!1):(O=x["$empty?"](),l=O["$!"](),(i=l!==!1&&l!==c&&null!=l?s["$!="]("dlist"):l)===c||null==i||i.$$is_boolean&&1!=i||(p=!1),i=O["$!"](),E=i!==!1&&i!==c&&null!=i?x["$empty?"]()["$!"]():i),A=f(["text"],{text:p["$!"]()});(l=w["$has_more_lines?"]())!==c&&null!=l&&(!l.$$is_boolean||1==l);)(l=S=a.$next_block(w,_,f([],{}),A))===c||null==l||l.$$is_boolean&&1!=l||_["$<<"](S);_.$fold_first(O,E)}return s["$=="]("dlist")?(((i=(l=_["$text?"]())!==!1&&l!==c&&null!=l?l:_["$blocks?"]())===c||null==i||i.$$is_boolean&&1!=i)&&(_=c),[u,_]):_},z.$$arity=-4),e.defs(_e,"$read_lines_for_list_item",P=function(n,$,r,o){var i,l,a,s,u,_,p,h,b,m=this,y=c,v=c,w=c,k=c,x=c,O=c,E=c,A=c,S=c;for(null==g["~"]&&(g["~"]=c),null==r&&(r=c),null==o&&(o=!0),y=[],v="inactive",w=!1,k=c;(l=n["$has_more_lines?"]())!==c&&null!=l&&(!l.$$is_boolean||1==l)&&(x=n.$read_line(),(l=m["$is_sibling_list_item?"](x,$,r))===c||null==l||l.$$is_boolean&&1!=l);)if(O=function(){return(l=y["$empty?"]())===c||null==l||l.$$is_boolean&&1!=l?y["$[]"](-1):c}(),O["$=="](e.const_get(fe,"LIST_CONTINUATION",!0,!0))&&(v["$=="]("inactive")&&(v="active",o=!0,w!==!1&&w!==c&&null!=w||(E=[-1,""],d(y,"[]=",e.to_a(E)),E[t(E.length,1)])),x["$=="](e.const_get(fe,"LIST_CONTINUATION",!0,!0))))(l=v["$!="]("frozen"))===c||null==l||l.$$is_boolean&&1!=l||(v="frozen",y["$<<"](x)),x=c;else{if((l=A=m["$is_delimited_block?"](x,!0))===c||null==l||l.$$is_boolean&&1!=l){if(a=(s=$["$=="]("dlist"))?v["$!="]("active"):$["$=="]("dlist"),!((l=a!==!1&&a!==c&&null!=a?e.const_get(fe,"BlockAttributeLineRx",!0,!0)["$=~"](x):a)===c||null==l||l.$$is_boolean&&1!=l))break;if((l=(a=v["$=="]("active"))?x["$empty?"]()["$!"]():v["$=="]("active"))===c||null==l||l.$$is_boolean&&1!=l)if(a=O["$nil?"]()["$!"](),(l=a!==!1&&a!==c&&null!=a?O["$empty?"]():a)===c||null==l||l.$$is_boolean&&1!=l)(l=x["$empty?"]()["$!"]())===c||null==l||l.$$is_boolean&&1!=l||(o=!0),(l=S=d(function(){return w!==!1&&w!==c&&null!=w?["dlist"]:e.const_get(fe,"NESTABLE_LIST_CONTEXTS",!0,!0)}(),"find",[],(b=function(t){b.$$s;return null==t&&(t=c),e.const_get(fe,"ListRxMap",!0,!0)["$[]"](t)["$=~"](x)},b.$$s=m,b.$$arity=1,b)))===c||null==l||l.$$is_boolean&&1!=l||(w=!0,(l=(a=S["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():S["$=="]("dlist"))===c||null==l||l.$$is_boolean&&1!=l||(o=!1)),y["$<<"](x);else{if(!((l=x["$empty?"]())===c||null==l||l.$$is_boolean&&1!=l||(n.$skip_blank_lines(),x=n.$read_line(),(l=(a=x["$nil?"]())!==!1&&a!==c&&null!=a?a:m["$is_sibling_list_item?"](x,$,r))===c||null==l||l.$$is_boolean&&1!=l)))break;if(x["$=="](e.const_get(fe,"LIST_CONTINUATION",!0,!0)))k=y.$size(),y["$<<"](x);else if(o!==!1&&o!==c&&null!=o){if(!((l=m["$is_sibling_list_item?"](x,$,r))===c||null==l||l.$$is_boolean&&1!=l))break;if((l=S=d(e.const_get(fe,"NESTABLE_LIST_CONTEXTS",!0,!0),"find",[],(p=function(t){p.$$s;return null==t&&(t=c),e.const_get(fe,"ListRxMap",!0,!0)["$[]"](t)["$=~"](x)},p.$$s=m,p.$$arity=1,p)))===c||null==l||l.$$is_boolean&&1!=l){if((l=e.const_get(fe,"LiteralParagraphRx",!0,!0)["$=~"](x))===c||null==l||l.$$is_boolean&&1!=l)break;n.$unshift_line(x),y.$concat(d(n,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(h=function(e){var t=h.$$s||this;return null==e&&(e=c),$["$=="]("dlist")?t["$is_sibling_list_item?"](e,$,r):$["$=="]("dlist")},h.$$s=m,h.$$arity=1,h)))}else y["$<<"](x),w=!0,(l=(a=S["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():S["$=="]("dlist"))===c||null==l||l.$$is_boolean&&1!=l||(o=!1)}else w!==!1&&w!==c&&null!=w||y.$pop(),y["$<<"](x),o=!0}else(l=e.const_get(fe,"LiteralParagraphRx",!0,!0)["$=~"](x))===c||null==l||l.$$is_boolean&&1!=l?(l=(a=(s=e.const_get(fe,"BlockTitleRx",!0,!0)["$=~"](x))!==!1&&s!==c&&null!=s?s:e.const_get(fe,"BlockAttributeLineRx",!0,!0)["$=~"](x))!==!1&&a!==c&&null!=a?a:e.const_get(fe,"AttributeEntryRx",!0,!0)["$=~"](x))===c||null==l||l.$$is_boolean&&1!=l?((l=S=d(function(){return w!==!1&&w!==c&&null!=w?["dlist"]:e.const_get(fe,"NESTABLE_LIST_CONTEXTS",!0,!0)}(),"find",[],(_=function(t){_.$$s;return null==t&&(t=c),e.const_get(fe,"ListRxMap",!0,!0)["$[]"](t)["$=~"](x)},_.$$s=m,_.$$arity=1,_)))===c||null==l||l.$$is_boolean&&1!=l||(w=!0,(l=(a=S["$=="]("dlist"))?g["~"]["$[]"](3)["$nil_or_empty?"]():S["$=="]("dlist"))===c||null==l||l.$$is_boolean&&1!=l||(o=!1)),y["$<<"](x),v="inactive"):y["$<<"](x):(n.$unshift_line(x),y.$concat(d(n,"read_lines_until",[f(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(u=function(e){var t=u.$$s||this;return null==e&&(e=c),$["$=="]("dlist")?t["$is_sibling_list_item?"](e,$,r):$["$=="]("dlist")},u.$$s=m,u.$$arity=1,u))),v="inactive")}else{if(!v["$=="]("active"))break;y["$<<"](x),y.$concat(n.$read_lines_until(f(["terminator","read_last_line"],{terminator:A.$terminator(),read_last_line:!0}))),v="inactive"}x=c}for(x!==!1&&x!==c&&null!=x&&n.$unshift_line(x),k!==!1&&k!==c&&null!=k&&y.$delete_at(k);a=y["$empty?"]()["$!"](),(l=a!==!1&&a!==c&&null!=a?y["$[]"](-1)["$empty?"]():a)!==c&&null!=l&&(!l.$$is_boolean||1==l);)y.$pop();return l=y["$empty?"]()["$!"](),(i=l!==!1&&l!==c&&null!=l?y["$[]"](-1)["$=="](e.const_get(fe,"LIST_CONTINUATION",!0,!0)):l)===c||null==i||i.$$is_boolean&&1!=i||y.$pop(),y},P.$$arity=-3),e.defs(_e,"$initialize_section",D=function(n,$,r){var o,i,l=this,a=c,s=c,u=c,_=c,p=c,h=c,g=c,b=c,m=c,y=c;return null==r&&(r=f([],{})),a=$.$document(),(o=a.$sourcemap())===c||null==o||o.$$is_boolean&&1!=o||(s=n.$cursor()),i=l.$parse_section_title(n,a),o=e.to_ary(i),u=null==o[0]?c:o[0],_=null==o[1]?c:o[1],p=null==o[2]?c:o[2],h=null==o[3]?c:o[3],null==o[4]?c:o[4],_!==!1&&_!==c&&null!=_&&(g=["reftext",_],d(r,"[]=",e.to_a(g)),g[t(g.length,1)]),b=e.const_get(fe,"Section",!0,!0).$new($,h,a.$attributes()["$has_key?"]("sectnums")),s!==!1&&s!==c&&null!=s&&(g=[s],d(b,"source_location=",e.to_a(g)),g[t(g.length,1)]),g=[u],d(b,"id=",e.to_a(g)),g[t(g.length,1)],g=[p],d(b,"title=",e.to_a(g)),g[t(g.length,1)],(o=r["$[]"](1))===c||null==o||o.$$is_boolean&&1!=o?(o=(i=p.$downcase()["$=="]("synopsis"))?a.$doctype()["$=="]("manpage"):p.$downcase()["$=="]("synopsis"))===c||null==o||o.$$is_boolean&&1!=o?(g=["sect"+b.$level()],d(b,"sectname=",e.to_a(g)),g[t(g.length,1)]):(g=[!0],d(b,"special=",e.to_a(g)),g[t(g.length,1)],g=["synopsis"],d(b,"sectname=",e.to_a(g)),g[t(g.length,1)]):(i=l.$parse_style_attribute(r,n),o=e.to_ary(i),m=null==o[0]?c:o[0],null==o[1]?c:o[1],m!==!1&&m!==c&&null!=m?(g=[m],d(b,"sectname=",e.to_a(g)),g[t(g.length,1)],g=[!0],d(b,"special=",e.to_a(g)),g[t(g.length,1)],(o=(i=b.$sectname()["$=="]("abstract"))?a.$doctype()["$=="]("book"):b.$sectname()["$=="]("abstract"))===c||null==o||o.$$is_boolean&&1!=o||(g=["sect1"],d(b,"sectname=",e.to_a(g)),g[t(g.length,1)],g=[!1],d(b,"special=",e.to_a(g)),g[t(g.length,1)],g=[1],d(b,"level=",e.to_a(g)),g[t(g.length,1)])):(g=["sect"+b.$level()],d(b,"sectname=",e.to_a(g)),g[t(g.length,1)])),i=b.$id()["$!"](),(o=i!==!1&&i!==c&&null!=i?y=r["$[]"]("id"):i)===c||null==o||o.$$is_boolean&&1!=o?(o=b,(i=o.$id())!==!1&&i!==c&&null!=i||o["$id="](b.$generate_id())):(g=[y],d(b,"id=",e.to_a(g)),g[t(g.length,1)]),(o=b.$id())===c||null==o||o.$$is_boolean&&1!=o||b.$document().$register("ids",[b.$id(),(o=r["$[]"]("reftext"))!==!1&&o!==c&&null!=o?o:b.$title()]),b.$update_attributes(r),n.$skip_blank_lines(),b},D.$$arity=-3),e.defs(_e,"$section_level",B=function(t){return e.const_get(fe,"SECTION_LEVELS",!0,!0)["$[]"](t.$chr())},B.$$arity=1),e.defs(_e,"$single_line_section_level",q=function(e){return t(e.$length(),1)},q.$$arity=1),e.defs(_e,"$is_next_line_section?",F=function(t,n){var $,r,o,i,l=this,a=c,s=c;return o=(a=n["$[]"](1))["$nil?"]()["$!"](),r=o!==!1&&o!==c&&null!=o?(i=(s=a["$[]"](0).$ord())["$=="](100))!==!1&&i!==c&&null!=i?i:s["$=="](102):o,!!(($=r!==!1&&r!==c&&null!=r?a["$=~"](e.const_get(fe,"FloatingTitleStyleRx",!0,!0)):r)===c||null==$||$.$$is_boolean&&1!=$)&&(!(($=t["$has_more_lines?"]())===c||null==$||$.$$is_boolean&&1!=$)&&(($=e.const_get(fe,"Compliance",!0,!0).$underline_style_section_titles())===c||null==$||$.$$is_boolean&&1!=$?l["$is_section_title?"](t.$peek_line()):d(l,"is_section_title?",e.to_a(t.$peek_lines(2)))))},F.$$arity=2),e.defs(_e,"$is_next_line_document_title?",U=function(e,t){
return this["$is_next_line_section?"](e,t)["$=="](0)},U.$$arity=2),e.defs(_e,"$is_section_title?",G=function(e,t){var n,$=this,r=c;return null==t&&(t=c),(n=r=$["$is_single_line_section_title?"](e))===c||null==n||n.$$is_boolean&&1!=n?!((n=t!==!1&&t!==c&&null!=t?r=$["$is_two_line_section_title?"](e,t):t)===c||null==n||n.$$is_boolean&&1!=n)&&r:r},G.$$arity=-2),e.defs(_e,"$is_single_line_section_title?",H=function(t){var n,$,r,o,i=this,l=c,a=c;return l=function(){return t!==!1&&t!==c&&null!=t?t.$chr():c}(),$=(r=l["$=="]("="))!==!1&&r!==c&&null!=r?r:(o=e.const_get(fe,"Compliance",!0,!0).$markdown_syntax(),o!==!1&&o!==c&&null!=o?l["$=="]("#"):o),!((n=$!==!1&&$!==c&&null!=$?a=e.const_get(fe,"AtxSectionRx",!0,!0).$match(t):$)===c||null==n||n.$$is_boolean&&1!=n)&&i.$single_line_section_level(a["$[]"](1))},H.$$arity=1),e.defs(_e,"$is_two_line_section_title?",Y=function(n,$){var r,o,l,a,s,u=this;return s=n!==!1&&n!==c&&null!=n?$:n,a=s!==!1&&s!==c&&null!=s?e.const_get(fe,"SECTION_LEVELS",!0,!0)["$has_key?"]($.$chr()):s,l=a!==!1&&a!==c&&null!=a?$["$=~"](e.const_get(fe,"SetextSectionLineRx",!0,!0)):a,o=l!==!1&&l!==c&&null!=l?n["$=~"](e.const_get(fe,"SetextSectionTitleRx",!0,!0)):l,!((r=o!==!1&&o!==c&&null!=o?i(t(u.$line_length(n),u.$line_length($)).$abs(),1):o)===c||null==r||r.$$is_boolean&&1!=r)&&u.$section_level($)},Y.$$arity=2),e.defs(_e,"$parse_section_title",K=function($,r){var l,a,s,u,_,d=this,f=c,p=c,h=c,g=c,b=c,m=c,y=c,v=c,w=c,k=c,x=c;return f=$.$read_line(),p=c,h=c,g=-1,b=c,m=!0,y=f.$chr(),a=(s=y["$=="]("="))!==!1&&s!==c&&null!=s?s:(u=e.const_get(fe,"Compliance",!0,!0).$markdown_syntax(),u!==!1&&u!==c&&null!=u?y["$=="]("#"):u),(l=a!==!1&&a!==c&&null!=a?v=e.const_get(fe,"AtxSectionRx",!0,!0).$match(f):a)===c||null==l||l.$$is_boolean&&1!=l?(l=e.const_get(fe,"Compliance",!0,!0).$underline_style_section_titles())===c||null==l||l.$$is_boolean&&1!=l||(_=k=$.$peek_line(!0),u=_!==!1&&_!==c&&null!=_?e.const_get(fe,"SECTION_LEVELS",!0,!0)["$has_key?"](k.$chr()):_,s=u!==!1&&u!==c&&null!=u?k["$=~"](e.const_get(fe,"SetextSectionLineRx",!0,!0)):u,a=s!==!1&&s!==c&&null!=s?x=e.const_get(fe,"SetextSectionTitleRx",!0,!0).$match(f):s,(l=a!==!1&&a!==c&&null!=a?i(t(d.$line_length(f),d.$line_length(k)).$abs(),1):a)===c||null==l||l.$$is_boolean&&1!=l||(h=x["$[]"](1),a=h["$end_with?"]("]]"),(l=a!==!1&&a!==c&&null!=a?w=e.const_get(fe,"InlineSectionAnchorRx",!0,!0).$match(h):a)===c||null==l||l.$$is_boolean&&1!=l||(l=w["$[]"](2)["$nil?"]())===c||null==l||l.$$is_boolean&&1!=l||(h=w["$[]"](1),p=w["$[]"](3),b=w["$[]"](4)),g=d.$section_level(k),m=!1,$.$advance())):(g=d.$single_line_section_level(v["$[]"](1)),h=v["$[]"](2),a=h["$end_with?"]("]]"),(l=a!==!1&&a!==c&&null!=a?w=e.const_get(fe,"InlineSectionAnchorRx",!0,!0).$match(h):a)===c||null==l||l.$$is_boolean&&1!=l||(l=w["$[]"](2)["$nil?"]())===c||null==l||l.$$is_boolean&&1!=l||(h=w["$[]"](1),p=w["$[]"](3),b=w["$[]"](4))),(l=o(g,0))===c||null==l||l.$$is_boolean&&1!=l||(g=n(g,r.$attr("leveloffset",0).$to_i())),[p,b,h,g,m]},K.$$arity=2),e.defs(_e,"$line_length",W=function(t){var n;return(n=e.const_get(fe,"FORCE_UNICODE_LINE_LENGTH",!0,!0))===c||null==n||n.$$is_boolean&&1!=n?t.$length():t.$scan(e.const_get(fe,"UnicodeCharScanRx",!0,!0)).$length()},W.$$arity=1),e.defs(_e,"$parse_header_metadata",X=function(r,o){var i,l,a,s,u=this,_=c,p=c,g=c,b=c,m=c,y=c,v=c,w=c,k=c,x=c,O=c,E=c;if(null==o&&(o=c),u.$process_attribute_entries(r,o),_=f([],{}),p=c,g=c,l=r["$has_more_lines?"](),(i=l!==!1&&l!==c&&null!=l?r["$next_line_empty?"]()["$!"]():l)===c||null==i||i.$$is_boolean&&1!=i||(b=u.$process_authors(r.$read_line()),((i=b["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&(o!==!1&&o!==c&&null!=o&&(d(b,"each",[],(a=function(n,$){var r,i=(a.$$s,c);return null==n&&(n=c),null==$&&($=c),(r=o.$attributes()["$has_key?"](n))===c||null==r||r.$$is_boolean&&1!=r?(i=[n,function(){return(r=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="]($))===c||null==r||r.$$is_boolean&&1!=r?$:o.$apply_header_subs($)}()],d(o.$attributes(),"[]=",e.to_a(i)),i[t(i.length,1)]):c},a.$$s=u,a.$$arity=2,a)),p=o.$attributes()["$[]"]("author"),g=o.$attributes()["$[]"]("authors")),_=b),u.$process_attribute_entries(r,o),m=f([],{}),l=r["$has_more_lines?"](),(i=l!==!1&&l!==c&&null!=l?r["$next_line_empty?"]()["$!"]():l)===c||null==i||i.$$is_boolean&&1!=i||(y=r.$read_line(),(i=v=e.const_get(fe,"RevisionInfoLineRx",!0,!0).$match(y))===c||null==i||i.$$is_boolean&&1!=i?r.$unshift_line(y):((i=v["$[]"](1))===c||null==i||i.$$is_boolean&&1!=i||(w=["revnumber",v["$[]"](1).$rstrip()],d(m,"[]=",e.to_a(w)),w[t(w.length,1)]),((i=(k=v["$[]"](2).$strip())["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&(l=v["$[]"](1)["$!"](),(i=l!==!1&&l!==c&&null!=l?k["$start_with?"]("v"):l)===c||null==i||i.$$is_boolean&&1!=i?(w=["revdate",k],d(m,"[]=",e.to_a(w)),w[t(w.length,1)]):(w=["revnumber",k["$[]"](h(1,-1,!1))],d(m,"[]=",e.to_a(w)),w[t(w.length,1)])),(i=v["$[]"](3))===c||null==i||i.$$is_boolean&&1!=i||(w=["revremark",v["$[]"](3).$rstrip()],d(m,"[]=",e.to_a(w)),w[t(w.length,1)]))),((i=m["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&(o!==!1&&o!==c&&null!=o&&d(m,"each",[],(s=function(n,$){var r;s.$$s;return null==n&&(n=c),null==$&&($=c),(r=o.$attributes()["$has_key?"](n))===c||null==r||r.$$is_boolean&&1!=r?(w=[n,o.$apply_header_subs($)],d(o.$attributes(),"[]=",e.to_a(w)),w[t(w.length,1)]):c},s.$$s=u,s.$$arity=2,s)),_.$update(m)),u.$process_attribute_entries(r,o),r.$skip_blank_lines()),o!==!1&&o!==c&&null!=o){if(b=c,l=o.$attributes()["$has_key?"]("author"),(i=l!==!1&&l!==c&&null!=l?(x=o.$attributes()["$[]"]("author"))["$!="](p):l)===c||null==i||i.$$is_boolean&&1!=i)if(l=o.$attributes()["$has_key?"]("authors"),(i=l!==!1&&l!==c&&null!=l?(x=o.$attributes()["$[]"]("authors"))["$!="](g):l)===c||null==i||i.$$is_boolean&&1!=i){for(O=[],E="author_"+n(O.$size(),1);(l=o.$attributes()["$has_key?"](E))!==c&&null!=l&&(!l.$$is_boolean||1==l);)O["$<<"](o.$attributes()["$[]"](E)),E="author_"+n(O.$size(),1);O.$size()["$=="](1)?b=u.$process_authors(O["$[]"](0),!0,!1):(i=$(O.$size(),1))===c||null==i||i.$$is_boolean&&1!=i||(b=u.$process_authors(O.$join("; "),!0))}else b=u.$process_authors(x,!0);else b=u.$process_authors(x,!0,!1);b!==!1&&b!==c&&null!=b&&(o.$attributes().$update(b),l=o.$attributes()["$has_key?"]("email")["$!"](),(i=l!==!1&&l!==c&&null!=l?o.$attributes()["$has_key?"]("email_1"):l)===c||null==i||i.$$is_boolean&&1!=i||(w=["email",o.$attributes()["$[]"]("email_1")],d(o.$attributes(),"[]=",e.to_a(w)),w[t(w.length,1)]))}return _},X.$$arity=-2),e.defs(_e,"$process_authors",V=function(r,o,i){var l,a,s=this,u=c,_=c,p=c;return null==o&&(o=!1),null==i&&(i=!0),u=f([],{}),_=["author","authorinitials","firstname","middlename","lastname","email"],p=function(){return i!==!1&&i!==c&&null!=i?d(r.$split(";"),"map",[],(l=function(e){l.$$s;return null==e&&(e=c),e.$strip()},l.$$s=s,l.$$arity=1,l)):[r]}(),d(p,"each_with_index",[],(a=function(r,i){var l,s,p,g,b,m=a.$$s||this,y=c,v=c,w=c,k=c,x=c,O=c,E=c;return null==r&&(r=c),null==i&&(i=c),(l=r["$empty?"]())===c||null==l||l.$$is_boolean&&1!=l?(y=f([],{}),i["$=="](0)?d(_,"each",[],(s=function(n){var $=(s.$$s,c);return null==n&&(n=c),$=[n.$to_sym(),n],d(y,"[]=",e.to_a($)),$[t($.length,1)]},s.$$s=m,s.$$arity=1,s)):d(_,"each",[],(p=function($){var r=(p.$$s,c);return null==$&&($=c),r=[$.$to_sym(),$+"_"+n(i,1)],d(y,"[]=",e.to_a(r)),r[t(r.length,1)]},p.$$s=m,p.$$arity=1,p)),v=c,o!==!1&&o!==c&&null!=o?(l=$((v=r.$split(" ")).$size(),3))===c||null==l||l.$$is_boolean&&1!=l||(v=v["$[]"](h(0,1,!1)).$push(v["$[]"](h(2,-1,!1)).$join(" "))):(l=w=e.const_get(fe,"AuthorInfoLineRx",!0,!0).$match(r))===c||null==l||l.$$is_boolean&&1!=l||(v=w.$to_a(),v.$shift()),(l=v["$nil?"]())===c||null==l||l.$$is_boolean&&1!=l?(k=[y["$[]"]("firstname"),x=v["$[]"](0).$tr("_"," ")],d(u,"[]=",e.to_a(k)),k[t(k.length,1)],k=[y["$[]"]("author"),x],d(u,"[]=",e.to_a(k)),k[t(k.length,1)],k=[y["$[]"]("authorinitials"),x["$[]"](0,1)],d(u,"[]=",e.to_a(k)),k[t(k.length,1)],g=v["$[]"](1)["$nil?"]()["$!"](),(l=g!==!1&&g!==c&&null!=g?v["$[]"](2)["$nil?"]()["$!"]():g)===c||null==l||l.$$is_boolean&&1!=l?(l=v["$[]"](1)["$nil?"]()["$!"]())===c||null==l||l.$$is_boolean&&1!=l||(k=[y["$[]"]("lastname"),E=v["$[]"](1).$tr("_"," ")],d(u,"[]=",e.to_a(k)),k[t(k.length,1)],k=[y["$[]"]("author"),[x,E].$join(" ")],d(u,"[]=",e.to_a(k)),k[t(k.length,1)],k=[y["$[]"]("authorinitials"),[x["$[]"](0,1),E["$[]"](0,1)].$join()],d(u,"[]=",e.to_a(k)),k[t(k.length,1)]):(k=[y["$[]"]("middlename"),O=v["$[]"](1).$tr("_"," ")],d(u,"[]=",e.to_a(k)),k[t(k.length,1)],k=[y["$[]"]("lastname"),E=v["$[]"](2).$tr("_"," ")],d(u,"[]=",e.to_a(k)),k[t(k.length,1)],k=[y["$[]"]("author"),[x,O,E].$join(" ")],d(u,"[]=",e.to_a(k)),k[t(k.length,1)],k=[y["$[]"]("authorinitials"),[x["$[]"](0,1),O["$[]"](0,1),E["$[]"](0,1)].$join()],d(u,"[]=",e.to_a(k)),k[t(k.length,1)]),((l=(g=o)!==!1&&g!==c&&null!=g?g:v["$[]"](3)["$nil?"]())===c||null==l||l.$$is_boolean&&1!=l)&&(k=[y["$[]"]("email"),v["$[]"](3)],d(u,"[]=",e.to_a(k)),k[t(k.length,1)])):(k=[y["$[]"]("author"),(k=[y["$[]"]("firstname"),x=r.$strip().$tr_s(" "," ")],d(u,"[]=",e.to_a(k)),k[t(k.length,1)])],d(u,"[]=",e.to_a(k)),k[t(k.length,1)],k=[y["$[]"]("authorinitials"),x["$[]"](0,1)],d(u,"[]=",e.to_a(k)),k[t(k.length,1)]),k=["authorcount",n(i,1)],d(u,"[]=",e.to_a(k)),k[t(k.length,1)],i["$=="](1)&&d(_,"each",[],(b=function(n){var $;b.$$s;return null==n&&(n=c),($=u["$has_key?"](n))===c||null==$||$.$$is_boolean&&1!=$?c:(k=[n+"_1",u["$[]"](n)],d(u,"[]=",e.to_a(k)),k[t(k.length,1)])},b.$$s=m,b.$$arity=1,b)),i["$=="](0)?(k=["authors",u["$[]"](y["$[]"]("author"))],d(u,"[]=",e.to_a(k)),k[t(k.length,1)]):(k=["authors",u["$[]"]("authors")+", "+u["$[]"](y["$[]"]("author"))],d(u,"[]=",e.to_a(k)),k[t(k.length,1)])):c},a.$$s=s,a.$$arity=2,a)),u},V.$$arity=-2),e.defs(_e,"$parse_block_metadata_lines",J=function(e,t,n,$){var r,o=this;for(null==n&&(n=f([],{})),null==$&&($=f([],{}));(r=o.$parse_block_metadata_line(e,t,n,$))!==c&&null!=r&&(!r.$$is_boolean||1==r);)e.$advance(),e.$skip_blank_lines();return n},J.$$arity=-3),e.defs(_e,"$parse_block_metadata_line",Z=function(n,$,r,o){var i,l,a,s=this,u=c,_=c,p=c,h=c,g=c,b=c;if(null==o&&(o=f([],{})),(i=n["$has_more_lines?"]())===c||null==i||i.$$is_boolean&&1!=i)return!1;if(u=n.$peek_line(),l=_=u["$start_with?"]("//"),(i=l!==!1&&l!==c&&null!=l?p=e.const_get(fe,"CommentBlockRx",!0,!0).$match(u):l)===c||null==i||i.$$is_boolean&&1!=i)if((i=(l=_!==!1&&_!==c&&null!=_)?e.const_get(fe,"CommentLineRx",!0,!0)["$=~"](u):_)===c||null==i||i.$$is_boolean&&1!=i)if(a=o["$[]"]("text")["$!"](),l=a!==!1&&a!==c&&null!=a?u["$start_with?"](":"):a,(i=l!==!1&&l!==c&&null!=l?p=e.const_get(fe,"AttributeEntryRx",!0,!0).$match(u):l)===c||null==i||i.$$is_boolean&&1!=i)if(a=u["$start_with?"]("["),l=g=a!==!1&&a!==c&&null!=a?u["$end_with?"]("]"):a,(i=l!==!1&&l!==c&&null!=l?p=e.const_get(fe,"BlockAnchorRx",!0,!0).$match(u):l)===c||null==i||i.$$is_boolean&&1!=i)if((i=(l=g!==!1&&g!==c&&null!=g)?p=e.const_get(fe,"BlockAttributeListRx",!0,!0).$match(u):g)===c||null==i||i.$$is_boolean&&1!=i){if(l=o["$[]"]("text")["$!"](),(i=l!==!1&&l!==c&&null!=l?p=e.const_get(fe,"BlockTitleRx",!0,!0).$match(u):l)===c||null==i||i.$$is_boolean&&1!=i)return!1;b=["title",p["$[]"](1)],d(r,"[]=",e.to_a(b)),b[t(b.length,1)]}else $.$document().$parse_attributes(p["$[]"](1),[],f(["sub_input","into"],{sub_input:!0,into:r}));else((i=p["$[]"](1)["$nil_or_empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&(b=["id",p["$[]"](1)],d(r,"[]=",e.to_a(b)),b[t(b.length,1)],((i=p["$[]"](2)["$nil?"]())===c||null==i||i.$$is_boolean&&1!=i)&&(b=["reftext",p["$[]"](2)],d(r,"[]=",e.to_a(b)),b[t(b.length,1)]));else s.$process_attribute_entry(n,$,r,p);else;else h=p["$[]"](0),n.$read_lines_until(f(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:h,skip_processing:!0}));return!0},Z.$$arity=-4),e.defs(_e,"$process_attribute_entries",Q=function(e,t,n){var $,r=this;for(null==n&&(n=c),e.$skip_comment_lines();($=r.$process_attribute_entry(e,t,n))!==c&&null!=$&&(!$.$$is_boolean||1==$);)e.$advance(),e.$skip_comment_lines()},Q.$$arity=-3),e.defs(_e,"$process_attribute_entry",ee=function(t,n,$,r){var o,i,l=this,a=c,s=c,u=c,_=c,d=c,f=c;if(null==$&&($=c),null==r&&(r=c),(o=r)!==!1&&o!==c&&null!=o||(r=function(){return(i=t["$has_more_lines?"]())===c||null==i||i.$$is_boolean&&1!=i?c:e.const_get(fe,"AttributeEntryRx",!0,!0).$match(t.$peek_line())}()),r!==!1&&r!==c&&null!=r){if(a=r["$[]"](1),(o=(s=(i=r["$[]"](2))!==!1&&i!==c&&null!=i?i:"")["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o){if((o=(i=s["$end_with?"](u=e.const_get(fe,"LINE_CONTINUATION",!0,!0)))!==!1&&i!==c&&null!=i?i:s["$end_with?"](u=e.const_get(fe,"LINE_CONTINUATION_LEGACY",!0,!0)))!==c&&null!=o&&(!o.$$is_boolean||1==o))for(s=s.$chop().$rstrip();(i=t.$advance())!==c&&null!=i&&(!i.$$is_boolean||1==i)&&((i=(_=t.$peek_line().$strip())["$empty?"]())===c||null==i||i.$$is_boolean&&1!=i)&&((i=d=_["$end_with?"](u))===c||null==i||i.$$is_boolean&&1!=i||(_=_.$chop().$rstrip()),f=function(){return(i=s["$end_with?"](e.const_get(fe,"LINE_BREAK",!0,!0)))===c||null==i||i.$$is_boolean&&1!=i?" ":e.const_get(fe,"EOL",!0,!0)}(),s=""+s+f+_,d!==!1&&d!==c&&null!=d););}else;return l.$store_attribute(a,s,function(){return n!==!1&&n!==c&&null!=n?n.$document():c}(),$),!0}return!1},ee.$$arity=-3),e.defs(_e,"$store_attribute",te=function($,r,o,i){var l,a=this,s=c,u=c;return null==o&&(o=c),null==i&&(i=c),(l=$["$end_with?"]("!"))===c||null==l||l.$$is_boolean&&1!=l?(l=$["$start_with?"]("!"))===c||null==l||l.$$is_boolean&&1!=l||(r=c,$=$["$[]"](h(1,-1,!1))):(r=c,$=$.$chop()),$=a.$sanitize_attribute_name($),s=!0,o!==!1&&o!==c&&null!=o&&($["$=="]("numbered")?$="sectnums":$["$=="]("leveloffset")&&r!==!1&&r!==c&&null!=r&&(u=r.$chr(),"+"["$==="](u)?r=n(o.$attr("leveloffset",0).$to_i(),((l=r["$[]"](h(1,-1,!1)))!==!1&&l!==c&&null!=l?l:0).$to_i()).$to_s():"-"["$==="](u)&&(r=t(o.$attr("leveloffset",0).$to_i(),((l=r["$[]"](h(1,-1,!1)))!==!1&&l!==c&&null!=l?l:0).$to_i()).$to_s())),s=function(){return r!==!1&&r!==c&&null!=r?o.$set_attribute($,r):o.$delete_attribute($)}()),(l=s!==!1&&s!==c&&null!=s?i:s)===c||null==l||l.$$is_boolean&&1!=l||(r!==!1&&r!==c&&null!=r&&(r=o.$attributes()["$[]"]($)),e.const_get([e.const_get(fe,"Document",!0,!0).$$scope],"AttributeEntry",!0,!0).$new($,r).$save_to(i)),[$,r]},te.$$arity=-3),e.defs(_e,"$resolve_list_marker",ne=function(e,t,n,$,r){var o,i=this;return null==n&&(n=0),null==$&&($=!1),null==r&&(r=c),(o=e["$=="]("olist")?t["$start_with?"](".")["$!"]():e["$=="]("olist"))===c||null==o||o.$$is_boolean&&1!=o?e["$=="]("colist")?"<1>":t:i.$resolve_ordered_list_marker(t,n,$,r)},ne.$$arity=-3),e.defs(_e,"$resolve_ordered_list_marker",$e=function(t,$,r,o){var i,l,a=this,s=c,u=c,_=c,f=c;return null==$&&($=0),null==r&&(r=!1),null==o&&(o=c),s=d(e.const_get(fe,"ORDERED_LIST_STYLES",!0,!0),"find",[],(i=function(n){i.$$s;return null==n&&(n=c),e.const_get(fe,"OrderedListMarkerRxMap",!0,!0)["$[]"](n)["$=~"](t)},i.$$s=a,i.$$arity=1,i)),u=_=c,f=s,"arabic"["$==="](f)?(r!==!1&&r!==c&&null!=r&&(u=n($,1),_=t.$to_i()),t="1."):"loweralpha"["$==="](f)?(r!==!1&&r!==c&&null!=r&&(u=n("a"["$[]"](0).$ord(),$).$chr(),_=t.$chomp(".")),t="a."):"upperalpha"["$==="](f)?(r!==!1&&r!==c&&null!=r&&(u=n("A"["$[]"](0).$ord(),$).$chr(),_=t.$chomp(".")),t="A."):"lowerroman"["$==="](f)?(r!==!1&&r!==c&&null!=r&&(u=n($,1),_=a.$roman_numeral_to_int(t.$chomp(")"))),t="i)"):"upperroman"["$==="](f)&&(r!==!1&&r!==c&&null!=r&&(u=n($,1),_=a.$roman_numeral_to_int(t.$chomp(")"))),t="I)"),(l=r!==!1&&r!==c&&null!=r?u["$!="](_):r)===c||null==l||l.$$is_boolean&&1!=l||a.$warn("asciidoctor: WARNING: "+o.$line_info()+": list item index: expected "+u+", got "+_),t},$e.$$arity=-2),e.defs(_e,"$is_sibling_list_item?",re=function(t,n,$){var r,o=this,i=c,l=c,a=c;return(r=e.const_get([e.Object.$$scope],"Regexp",!0,!0)["$==="]($))===c||null==r||r.$$is_boolean&&1!=r?(i=e.const_get(fe,"ListRxMap",!0,!0)["$[]"](n),l=$):(i=$,l=!1),!((r=a=i.$match(t))===c||null==r||r.$$is_boolean&&1!=r)&&(l===!1||l===c||null==l||l["$=="](o.$resolve_list_marker(n,a["$[]"](1))))},re.$$arity=3),e.defs(_e,"$next_table",oe=function($,r,o){var i,l,a,s,u,_,f=this,p=c,g=c,b=c,m=c,y=c,v=c,w=c,k=c,x=c,O=c,E=c,A=c,S=c,R=c;for(p=e.const_get(fe,"Table",!0,!0).$new(r,o),(i=o["$has_key?"]("title"))===c||null==i||i.$$is_boolean&&1!=i||(g=[o.$delete("title")],d(p,"title=",e.to_a(g)),g[t(g.length,1)],p.$assign_caption(o.$delete("caption"))),l=o["$key?"]("cols"),(i=l!==!1&&l!==c&&null!=l?(b=f.$parse_colspecs(o["$[]"]("cols")))["$empty?"]()["$!"]():l)===c||null==i||i.$$is_boolean&&1!=i?m=!1:(p.$create_columns(b),m=!0),y=$.$skip_blank_lines(),v=e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ParserContext",!0,!0).$new($,p,o),w=(i=o["$key?"]("header-option"))!==!1&&i!==c&&null!=i?i:o["$key?"]("noheader-option"),k=-1;(l=$["$has_more_lines?"]())!==c&&null!=l&&(!l.$$is_boolean||1==l);){for(k=n(k,1),x=$.$read_line(),_=w["$!"](),u=_!==!1&&_!==c&&null!=_?y["$=="](0):_,s=u!==!1&&u!==c&&null!=u?k["$=="](0):u,a=s!==!1&&s!==c&&null!=s?(O=$.$peek_line())["$nil?"]()["$!"]():s,(l=a!==!1&&a!==c&&null!=a?O["$empty?"]():a)===c||null==l||l.$$is_boolean&&1!=l||(g=[!0],d(p,"has_header_option=",e.to_a(g)),g[t(g.length,1)],g=["header-option",""],d(o,"[]=",e.to_a(g)),g[t(g.length,1)],g=["options",function(){return(l=o["$key?"]("options"))===c||null==l||l.$$is_boolean&&1!=l?"header":o["$[]"]("options")+",header"}()],d(o,"[]=",e.to_a(g)),g[t(g.length,1)]),v.$format()["$=="]("psv")&&((l=v["$starts_with_delimiter?"](x))===c||null==l||l.$$is_boolean&&1!=l?(a=f.$parse_cellspec(x,"start",v.$delimiter()),l=e.to_ary(a),E=null==l[0]?c:l[0],x=null==l[1]?c:l[1],(l=E["$nil?"]()["$!"]())===c||null==l||l.$$is_boolean&&1!=l||v.$close_open_cell(E)):(x=x["$[]"](h(1,-1,!1)),v.$close_open_cell())),A=!1;(a=(s=A["$!"]())!==!1&&s!==c&&null!=s?s:x["$empty?"]()["$!"]())!==c&&null!=a&&(!a.$$is_boolean||1==a);)if(A=!0,(a=S=v.$match_delimiter(x))===c||null==a||a.$$is_boolean&&1!=a)g=[""+v.$buffer()+x+e.const_get(fe,"EOL",!0,!0)],d(v,"buffer=",e.to_a(g)),g[t(g.length,1)],v.$format()["$=="]("csv")&&(g=[v.$buffer().$rstrip()+" "],d(v,"buffer=",e.to_a(g)),g[t(g.length,1)]),x="",(a=(s=v.$format()["$=="]("psv"))!==!1&&s!==c&&null!=s?s:(u=v.$format()["$=="]("csv"))?v["$buffer_has_unclosed_quotes?"]():v.$format()["$=="]("csv"))===c||null==a||a.$$is_boolean&&1!=a?v.$close_cell(!0):v.$keep_cell_open();else{if(v.$format()["$=="]("csv")){if((a=v["$buffer_has_unclosed_quotes?"](S.$pre_match()))!==c&&null!=a&&(!a.$$is_boolean||1==a)){x=v.$skip_matched_delimiter(S);continue}}else if((a=S.$pre_match()["$end_with?"]("\\"))!==c&&null!=a&&(!a.$$is_boolean||1==a)){if((a=(x=v.$skip_matched_delimiter(S,!0))["$empty?"]())!==c&&null!=a&&(!a.$$is_boolean||1==a)){g=[""+v.$buffer()+e.const_get(fe,"EOL",!0,!0)],d(v,"buffer=",e.to_a(g)),g[t(g.length,1)],v.$keep_cell_open();break}continue}v.$format()["$=="]("psv")?(s=f.$parse_cellspec(S.$pre_match(),"end"),a=e.to_ary(s),E=null==a[0]?c:a[0],R=null==a[1]?c:a[1],v.$push_cellspec(E),g=[""+v.$buffer()+R],d(v,"buffer=",e.to_a(g)),g[t(g.length,1)]):(g=[""+v.$buffer()+S.$pre_match()],d(v,"buffer=",e.to_a(g)),g[t(g.length,1)]),(a=(x=S.$post_match())["$empty?"]())===c||null==a||a.$$is_boolean&&1!=a||(A=!1),v.$close_cell()}((l=v["$cell_open?"]())===c||null==l||l.$$is_boolean&&1!=l)&&(y=$.$skip_blank_lines()),((l=$["$has_more_lines?"]())===c||null==l||l.$$is_boolean&&1!=l)&&((l=v["$cell_open?"]())===c||null==l||l.$$is_boolean&&1!=l||v.$close_cell(!0))}return((i=(l=(a="colcount",s=p.$attributes(),(u=s["$[]"](a))!==!1&&u!==c&&null!=u?u:s["$[]="](a,p.$columns().$size()))["$=="](0))!==!1&&l!==c&&null!=l?l:m)===c||null==i||i.$$is_boolean&&1!=i)&&p.$assign_column_widths(),p.$partition_header_footer(o),p},oe.$$arity=3),e.defs(_e,"$parse_colspecs",ie=function(n){var $,r,o,i=this,l=c;return($=n["$include?"](" "))===c||null==$||$.$$is_boolean&&1!=$||(n=n.$tr(" ","")),n["$=="](n.$to_i().$to_s())?d(e.const_get([e.Object.$$scope],"Array",!0,!0),"new",[n.$to_i()],(r=function(){r.$$s;return f(["width"],{width:1})},r.$$s=i,r.$$arity=0,r)):(l=[],d(n.$split(",",-1),"each",[],(o=function(n){var $,r,i,a=o.$$s||this,s=c,u=c,_=c,p=c,h=c;return null==n&&(n=c),($=n["$empty?"]())===c||null==$||$.$$is_boolean&&1!=$?($=s=e.const_get(fe,"ColumnSpecRx",!0,!0).$match(n))===c||null==$||$.$$is_boolean&&1!=$?c:(u=f([],{}),($=s["$[]"](2))===c||null==$||$.$$is_boolean&&1!=$||(r=s["$[]"](2).$split("."),$=e.to_ary(r),_=null==$[0]?c:$[0],p=null==$[1]?c:$[1],r=_["$nil_or_empty?"]()["$!"](),($=r!==!1&&r!==c&&null!=r?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$has_key?"](_):r)===c||null==$||$.$$is_boolean&&1!=$||(h=["halign",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$[]"](_)],d(u,"[]=",e.to_a(h)),h[t(h.length,1)]),r=p["$nil_or_empty?"]()["$!"](),($=r!==!1&&r!==c&&null!=r?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$has_key?"](p):r)===c||null==$||$.$$is_boolean&&1!=$||(h=["valign",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$[]"](p)],d(u,"[]=",e.to_a(h)),h[t(h.length,1)])),h=["width",function(){return($=s["$[]"](3))===c||null==$||$.$$is_boolean&&1!=$?1:s["$[]"](3).$to_i()}()],d(u,"[]=",e.to_a(h)),h[t(h.length,1)],r=s["$[]"](4),($=r!==!1&&r!==c&&null!=r?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$has_key?"](s["$[]"](4)):r)===c||null==$||$.$$is_boolean&&1!=$||(h=["style",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$[]"](s["$[]"](4))],d(u,"[]=",e.to_a(h)),h[t(h.length,1)]),($=s["$[]"](1))===c||null==$||$.$$is_boolean&&1!=$?l["$<<"](u):d(1,"upto",[s["$[]"](1).$to_i()],(i=function(){i.$$s;return l["$<<"](u.$dup())},i.$$s=a,i.$$arity=0,i))):l["$<<"](f(["width"],{width:1}))},o.$$s=i,o.$$arity=1,o)),l)},ie.$$arity=1),e.defs(_e,"$parse_cellspec",le=function(n,$,r){var o,i,l=c,a=c,s=c,u=c,_=c,p=c,h=c,g=c;if(null==$&&($="start"),null==r&&(r=c),l=c,a="",s=$,"start"["$==="](s)){if((o=n["$include?"](r))===c||null==o||o.$$is_boolean&&1!=o)return[c,n];if(i=n.$split(r,2),o=e.to_ary(i),u=null==o[0]?c:o[0],a=null==o[1]?c:o[1],(o=l=e.const_get(fe,"CellSpecStartRx",!0,!0).$match(u))===c||null==o||o.$$is_boolean&&1!=o)return[c,n];if((o=l["$[]"](0)["$empty?"]())!==c&&null!=o&&(!o.$$is_boolean||1==o))return[f([],{}),a]}else if("end"["$==="](s)){if((o=l=e.const_get(fe,"CellSpecEndRx",!0,!0).$match(n))===c||null==o||o.$$is_boolean&&1!=o)return[f([],{}),n];if((o=l["$[]"](0).$lstrip()["$empty?"]())!==c&&null!=o&&(!o.$$is_boolean||1==o))return[f([],{}),n.$rstrip()];a=l.$pre_match()}return _=f([],{}),(o=l["$[]"](1))===c||null==o||o.$$is_boolean&&1!=o||(i=l["$[]"](1).$split("."),o=e.to_ary(i),p=null==o[0]?c:o[0],h=null==o[1]?c:o[1],p=function(){return(o=p["$nil_or_empty?"]())===c||null==o||o.$$is_boolean&&1!=o?p.$to_i():1}(),h=function(){return(o=h["$nil_or_empty?"]())===c||null==o||o.$$is_boolean&&1!=o?h.$to_i():1}(),l["$[]"](2)["$=="]("+")?(p["$=="](1)||(g=["colspan",p],d(_,"[]=",e.to_a(g)),g[t(g.length,1)]),h["$=="](1)||(g=["rowspan",h],d(_,"[]=",e.to_a(g)),g[t(g.length,1)])):l["$[]"](2)["$=="]("*")&&(p["$=="](1)||(g=["repeatcol",p],d(_,"[]=",e.to_a(g)),g[t(g.length,1)]))),(o=l["$[]"](3))===c||null==o||o.$$is_boolean&&1!=o||(i=l["$[]"](3).$split("."),o=e.to_ary(i),p=null==o[0]?c:o[0],h=null==o[1]?c:o[1],i=p["$nil_or_empty?"]()["$!"](),(o=i!==!1&&i!==c&&null!=i?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$has_key?"](p):i)===c||null==o||o.$$is_boolean&&1!=o||(g=["halign",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$[]"](p)],d(_,"[]=",e.to_a(g)),g[t(g.length,1)]),i=h["$nil_or_empty?"]()["$!"](),(o=i!==!1&&i!==c&&null!=i?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$has_key?"](h):i)===c||null==o||o.$$is_boolean&&1!=o||(g=["valign",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$[]"](h)],d(_,"[]=",e.to_a(g)),g[t(g.length,1)])),i=l["$[]"](4),(o=i!==!1&&i!==c&&null!=i?e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$has_key?"](l["$[]"](4)):i)===c||null==o||o.$$is_boolean&&1!=o||(g=["style",e.const_get([e.const_get(fe,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$[]"](l["$[]"](4))],d(_,"[]=",e.to_a(g)),g[t(g.length,1)]),[_,a]},le.$$arity=-2),e.defs(_e,"$parse_style_attribute",ae=function($,o){var i,l,a,s,u,_=this,p=c,h=c,g=c,b=c,m=c,y=c,v=c,w=c,k=c,x=c;return null==o&&(o=c),p=$["$[]"]("style"),h=$["$[]"](1),l=h!==!1&&h!==c&&null!=h?h["$include?"](" ")["$!"]():h,(i=l!==!1&&l!==c&&null!=l?e.const_get(fe,"Compliance",!0,!0).$shorthand_property_syntax():l)===c||null==i||i.$$is_boolean&&1!=i?(w=["style",h],d($,"[]=",e.to_a(w)),w[t(w.length,1)],[h,p]):(g="style",b=[],m=f([],{}),y=d(_,"lambda",[],(a=function(){var n,$,r,i=a.$$s||this,l=c,s=c;return(n=b["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n?(l=g,"role"["$==="](l)||"option"["$==="](l)?(n=g,$=m,(r=$["$[]"](n))!==!1&&r!==c&&null!=r||$["$[]="](n,[]),m["$[]"](g).$push(b.$join())):"id"["$==="](l)?((n=m["$has_key?"]("id"))===c||null==n||n.$$is_boolean&&1!=n||i.$warn("asciidoctor: WARNING:"+function(){return(n=o["$nil?"]())===c||null==n||n.$$is_boolean&&1!=n?" "+o.$prev_line_info()+":":c}()+" multiple ids detected in style attribute"),s=[g,b.$join()],d(m,"[]=",e.to_a(s)),s[t(s.length,1)]):(s=[g,b.$join()],d(m,"[]=",e.to_a(s)),s[t(s.length,1)]),b=[]):(n=g["$!="]("style"))===c||null==n||n.$$is_boolean&&1!=n?c:i.$warn("asciidoctor: WARNING:"+function(){return(n=o["$nil?"]())===c||null==n||n.$$is_boolean&&1!=n?" "+o.$prev_line_info()+":":c}()+" invalid empty "+g+" detected in style attribute")},a.$$s=_,a.$$arity=0,a)),d(h,"each_char",[],(s=function(e){var t,n,$,r=(s.$$s,c);return null==e&&(e=c),(t=(n=($=e["$=="]("."))!==!1&&$!==c&&null!=$?$:e["$=="]("#"))!==!1&&n!==c&&null!=n?n:e["$=="]("%"))===c||null==t||t.$$is_boolean&&1!=t?b.$push(e):(y.$call(),function(){return r=e,"."["$==="](r)?g="role":"#"["$==="](r)?g="id":"%"["$==="](r)?g="option":c}())},s.$$s=_,s.$$arity=1,s)),g["$=="]("style")?(w=["style",h],d($,"[]=",e.to_a(w)),v=w[t(w.length,1)]):(y.$call(),(i=m["$has_key?"]("style"))===c||null==i||i.$$is_boolean&&1!=i?v=c:(w=["style",m["$[]"]("style")],d($,"[]=",e.to_a(w)),v=w[t(w.length,1)]),(i=m["$has_key?"]("id"))===c||null==i||i.$$is_boolean&&1!=i||(w=["id",m["$[]"]("id")],d($,"[]=",e.to_a(w)),w[t(w.length,1)]),(i=m["$has_key?"]("role"))===c||null==i||i.$$is_boolean&&1!=i||(w=["role",r(m["$[]"]("role")," ")],d($,"[]=",e.to_a(w)),w[t(w.length,1)]),(i=m["$has_key?"]("option"))===c||null==i||i.$$is_boolean&&1!=i||(d(k=m["$[]"]("option"),"each",[],(u=function(n){u.$$s;return null==n&&(n=c),w=[n+"-option",""],d($,"[]=",e.to_a(w)),w[t(w.length,1)]},u.$$s=_,u.$$arity=1,u)),(i=x=$["$[]"]("options"))===c||null==i||i.$$is_boolean&&1!=i?(w=["options",r(k,",")],d($,"[]=",e.to_a(w)),w[t(w.length,1)]):(w=["options",r(n(k,x.$split(",")),",")],d($,"[]=",e.to_a(w)),w[t(w.length,1)]))),[v,p])},ae.$$arity=-2),e.defs(_e,"$adjust_indentation!",se=function(o,i,l){var a,s,u,_,f,p,h,b=this,m=c,y=c,v=c;return null==i&&(i=0),null==l&&(l=0),(a=o["$empty?"]())===c||null==a||a.$$is_boolean&&1!=a?(s=$(l=l.$to_i(),0),(a=s!==!1&&s!==c&&null!=s?o.$join()["$include?"](e.const_get(fe,"TAB",!0,!0)):s)===c||null==a||a.$$is_boolean&&1!=a||(m=r(" ",l),d(o,"map!",[],(u=function($){var o,i,a,s=u.$$s||this,_=c;return null==$&&($=c),(o=$["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o?((o=$["$start_with?"](e.const_get(fe,"TAB",!0,!0)))===c||null==o||o.$$is_boolean&&1!=o||($=d($,"sub",[e.const_get(fe,"TabIndentRx",!0,!0)],(i=function(e){i.$$s;return null==e&&(e=c),r(m,e.$length())},i.$$s=s,i.$$arity=1,i))),(o=$["$include?"](e.const_get(fe,"TAB",!0,!0)))===c||null==o||o.$$is_boolean&&1!=o?$:(_=0,$=d($,"gsub",[e.const_get(fe,"TabRx",!0,!0)],(a=function(){var e=(a.$$s,c),$=c;return null==g["~"]&&(g["~"]=c),(e=n(g["~"].$begin(0),_))["$%"](l)["$=="](0)?(_=n(_,t(l,1)),m):(($=t(l,e["$%"](l)))["$=="](1)||(_=n(_,t($,1))),r(" ",$))},a.$$s=s,a.$$arity=0,a)))):$},u.$$s=b,u.$$arity=1,u))),(a=(s=i!==!1&&i!==c&&null!=i)?$(i=i.$to_i(),-1):i)===c||null==a||a.$$is_boolean&&1!=a?c:(y=c,function(){var n=e.new_brk();try{d(o,"each",[],(_=function(r){var o,i=(_.$$s,c);return null==r&&(r=c),(o=r["$empty?"]())===c||null==o||o.$$is_boolean&&1!=o?(i=t(r.$length(),r.$lstrip().$length()))["$=="](0)?(y=c,void e.brk(c,n)):(o=y!==!1&&y!==c&&null!=y?$(i,y):y)===c||null==o||o.$$is_boolean&&1!=o?y=i:c:c},_.$$s=b,_.$$brk=n,_.$$arity=1,_))}catch(e){if(e===n)return e.$v;throw e}}(),i["$=="](0)?y!==!1&&y!==c&&null!=y&&d(o,"map!",[],(f=function(t){var n;f.$$s;return null==t&&(t=c),(n=t["$empty?"]())===c||null==n||n.$$is_boolean&&1!=n?t["$[]"](e.Range.$new(y,-1,!1)):t},f.$$s=b,f.$$arity=1,f)):(v=r(" ",i),y!==!1&&y!==c&&null!=y?d(o,"map!",[],(p=function(t){var $;p.$$s;return null==t&&(t=c),($=t["$empty?"]())===c||null==$||$.$$is_boolean&&1!=$?n(v,t["$[]"](e.Range.$new(y,-1,!1))):t},p.$$s=b,p.$$arity=1,p)):d(o,"map!",[],(h=function(e){var t;h.$$s;return null==e&&(e=c),(t=e["$empty?"]())===c||null==t||t.$$is_boolean&&1!=t?n(v,e):e},h.$$s=b,h.$$arity=1,h))),c)):c},se.$$arity=-2),e.defs(_e,"$sanitize_attribute_name",ce=function(t){return t.$gsub(e.const_get(fe,"InvalidAttributeNameCharsRx",!0,!0),"").$downcase()},ce.$$arity=1),e.defs(_e,"$roman_numeral_to_int",ue=function(r){var o,i=this,a=c,s=c;return r=r.$downcase(),a=f(["i","v","x"],{i:1,v:5,x:10}),s=0,d(e.Range.$new(0,t(r.$length(),1),!1),"each",[],(o=function(i){var u,_,d=(o.$$s,c);return null==i&&(i=c),d=a["$[]"](r["$[]"](e.Range.$new(i,i,!1))),_=l(n(i,1),r.$length()),s=(u=_!==!1&&_!==c&&null!=_?$(a["$[]"](r["$[]"](e.Range.$new(n(i,1),n(i,1),!1))),d):_)===c||null==u||u.$$is_boolean&&1!=u?n(s,d):t(s,d)},o.$$s=i,o.$$arity=1,o)),s},ue.$$arity=1)}(y.base,0,v)}(a.base,s)},Opal.modules["asciidoctor/path_resolver"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var o=(e.top,e),i=[e],l=e.nil,a=(e.breaker,e.slice,e.module),s=e.klass,c=e.hash2,u=e.range,_=e.send;return e.add_stubs(["$attr_accessor","$is_root?","$expand_path","$pwd","$start_with?","$==","$=~","$nil_or_empty?","$include?","$tr","$partition_path","$join_path","$[]","$posixfy","$is_web_root?","$is_unc?","$index","$split","$shift","$delete","$[]=","$-","$*","$raise","$empty?","$system_path","$!=","$!","$dup","$each","$>","$length","$pop","$fetch","$warn","$push","$chomp","$uri_prefix","$<<","$+"]),function(o,i){var d,f=d=a(o,"Asciidoctor"),p=(f.$$proto,f.$$scope),h=i.slice().concat(p);!function(o,i,a){function d(){}var f,p,h,g,b,m,y,v,w,k,x,O=d=s(o,null,"PathResolver",d),E=O.$$proto,A=O.$$scope,S=a.slice().concat(A);E.file_separator=E._partition_path_web=E._partition_path_sys=E.working_dir=l,e.cdecl(A,"DOT","."),e.cdecl(A,"DOT_DOT",".."),e.cdecl(A,"DOT_SLASH","./"),e.cdecl(A,"SLASH","/"),e.cdecl(A,"BACKSLASH","\\"),e.cdecl(A,"DOUBLE_SLASH","//"),e.cdecl(A,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),O.$attr_accessor("file_separator"),O.$attr_accessor("working_dir"),e.defn(O,"$initialize",f=function(t,n){var $,r=this;return null==t&&(t=l),null==n&&(n=l),r.file_separator=function(){return t!==!1&&t!==l&&null!=t?t:($=e.const_get([e.const_get([e.Object.$$scope],"File",!0,!0).$$scope],"ALT_SEPARATOR",!0,!0))!==!1&&$!==l&&null!=$?$:e.const_get([e.const_get([e.Object.$$scope],"File",!0,!0).$$scope],"SEPARATOR",!0,!0)}(),r.working_dir=n!==!1&&n!==l&&null!=n?function(){return($=r["$is_root?"](n))===l||null==$||$.$$is_boolean&&1!=$?e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(n):n}():e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(e.const_get([e.Object.$$scope],"Dir",!0,!0).$pwd()),r._partition_path_sys=c([],{}),r._partition_path_web=c([],{})},f.$$arity=-1),e.defn(O,"$is_root?",p=function(t){
var n,$,r,o=this;return!((n=t["$start_with?"](e.const_get(S,"SLASH",!0,!0)))===l||null==n||n.$$is_boolean&&1!=n)||(!((n=($=o.file_separator["$=="](e.const_get(S,"BACKSLASH",!0,!0)))?e.const_get(S,"WindowsRootRx",!0,!0)["$=~"](t):o.file_separator["$=="](e.const_get(S,"BACKSLASH",!0,!0)))===l||null==n||n.$$is_boolean&&1!=n)||(r=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0),$=r!==!1&&r!==l&&null!=r?e.const_get([e.Object.$$scope],"JAVASCRIPT_PLATFORM",!0,!0)["$=="]("browser"):r,!((n=$!==!1&&$!==l&&null!=$?t["$start_with?"]("file://"):$)===l||null==n||n.$$is_boolean&&1!=n)))},p.$$arity=1),e.defn(O,"$is_unc?",h=function(t){return t["$start_with?"](e.const_get(S,"DOUBLE_SLASH",!0,!0))},h.$$arity=1),e.defn(O,"$is_web_root?",g=function(t){return t["$start_with?"](e.const_get(S,"SLASH",!0,!0))},g.$$arity=1),e.defn(O,"$posixfy",b=function(t){var n;return(n=t["$nil_or_empty?"]())===l||null==n||n.$$is_boolean&&1!=n?(n=t["$include?"](e.const_get(S,"BACKSLASH",!0,!0)))===l||null==n||n.$$is_boolean&&1!=n?t:t.$tr(e.const_get(S,"BACKSLASH",!0,!0),e.const_get(S,"SLASH",!0,!0)):""},b.$$arity=1),e.defn(O,"$expand_path",m=function(t){var n,$,r=this,o=l,i=l;return $=r.$partition_path(t),n=e.to_ary($),o=null==n[0]?l:n[0],i=null==n[1]?l:n[1],null==n[2]?l:n[2],r.$join_path(o,i)},m.$$arity=1),e.defn(O,"$partition_path",y=function(n,$){var r,o=this,i=l,a=l,s=l,c=l,d=l;return null==$&&($=!1),(r=i=function(){return $!==!1&&$!==l&&null!=$?o._partition_path_web["$[]"](n):o._partition_path_sys["$[]"](n)}())===l||null==r||r.$$is_boolean&&1!=r?(a=o.$posixfy(n),s=function(){return $!==!1&&$!==l&&null!=$?(r=o["$is_web_root?"](a))===l||null==r||r.$$is_boolean&&1!=r?(r=a["$start_with?"](e.const_get(S,"DOT_SLASH",!0,!0)))===l||null==r||r.$$is_boolean&&1!=r?l:e.const_get(S,"DOT_SLASH",!0,!0):e.const_get(S,"SLASH",!0,!0):(r=o["$is_root?"](a))===l||null==r||r.$$is_boolean&&1!=r?(r=a["$start_with?"](e.const_get(S,"DOT_SLASH",!0,!0)))===l||null==r||r.$$is_boolean&&1!=r?l:e.const_get(S,"DOT_SLASH",!0,!0):(r=o["$is_unc?"](a))===l||null==r||r.$$is_boolean&&1!=r?(r=a["$start_with?"](e.const_get(S,"SLASH",!0,!0)))===l||null==r||r.$$is_boolean&&1!=r?a["$[]"](e.Range.$new(0,a.$index(e.const_get(S,"SLASH",!0,!0)),!1)):e.const_get(S,"SLASH",!0,!0):e.const_get(S,"DOUBLE_SLASH",!0,!0)}(),c=a.$split(e.const_get(S,"SLASH",!0,!0)),s["$=="](e.const_get(S,"DOUBLE_SLASH",!0,!0))?c=c["$[]"](u(2,-1,!1)):s!==!1&&s!==l&&null!=s&&c.$shift(),c.$delete(e.const_get(S,"DOT",!0,!0)),d=[n,[c,s,a]],_(function(){return $!==!1&&$!==l&&null!=$?o._partition_path_web:o._partition_path_sys}(),"[]=",e.to_a(d)),d[t(d.length,1)]):i},y.$$arity=-2),e.defn(O,"$join_path",v=function(t,$){return null==$&&($=l),$!==!1&&$!==l&&null!=$?""+$+n(t,e.const_get(S,"SLASH",!0,!0)):n(t,e.const_get(S,"SLASH",!0,!0))},v.$$arity=-2),e.defn(O,"$system_path",w=function(t,n,r,o){var i,a,s,u=this,d=l,f=l,p=l,h=l,g=l,b=l,m=l,y=l,v=l;if(null==r&&(r=l),null==o&&(o=c([],{})),r!==!1&&r!==l&&null!=r&&(((i=u["$is_root?"](r))===l||null==i||i.$$is_boolean&&1!=i)&&u.$raise(e.const_get([e.Object.$$scope],"SecurityError",!0,!0),"Jail is not an absolute path: "+r),r=u.$posixfy(r)),(i=t["$nil_or_empty?"]())===l||null==i||i.$$is_boolean&&1!=i?(a=u.$partition_path(t),i=e.to_ary(a),d=null==i[0]?l:i[0],f=null==i[1]?l:i[1],null==i[2]?l:i[2]):d=[],(i=d["$empty?"]())!==l&&null!=i&&(!i.$$is_boolean||1==i)){if(!((i=n["$nil_or_empty?"]())===l||null==i||i.$$is_boolean&&1!=i))return function(){return r!==!1&&r!==l&&null!=r?r:u.working_dir}();if((i=u["$is_root?"](n))===l||null==i||i.$$is_boolean&&1!=i)return u.$system_path(n,r,r,o);if(r===!1||r===l||null==r)return u.$expand_path(n)}return(i=(a=f!==!1&&f!==l&&null!=f)?f["$!="](e.const_get(S,"DOT_SLASH",!0,!0)):f)===l||null==i||i.$$is_boolean&&1!=i||(p=u.$join_path(d,f),(i=(a=r["$!"]())!==!1&&a!==l&&null!=a?a:p["$start_with?"](r))===l||null==i||i.$$is_boolean&&1!=i)?(n=(i=n["$nil_or_empty?"]())===l||null==i||i.$$is_boolean&&1!=i?(i=u["$is_root?"](n))===l||null==i||i.$$is_boolean&&1!=i?u.$system_path(n,r,r,o):u.$posixfy(n):function(){return r!==!1&&r!==l&&null!=r?r:u.working_dir}(),r["$=="](n)?(a=u.$partition_path(r),i=e.to_ary(a),h=null==i[0]?l:i[0],g=null==i[1]?l:i[1],null==i[2]?l:i[2],b=h.$dup()):r!==!1&&r!==l&&null!=r?(((i=n["$start_with?"](r))===l||null==i||i.$$is_boolean&&1!=i)&&u.$raise(e.const_get([e.Object.$$scope],"SecurityError",!0,!0),((i=o["$[]"]("target_name"))!==!1&&i!==l&&null!=i?i:"Start path")+" "+n+" is outside of jail: "+r+" (disallowed in safe mode)"),a=u.$partition_path(n),i=e.to_ary(a),b=null==i[0]?l:i[0],m=null==i[1]?l:i[1],null==i[2]?l:i[2],a=u.$partition_path(r),i=e.to_ary(a),h=null==i[0]?l:i[0],g=null==i[1]?l:i[1],null==i[2]?l:i[2]):(a=u.$partition_path(n),i=e.to_ary(a),b=null==i[0]?l:i[0],m=null==i[1]?l:i[1],null==i[2]?l:i[2],g=m),y=b.$dup(),v=!1,_(d,"each",[],(s=function(n){var i,a,c=s.$$s||this,u=l;return null==n&&(n=l),n["$=="](e.const_get(S,"DOT_DOT",!0,!0))?r!==!1&&r!==l&&null!=r&&((i=$(y.$length(),h.$length()))===l||null==i||i.$$is_boolean&&1!=i)?(i=((a=u)!==!1&&a!==l&&null!=a?a:u=o.$fetch("recover",!0))["$!"]())===l||null==i||i.$$is_boolean&&1!=i?(i=v["$!"]())===l||null==i||i.$$is_boolean&&1!=i?l:(c.$warn("asciidoctor: WARNING: "+((i=o["$[]"]("target_name"))!==!1&&i!==l&&null!=i?i:"path")+" has illegal reference to ancestor of jail, auto-recovering"),v=!0):c.$raise(e.const_get([e.Object.$$scope],"SecurityError",!0,!0),((i=o["$[]"]("target_name"))!==!1&&i!==l&&null!=i?i:"path")+" "+t+" refers to location outside jail: "+r+" (disallowed in safe mode)"):y.$pop():y.$push(n)},s.$$s=u,s.$$arity=1,s)),u.$join_path(y,g)):p},w.$$arity=-3),e.defn(O,"$web_path",k=function(t,n){var $,r,o,i=this,a=l,s=l,c=l,u=l;return null==n&&(n=l),t=i.$posixfy(t),n=i.$posixfy(n),a=l,(($=(r=n["$nil_or_empty?"]())!==!1&&r!==l&&null!=r?r:i["$is_web_root?"](t))===l||null==$||$.$$is_boolean&&1!=$)&&(t=""+n.$chomp("/")+e.const_get(S,"SLASH",!0,!0)+t,($=a=e.const_get(S,"Helpers",!0,!0).$uri_prefix(t))===l||null==$||$.$$is_boolean&&1!=$||(t=t["$[]"](e.Range.$new(a.$length(),-1,!1)))),r=i.$partition_path(t,!0),$=e.to_ary(r),s=null==$[0]?l:$[0],c=null==$[1]?l:$[1],null==$[2]?l:$[2],u=[],_(s,"each",[],(o=function(t){var n;o.$$s;return null==t&&(t=l),t["$=="](e.const_get(S,"DOT_DOT",!0,!0))?(n=u["$empty?"]())===l||null==n||n.$$is_boolean&&1!=n?u["$[]"](-1)["$=="](e.const_get(S,"DOT_DOT",!0,!0))?u["$<<"](t):u.$pop():(n=c!==!1&&c!==l&&null!=c?c["$!="](e.const_get(S,"DOT_SLASH",!0,!0)):c)===l||null==n||n.$$is_boolean&&1!=n?u["$<<"](t):l:u["$<<"](t)},o.$$s=i,o.$$arity=1,o)),a!==!1&&a!==l&&null!=a?""+a+i.$join_path(u,c):i.$join_path(u,c)},k.$$arity=-2),e.defn(O,"$relative_path",x=function(t,n){var $,o,i=this,a=l;return o=i["$is_root?"](t),($=o!==!1&&o!==l&&null!=o?i["$is_root?"](n):o)===l||null==$||$.$$is_boolean&&1!=$?t:(a=r(n.$chomp(i.file_separator).$length(),1),t["$[]"](e.Range.$new(a,-1,!1)))},x.$$arity=2)}(p.base,0,h)}(o.base,i)},Opal.modules["asciidoctor/reader"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function l(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function a(e,t){return"number"==typeof e&&"number"==typeof t?e<=t:e["$<="](t)}var s=(e.top,e),c=[e],u=e.nil,_=(e.breaker,e.slice,e.module),d=e.klass,f=e.hash2,p=e.range,h=e.send;return e.add_stubs(["$attr_accessor","$path","$lineno","$attr_reader","$!","$===","$split","$file","$dir","$dirname","$==","$basename","$prepare_lines","$dup","$empty?","$[]","$normalize_lines_from_string","$normalize_lines_array","$+","$nil?","$peek_line","$nil_or_empty?","$>","$process_line","$times","$read_line","$<<","$reverse_each","$unshift","$has_more_lines?","$shift","$*","$read_lines","$advance","$eof?","$start_with?","$match","$push","$read_lines_until","$=~","$size","$clear","$[]=","$-","$new","$line_info","$to_i","$fetch","$attributes","$<","$references","$has_key?","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$preprocess_conditional_inclusion","$captures","$preprocess_include","$strip","$pop_include","$downcase","$warn","$none?","$any?","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse","$>=","$safe","$pwd","$base_dir","$join","$uriish?","$require_library","$normalize_system_path","$file?","$relative_path","$each","$map","$to_proc","$/","$concat","$to_a","$uniq","$sort","$to_set","$open","$each_line","$infinite?","$push_include","$force_encoding","$chomp","$read","$extname","$rootname","$<=","$!=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$to_s"]),function(s,c){var g,b=g=_(s,"Asciidoctor"),m=(b.$$proto,b.$$scope),y=c.slice().concat(m);!function(o,i,l){function a(){}var s,c,_,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,F,U=a=d(o,null,"Reader",a),G=U.$$proto,H=U.$$scope,Y=l.slice().concat(H);G.file=G.dir=G.lines=G.process_lines=G.look_ahead=G.eof=G.unescape_next_line=G.lineno=G.path=G.source_lines=u,function(t,n,$){function r(){}var o,i,l=r=d(t,null,"Cursor",r),a=(l.$$proto,l.$$scope);$.slice().concat(a);l.$attr_accessor("file"),l.$attr_accessor("dir"),l.$attr_accessor("path"),l.$attr_accessor("lineno"),e.defn(l,"$initialize",o=function(e,t,n,$){var r=this;return null==t&&(t=u),null==n&&(n=u),null==$&&($=u),r.file=e,r.dir=t,r.path=n,r.lineno=$},o.$$arity=-2),e.defn(l,"$line_info",i=function(){var e=this;return e.$path()+": line "+e.$lineno()},i.$$arity=0),e.alias(l,"to_s","line_info")}(H.base,0,Y),U.$attr_reader("file"),U.$attr_reader("dir"),U.$attr_reader("path"),U.$attr_reader("lineno"),U.$attr_reader("source_lines"),U.$attr_accessor("process_lines"),e.defn(U,"$initialize",s=function(t,n,$){var r,o,i=this;return null==t&&(t=u),null==n&&(n=u),null==$&&($=f(["normalize"],{normalize:!1})),(r=n["$!"]())===u||null==r||r.$$is_boolean&&1!=r?(r=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](n))===u||null==r||r.$$is_boolean&&1!=r?(i.file=n.$file(),i.dir=n.$dir(),i.path=(r=n.$path())!==!1&&r!==u&&null!=r?r:"<stdin>",(r=i.file)===u||null==r||r.$$is_boolean&&1!=r||(((r=i.dir)===u||null==r||r.$$is_boolean&&1!=r)&&(i.dir=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(i.file),i.dir["$=="](".")&&(i.dir=u)),((r=n.$path())===u||null==r||r.$$is_boolean&&1!=r)&&(i.path=e.const_get([e.Object.$$scope],"File",!0,!0).$basename(i.file))),i.lineno=(r=n.$lineno())!==!1&&r!==u&&null!=r?r:1):(i.file=n,o=e.const_get([e.Object.$$scope],"File",!0,!0).$split(i.file),r=e.to_ary(o),i.dir=null==r[0]?u:r[0],i.path=null==r[1]?u:r[1],i.lineno=1):(i.file=i.dir=u,i.path="<stdin>",i.lineno=1),i.lines=function(){return t!==!1&&t!==u&&null!=t?i.$prepare_lines(t,$):[]}(),i.source_lines=i.lines.$dup(),i.eof=i.lines["$empty?"](),i.look_ahead=0,i.process_lines=!0,i.unescape_next_line=!1},s.$$arity=-1),e.defn(U,"$prepare_lines",c=function(t,n){var $;return null==n&&(n=f([],{})),($=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](t))===u||null==$||$.$$is_boolean&&1!=$?($=n["$[]"]("normalize"))===u||null==$||$.$$is_boolean&&1!=$?t.$dup():e.const_get(Y,"Helpers",!0,!0).$normalize_lines_array(t):($=n["$[]"]("normalize"))===u||null==$||$.$$is_boolean&&1!=$?t.$split(e.const_get(Y,"EOL",!0,!0)):e.const_get(Y,"Helpers",!0,!0).$normalize_lines_from_string(t)},c.$$arity=-2),e.defn(U,"$process_line",_=function(e){var n,$=this;return(n=$.process_lines)===u||null==n||n.$$is_boolean&&1!=n||($.look_ahead=t($.look_ahead,1)),e},_.$$arity=1),e.defn(U,"$has_more_lines?",g=function(){var e,t=this;return((e=t.eof)!==!1&&e!==u&&null!=e?e:t.eof=t.$peek_line()["$nil?"]())["$!"]()},g.$$arity=0),e.defn(U,"$next_line_empty?",b=function(){return this.$peek_line()["$nil_or_empty?"]()},b.$$arity=0),e.defn(U,"$peek_line",m=function(e){var t,$,r=this,o=u;return null==e&&(e=!1),(t=($=e)!==!1&&$!==u&&null!=$?$:n(r.look_ahead,0))===u||null==t||t.$$is_boolean&&1!=t?(t=($=r.eof)!==!1&&$!==u&&null!=$?$:r.lines["$empty?"]())===u||null==t||t.$$is_boolean&&1!=t?(t=(o=r.$process_line(r.lines["$[]"](0)))["$!"]())===u||null==t||t.$$is_boolean&&1!=t?o:r.$peek_line():(r.eof=!0,r.look_ahead=0,u):(t=r.unescape_next_line)===u||null==t||t.$$is_boolean&&1!=t?r.lines["$[]"](0):r.lines["$[]"](0)["$[]"](p(1,-1,!1))},m.$$arity=-1),e.defn(U,"$peek_lines",y=function(t,n){var $,r,o,i=this,l=u,a=u;return null==t&&(t=1),null==n&&(n=!0),l=i.look_ahead,a=[],function(){var r=e.new_brk();try{h(t,"times",[],($=function(){var t,o=$.$$s||this,i=u;if(!((t=i=o.$read_line(n))===u||null==t||t.$$is_boolean&&1!=t))return a["$<<"](i);e.brk(u,r)},$.$$s=i,$.$$brk=r,$.$$arity=0,$))}catch(e){if(e===r)return e.$v;throw e}}(),((r=a["$empty?"]())===u||null==r||r.$$is_boolean&&1!=r)&&(h(a,"reverse_each",[],(o=function(e){var t=o.$$s||this;return null==e&&(e=u),t.$unshift(e)},o.$$s=i,o.$$arity=1,o)),n!==!1&&n!==u&&null!=n&&(i.look_ahead=l)),a},y.$$arity=-1),e.defn(U,"$read_line",v=function(e){var t,$,r,o=this;return null==e&&(e=!1),(t=($=(r=e)!==!1&&r!==u&&null!=r?r:n(o.look_ahead,0))!==!1&&$!==u&&null!=$?$:o["$has_more_lines?"]())===u||null==t||t.$$is_boolean&&1!=t?u:o.$shift()},v.$$arity=-1),e.defn(U,"$read_lines",w=function(){var e,t=this,n=u;for(n=[];(e=t["$has_more_lines?"]())!==u&&null!=e&&(!e.$$is_boolean||1==e);)n["$<<"](t.$shift());return n},w.$$arity=0),e.alias(U,"readlines","read_lines"),e.defn(U,"$read",k=function(){return $(this.$read_lines(),e.const_get(Y,"EOL",!0,!0))},k.$$arity=0),e.defn(U,"$advance",x=function(e){var t=this;return null==e&&(e=!0),t.$read_line(e)["$!"]()["$!"]()},x.$$arity=-1),e.defn(U,"$unshift_line",O=function(e){return this.$unshift(e),u},O.$$arity=1),e.alias(U,"restore_line","unshift_line"),e.defn(U,"$unshift_lines",E=function(e){var t,n=this;return h(e,"reverse_each",[],(t=function(e){var n=t.$$s||this;return null==e&&(e=u),n.$unshift(e)},t.$$s=n,t.$$arity=1,t)),u},E.$$arity=1),e.alias(U,"restore_lines","unshift_lines"),e.defn(U,"$replace_next_line",A=function(e){var t=this;return t.$advance(),t.$unshift(e),u},A.$$arity=1),e.alias(U,"replace_line","replace_next_line"),e.defn(U,"$skip_blank_lines",S=function(){var e,n,$=this,r=u,o=u;if((e=$["$eof?"]())!==u&&null!=e&&(!e.$$is_boolean||1==e))return 0;for(r=0;(n=o=$.$peek_line())!==u&&null!=n&&(!n.$$is_boolean||1==n);){if((n=o["$empty?"]())===u||null==n||n.$$is_boolean&&1!=n)return r;$.$advance(),r=t(r,1)}return r},S.$$arity=0),e.defn(U,"$skip_comment_lines",R=function(t){var n,$,r,o=this,i=u,l=u,a=u,s=u,c=u;if(null==t&&(t=f([],{})),(n=o["$eof?"]())!==u&&null!=n&&(!n.$$is_boolean||1==n))return[];for(i=[],l=t["$[]"]("include_blank_lines");($=a=o.$peek_line())!==u&&null!=$&&(!$.$$is_boolean||1==$);)if(($=(r=l!==!1&&l!==u&&null!=l)?a["$empty?"]():l)===u||null==$||$.$$is_boolean&&1!=$)if(r=s=a["$start_with?"]("//"),($=r!==!1&&r!==u&&null!=r?c=e.const_get(Y,"CommentBlockRx",!0,!0).$match(a):r)===u||null==$||$.$$is_boolean&&1!=$){if(($=(r=s!==!1&&s!==u&&null!=s)?e.const_get(Y,"CommentLineRx",!0,!0)["$=~"](a):s)===u||null==$||$.$$is_boolean&&1!=$)break;i["$<<"](o.$shift())}else i["$<<"](o.$shift()),h(i,"push",e.to_a(o.$read_lines_until(f(["terminator","read_last_line","skip_processing"],{terminator:c["$[]"](0),read_last_line:!0,skip_processing:!0}))));else i["$<<"](o.$shift());return i},R.$$arity=-1),e.defn(U,"$skip_line_comments",M=function(){var t,n,$=this,r=u,o=u;if((t=$["$eof?"]())!==u&&null!=t&&(!t.$$is_boolean||1==t))return[];for(r=[];!((n=o=$.$peek_line())===u||null==n||n.$$is_boolean&&1!=n||(n=e.const_get(Y,"CommentLineRx",!0,!0)["$=~"](o))===u||null==n||n.$$is_boolean&&1!=n);)r["$<<"]($.$shift());return r},M.$$arity=0),e.defn(U,"$terminate",T=function(){var e=this;return e.lineno=t(e.lineno,e.lines.$size()),e.lines.$clear(),e.eof=!0,e.look_ahead=0,u},T.$$arity=0),e.defn(U,"$eof?",I=function(){return this["$has_more_lines?"]()["$!"]()},I.$$arity=0),e.alias(U,"empty?","eof?"),e.defn(U,"$read_lines_until",C=function(t){var n,$,o,i,l,a=this,s=C.$$p,c=s||u,_=u,d=u,p=u,g=u,b=u,m=u,y=u,v=u,w=u,k=u,x=u;for(null==t&&(t=f([],{})),s&&(C.$$p=null),_=[],(n=t["$[]"]("skip_first_line"))===u||null==n||n.$$is_boolean&&1!=n||a.$advance(),$=a.process_lines,(n=$!==!1&&$!==u&&null!=$?t["$[]"]("skip_processing"):$)===u||null==n||n.$$is_boolean&&1!=n?d=!1:(a.process_lines=!1,d=!0),(n=p=t["$[]"]("terminator"))===u||null==n||n.$$is_boolean&&1!=n?(g=t["$[]"]("break_on_blank_lines"),b=t["$[]"]("break_on_list_continuation")):(g=!1,b=!1),m=t["$[]"]("skip_line_comments"),y=!1,v=!1,w=!1;o=w["$!"](),($=o!==!1&&o!==u&&null!=o?k=a.$read_line():o)!==u&&null!=$&&(!$.$$is_boolean||1==$);)w=function(){for(;(o=!0)!==u&&null!=o&&(!o.$$is_boolean||1==o);)return!((o=(i=p!==!1&&p!==u&&null!=p)?k["$=="](p):p)===u||null==o||o.$$is_boolean&&1!=o)||(!((o=(i=g!==!1&&g!==u&&null!=g)?k["$empty?"]():g)===u||null==o||o.$$is_boolean&&1!=o)||(i=(l=b!==!1&&b!==u&&null!=b)?y:b,(o=i!==!1&&i!==u&&null!=i?k["$=="](e.const_get(Y,"LIST_CONTINUATION",!0,!0)):i)===u||null==o||o.$$is_boolean&&1!=o?!((o=(i=c!==u)?e.yield1(c,k):c!==u)===u||null==o||o.$$is_boolean&&1!=o):(x=["preserve_last_line",!0],h(t,"[]=",e.to_a(x)),x[r(x.length,1)],!0)));return u}(),w!==!1&&w!==u&&null!=w?(($=t["$[]"]("read_last_line"))===u||null==$||$.$$is_boolean&&1!=$||(_["$<<"](k),y=!0),($=t["$[]"]("preserve_last_line"))===u||null==$||$.$$is_boolean&&1!=$||(a.$unshift(k),v=!0)):(o=(i=m!==!1&&m!==u&&null!=m)?k["$start_with?"]("//"):m,(($=o!==!1&&o!==u&&null!=o?e.const_get(Y,"CommentLineRx",!0,!0)["$=~"](k):o)===u||null==$||$.$$is_boolean&&1!=$)&&(_["$<<"](k),y=!0));return d!==!1&&d!==u&&null!=d&&(a.process_lines=!0,(n=($=v!==!1&&v!==u&&null!=v)?p["$!"]():v)===u||null==n||n.$$is_boolean&&1!=n||(a.look_ahead=r(a.look_ahead,1))),_},C.$$arity=-1),e.defn(U,"$shift",N=function(){var e=this;return e.lineno=t(e.lineno,1),e.look_ahead["$=="](0)||(e.look_ahead=r(e.look_ahead,1)),e.lines.$shift()},N.$$arity=0),e.defn(U,"$unshift",j=function(e){var n=this;return n.lineno=r(n.lineno,1),n.look_ahead=t(n.look_ahead,1),n.eof=!1,n.lines.$unshift(e)},j.$$arity=1),e.defn(U,"$cursor",L=function(){var t=this;return e.const_get(Y,"Cursor",!0,!0).$new(t.file,t.dir,t.path,t.lineno)},L.$$arity=0),e.defn(U,"$line_info",z=function(){var e=this;return e.path+": line "+e.lineno},z.$$arity=0),e.alias(U,"next_line_info","line_info"),e.defn(U,"$prev_line_info",P=function(){var e=this;return e.path+": line "+r(e.lineno,1)},P.$$arity=0),e.defn(U,"$lines",D=function(){return this.lines.$dup()},D.$$arity=0),e.defn(U,"$string",B=function(){return $(this.lines,e.const_get(Y,"EOL",!0,!0))},B.$$arity=0),e.defn(U,"$source",q=function(){return $(this.source_lines,e.const_get(Y,"EOL",!0,!0))},q.$$arity=0),e.defn(U,"$to_s",F=function(){return this.$line_info()},F.$$arity=0)}(m.base,0,y),function(s,c,_){function g(){}var b,m,y,v,w,k,x,O,E,A,S,R,M,T,I,C=g=d(s,c,"PreprocessorReader",g),N=C.$$proto,j=C.$$scope,L=_.slice().concat(j);N.document=N.lineno=N.process_lines=N.look_ahead=N.skipping=N.include_stack=N.conditional_stack=N.path=N.include_processor_extensions=N.maxdepth=N.dir=N.lines=N.file=N.includes=N.unescape_next_line=u,C.$attr_reader("include_stack"),C.$attr_reader("includes"),e.defn(C,"$initialize",b=function(t,n,$){var r,i,l,a=this,s=b.$$p,c=u;return null==n&&(n=u),null==$&&($=u),s&&(b.$$p=null),a.document=t,h(a,e.find_super_dispatcher(a,"initialize",b,!1),[n,$,f(["normalize"],{normalize:!0})],null),c=t.$attributes().$fetch("max-include-depth",64).$to_i(),(r=o(c,0))===u||null==r||r.$$is_boolean&&1!=r||(c=0),a.maxdepth=f(["abs","rel"],{abs:c,rel:c}),a.include_stack=[],a.includes=(r="includes",i=t.$references(),(l=i["$[]"](r))!==!1&&l!==u&&null!=l?l:i["$[]="](r,[])),a.skipping=!1,a.conditional_stack=[],a.include_processor_extensions=u},b.$$arity=-2),e.defn(C,"$prepare_lines",m=function(n,o){var i,l,a,s=this,c=m.$$p,_=u,d=u,p=u,g=u,b=u,y=u,v=u,w=u;for(null==o&&(o=f([],{})),c&&(m.$$p=null),v=0,w=arguments.length,y=new Array(w);v<w;v++)y[v]=arguments[v];if(_=h(s,e.find_super_dispatcher(s,"prepare_lines",m,!1),y,c),l=s.document,(i=l!==!1&&l!==u&&null!=l?s.document.$attributes()["$has_key?"]("skip-front-matter"):l)===u||null==i||i.$$is_boolean&&1!=i||(i=d=s["$skip_front_matter!"](_))===u||null==i||i.$$is_boolean&&1!=i||(p=["front-matter",$(d,e.const_get(L,"EOL",!0,!0))],h(s.document.$attributes(),"[]=",e.to_a(p)),p[r(p.length,1)]),(i=o.$fetch("condense",!0))!==u&&null!=i&&(!i.$$is_boolean||1==i)){for(;a=g=_["$[]"](0),(l=a!==!1&&a!==u&&null!=a?g["$empty?"]():a)!==u&&null!=l&&(!l.$$is_boolean||1==l);)(l=_.$shift())!==!1&&l!==u&&null!=l&&(s.lineno=t(s.lineno,1));for(;a=b=_["$[]"](-1),(l=a!==!1&&a!==u&&null!=a?b["$empty?"]():a)!==u&&null!=l&&(!l.$$is_boolean||1==l);)_.$pop()}return(i=o["$[]"]("indent"))===u||null==i||i.$$is_boolean&&1!=i||e.const_get(L,"Parser",!0,!0)["$adjust_indentation!"](_,o["$[]"]("indent"),s.document.$attr("tabsize")),_},m.$$arity=-2),e.defn(C,"$process_line",y=function(n){var $,r,o,i=this,l=u,a=u;return($=i.process_lines)===u||null==$||$.$$is_boolean&&1!=$?n:($=n["$empty?"]())===u||null==$||$.$$is_boolean&&1!=$?(o=n["$end_with?"]("]"),r=o!==!1&&o!==u&&null!=o?n["$start_with?"]("[")["$!"]():o,($=r!==!1&&r!==u&&null!=r?n["$include?"]("::"):r)===u||null==$||$.$$is_boolean&&1!=$?($=i.skipping)===u||null==$||$.$$is_boolean&&1!=$?(i.look_ahead=t(i.look_ahead,1),n):(i.$advance(),u):(r=n["$include?"]("if"),($=r!==!1&&r!==u&&null!=r?l=e.const_get(L,"ConditionalDirectiveRx",!0,!0).$match(n):r)===u||null==$||$.$$is_boolean&&1!=$?($=i.skipping)===u||null==$||$.$$is_boolean&&1!=$?(r=(o=a=n["$start_with?"]("\\include::"))!==!1&&o!==u&&null!=o?o:n["$start_with?"]("include::"),($=r!==!1&&r!==u&&null!=r?l=e.const_get(L,"IncludeDirectiveRx",!0,!0).$match(n):r)===u||null==$||$.$$is_boolean&&1!=$?(i.look_ahead=t(i.look_ahead,1),n):a!==!1&&a!==u&&null!=a?(i.unescape_next_line=!0,i.look_ahead=t(i.look_ahead,1),n["$[]"](p(1,-1,!1))):($=i.$preprocess_include(l["$[]"](1),l["$[]"](2).$strip()))===u||null==$||$.$$is_boolean&&1!=$?(i.look_ahead=t(i.look_ahead,1),n):u):(i.$advance(),u):($=n["$start_with?"]("\\"))===u||null==$||$.$$is_boolean&&1!=$?($=h(i,"preprocess_conditional_inclusion",e.to_a(l.$captures())))===u||null==$||$.$$is_boolean&&1!=$?(i.look_ahead=t(i.look_ahead,1),n):(i.$advance(),u):(i.unescape_next_line=!0,i.look_ahead=t(i.look_ahead,1),n["$[]"](p(1,-1,!1))))):(i.look_ahead=t(i.look_ahead,1),"")},y.$$arity=1),e.defn(C,"$peek_line",v=function(t){var n,$=this,r=v.$$p,o=u,i=u,l=u,a=u;for(null==t&&(t=!1),r&&(v.$$p=null),l=0,a=arguments.length,i=new Array(a);l<a;l++)i[l]=arguments[l];return(n=o=h($,e.find_super_dispatcher($,"peek_line",v,!1),i,r))===u||null==n||n.$$is_boolean&&1!=n?(n=$.include_stack["$empty?"]())===u||null==n||n.$$is_boolean&&1!=n?($.$pop_include(),$.$peek_line(t)):u:o},v.$$arity=-1),e.defn(C,"$preprocess_conditional_inclusion",w=function(t,$,r,o){var i,l,a,s,c,_,d,p,g=this,b=u,m=u,y=u,v=u,w=u,k=u,x=u,O=u,E=u;if(a=(s=t["$=="]("ifdef"))!==!1&&s!==u&&null!=s?s:t["$=="]("ifndef"),(i=(l=a!==!1&&a!==u&&null!=a?$["$empty?"]():a)!==!1&&l!==u&&null!=l?l:(a=t["$=="]("endif"))?o:t["$=="]("endif"))!==u&&null!=i&&(!i.$$is_boolean||1==i))return!1;if($=$.$downcase(),t["$=="]("endif"))return b=g.conditional_stack.$size(),(i=n(b,0))===u||null==i||i.$$is_boolean&&1!=i?g.$warn("asciidoctor: ERROR: "+g.$line_info()+": unmatched macro: endif::"+$+"[]"):(m=g.conditional_stack["$[]"](-1),(i=(l=$["$empty?"]())!==!1&&l!==u&&null!=l?l:$["$=="](m["$[]"]("target")))===u||null==i||i.$$is_boolean&&1!=i?g.$warn("asciidoctor: ERROR: "+g.$line_info()+": mismatched macro: endif::"+$+"[], expected endif::"+m["$[]"]("target")+"[]"):(g.conditional_stack.$pop(),g.skipping=function(){return!!((i=g.conditional_stack["$empty?"]())===u||null==i||i.$$is_boolean&&1!=i)&&g.conditional_stack["$[]"](-1)["$[]"]("skipping")}())),!0;if(y=!1,(i=g.skipping)===u||null==i||i.$$is_boolean&&1!=i){if(v=t,"ifdef"["$==="](v))v=r,u["$==="](v)?y=g.document.$attributes()["$has_key?"]($)["$!"]():","["$==="](v)?y=h($.$split(","),"none?",[],(c=function(e){var t=c.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$has_key?"](e)},c.$$s=g,c.$$arity=1,c)):"+"["$==="](v)&&(y=h($.$split("+"),"any?",[],(_=function(e){var t=_.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$has_key?"](e)["$!"]()},_.$$s=g,_.$$arity=1,_)));else if("ifndef"["$==="](v))v=r,u["$==="](v)?y=g.document.$attributes()["$has_key?"]($):","["$==="](v)?y=h($.$split(","),"none?",[],(d=function(e){var t=d.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$has_key?"](e)["$!"]()},d.$$s=g,d.$$arity=1,d)):"+"["$==="](v)&&(y=h($.$split("+"),"any?",[],(p=function(e){var t=p.$$s||this;return null==t.document&&(t.document=u),null==e&&(e=u),t.document.$attributes()["$has_key?"](e)},p.$$s=g,p.$$arity=1,p)));else if("ifeval"["$==="](v)){if((i=(l=$["$empty?"]()["$!"]())!==!1&&l!==u&&null!=l?l:(w=e.const_get(L,"EvalExpressionRx",!0,!0).$match(o.$strip()))["$!"]())!==u&&null!=i&&(!i.$$is_boolean||1==i))return!1;k=g.$resolve_expr_val(w["$[]"](1)),x=g.$resolve_expr_val(w["$[]"](3)),y=(O=w["$[]"](2))["$=="]("!=")?k.$send("==",x):k.$send(O.$to_sym(),x)["$!"]()}}else;if((i=(l=t["$=="]("ifeval"))!==!1&&l!==u&&null!=l?l:o["$!"]())===u||null==i||i.$$is_boolean&&1!=i){if((i=(l=g.skipping)!==!1&&l!==u&&null!=l?l:y)===u||null==i||i.$$is_boolean&&1!=i)return E=g.$peek_line(!0),g.$replace_next_line(o.$rstrip()),g.$unshift(E),!0}else y!==!1&&y!==u&&null!=y&&(g.skipping=!0),g.conditional_stack["$<<"](f(["target","skip","skipping"],{target:$,skip:y,skipping:g.skipping}));return!0},w.$$arity=4),e.defn(C,"$preprocess_include",k=function(o,a){var s,c,_,d,p,g,b,m,y=this,v=u,w=u,k=u,x=u,O=u,E=u,A=u,S=u,R=u,M=u,T=u,I=u,C=u,N=u,j=u,z=u;if((s=(v=y.document.$sub_attributes(o,f(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s){if(c=y["$include_processors?"](),(s=c!==!1&&c!==u&&null!=c?w=h(y.include_processor_extensions,"find",[],(_=function(e){_.$$s;return null==e&&(e=u),e.$instance()["$handles?"](v)},_.$$s=y,_.$$arity=1,_)):c)===u||null==s||s.$$is_boolean&&1!=s){if((s=i(y.document.$safe(),e.const_get([e.const_get(L,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))===u||null==s||s.$$is_boolean&&1!=s){if((s=n(k=y.maxdepth["$[]"]("abs"),0))===u||null==s||s.$$is_boolean&&1!=s)return!1;if((s=i(y.include_stack.$size(),k))!==u&&null!=s&&(!s.$$is_boolean||1==s))return y.$warn("asciidoctor: ERROR: "+y.$line_info()+": maximum include depth of "+y.maxdepth["$[]"]("rel")+" exceeded"),!1;if((s=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===u||null==s||s.$$is_boolean&&1!=s)if((s=e.const_get(L,"Helpers",!0,!0)["$uriish?"](v))===u||null==s||s.$$is_boolean&&1!=s){if(x="file",O=y.document.$normalize_system_path(v,y.dir,u,f(["target_name"],{target_name:"include file"})),(s=e.const_get([e.Object.$$scope],"File",!0,!0)["$file?"](O))===u||null==s||s.$$is_boolean&&1!=s)return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include file not found: "+O),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+v+"["+a+"]"),!0;E=e.const_get(L,"PathResolver",!0,!0).$new().$relative_path(O,y.document.$base_dir())}else{if((s=y.document.$attributes()["$has_key?"]("allow-uri-read"))===u||null==s||s.$$is_boolean&&1!=s)return y.$replace_next_line("link:"+v+"[]"),!0;x="uri",O=E=v,(s=y.document.$attributes()["$has_key?"]("cache-uri"))===u||null==s||s.$$is_boolean&&1!=s?(s=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"]())===u||null==s||s.$$is_boolean&&1!=s||e.const_get([e.Object.$$scope],"OpenURI",!0,!0):((s=(d=e.const_get([e.Object.$$scope],"OpenURI",!0,!1))&&d.$$scope&&(c=e.const_get([d.$$scope],"Cache",!0,!1))?"constant":u)===u||null==s||s.$$is_boolean&&1!=s)&&e.const_get(L,"Helpers",!0,!0).$require_library("open-uri/cached","open-uri-cached")}else x="file",O=E=function(){return(s=y.include_stack["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s?e.const_get([e.Object.$$scope],"File",!0,!0).$join(y.dir,v):e.const_get([e.Object.$$scope],"Dir",!0,!0).$pwd()["$=="](y.document.$base_dir())?v:e.const_get([e.Object.$$scope],"File",!0,!0).$join(y.dir,v)}();if(A=u,S=u,R=f([],{}),(s=a["$empty?"]()["$!"]())===u||null==s||s.$$is_boolean&&1!=s||(R=e.const_get(L,"AttributeList",!0,!0).$new(a).$parse(),(s=R["$has_key?"]("lines"))===u||null==s||s.$$is_boolean&&1!=s?(s=R["$has_key?"]("tag"))===u||null==s||s.$$is_boolean&&1!=s?(s=R["$has_key?"]("tags"))===u||null==s||s.$$is_boolean&&1!=s||(S=R["$[]"]("tags").$split(e.const_get(L,"DataDelimiterRx",!0,!0)).$to_set()):S=[R["$[]"]("tag")].$to_set():(A=[],h(R["$[]"]("lines").$split(e.const_get(L,"DataDelimiterRx",!0,!0)),"each",[],(p=function(t){var n,$,r=(p.$$s,u),o=u;return null==t&&(t=u),(n=t["$include?"](".."))===u||null==n||n.$$is_boolean&&1!=n?A["$<<"](t.$to_i()):($=h(t.$split("..",2),"map",[],"to_i".$to_proc()),n=e.to_ary($),r=null==n[0]?u:n[0],o=null==n[1]?u:n[1],o["$=="](-1)?(A["$<<"](r),A["$<<"](l(1,0))):A.$concat(e.const_get([e.Object.$$scope],"Range",!0,!0).$new(r,o).$to_a()))},p.$$s=y,p.$$arity=1,p)),A=A.$sort().$uniq())),A!==!1&&A!==u&&null!=A)if((s=A["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s){M=[],T=0,I=0;try{!function(){var n=e.new_brk();try{h(y,"open",[O,"r"],(g=function(n){var $,r=g.$$s||this;return null==n&&(n=u),function(){var o=e.new_brk();try{return h(n,"each_line",[],($=function(r){var i,l,a=($.$$s,u);return null==r&&(r=u),I=t(I,1),a=A["$[]"](0),l=e.const_get([e.Object.$$scope],"Float",!0,!0)["$==="](a),(i=l!==!1&&l!==u&&null!=l?a["$infinite?"]():l)===u||null==i||i.$$is_boolean&&1!=i?(n.$lineno()["$=="](a)&&(M.$push(r),T["$=="](0)&&(T=I),A.$shift()),(i=A["$empty?"]())===u||null==i||i.$$is_boolean&&1!=i?u:void e.brk(u,o)):(M.$push(r),T["$=="](0)?T=I:u)},$.$$s=r,$.$$brk=o,$.$$arity=1,$))}catch(e){if(e===o)return e.$v;throw e}}()},g.$$s=y,g.$$brk=n,g.$$arity=1,g))}catch(e){if(e===n)return e.$v;throw e}}()}catch(t){if(!e.rescue(t,[e.const_get(L,"StandardError",!0,!0)]))throw t;try{return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include "+x+" not readable: "+O),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+v+"["+a+"]"),!0}finally{e.pop_exception()}}y.$advance(),y.$push_include(M,O,E,T,R)}else;else if(S!==!1&&S!==u&&null!=S)if((s=S["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s){M=[],T=0,I=0,C=u,N=e.const_get([e.Object.$$scope],"Set",!0,!0).$new();try{!function(){var n=e.new_brk();try{h(y,"open",[O,"r"],(b=function(n){var $,r=b.$$s||this;return null==n&&(n=u),function(){var o=e.new_brk();try{return h(n,"each_line",[],($=function(n){var r,o,i,l=$.$$s||this,a=u;return null==n&&(n=u),I=t(I,1),(r=e.const_get(L,"FORCE_ENCODING",!0,!0))===u||null==r||r.$$is_boolean&&1!=r||n.$force_encoding(e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0)),n=n.$rstrip(),a=n.$chomp("-->").$rstrip(),C!==!1&&C!==u&&null!=C?(r=a["$end_with?"]("end::"+C+"[]"))===u||null==r||r.$$is_boolean&&1!=r?(o=a["$end_with?"]("[]"),((r=o!==!1&&o!==u&&null!=o?e.const_get(L,"TagDirectiveRx",!0,!0)["$=~"](a):o)===u||null==r||r.$$is_boolean&&1!=r)&&M.$push(n),T["$=="](0)?T=I:u):C=u:(o=a["$end_with?"]("[]"),(r=o!==!1&&o!==u&&null!=o?e.const_get(L,"TagDirectiveRx",!0,!0)["$=~"](a):o)===u||null==r||r.$$is_boolean&&1!=r?u:function(){var t=e.new_brk();try{return h(S,"each",[],(i=function(n){var $;i.$$s;if(null==n&&(n=u),($=a["$end_with?"]("tag::"+n+"[]"))===u||null==$||$.$$is_boolean&&1!=$)return u;C=n,N["$<<"](n),e.brk(u,t)},i.$$s=l,i.$$brk=t,i.$$arity=1,i))}catch(e){if(e===t)return e.$v;throw e}}())},$.$$s=r,$.$$brk=o,$.$$arity=1,$))}catch(e){if(e===o)return e.$v;throw e}}()},b.$$s=y,b.$$brk=n,b.$$arity=1,b))}catch(e){if(e===n)return e.$v;throw e}}()}catch(t){
if(!e.rescue(t,[e.const_get(L,"StandardError",!0,!0)]))throw t;try{return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include "+x+" not readable: "+O),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+v+"["+a+"]"),!0}finally{e.pop_exception()}}((s=(j=r(S.$to_a(),N.$to_a()))["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s)&&y.$warn("asciidoctor: WARNING: "+y.$line_info()+": tag"+function(){return(s=n(j.$size(),1))===u||null==s||s.$$is_boolean&&1!=s?u:"s"}()+" '"+$(j,",")+"' not found in include "+x+": "+O),y.$advance(),y.$push_include(M,O,E,T,R)}else;else try{z=h(y,"open",[O,"r"],(m=function(e){m.$$s;return null==e&&(e=u),e.$read()},m.$$s=y,m.$$arity=1,m)),y.$advance(),y.$push_include(z,O,E,1,R)}catch(t){if(!e.rescue(t,[e.const_get(L,"StandardError",!0,!0)]))throw t;try{return y.$warn("asciidoctor: WARNING: "+y.$line_info()+": include "+x+" not readable: "+O),y.$replace_next_line("Unresolved directive in "+y.path+" - include::"+v+"["+a+"]"),!0}finally{e.pop_exception()}}return!0}return y.$replace_next_line("link:"+v+"[]"),!0}return y.$advance(),w.$process_method()["$[]"](y.document,y,v,e.const_get(L,"AttributeList",!0,!0).$new(a).$parse()),!0}return y.$advance(),y.document.$attributes().$fetch("attribute-missing",e.const_get(L,"Compliance",!0,!0).$attribute_missing())["$=="]("skip")&&y.$unshift("Unresolved directive in "+y.path+" - include::"+o+"["+a+"]"),!0},k.$$arity=2),e.defn(C,"$push_include",x=function(n,$,o,i,l){var s,c=this,_=u,d=u;return null==$&&($=u),null==o&&(o=u),null==i&&(i=1),null==l&&(l=f([],{})),c.include_stack["$<<"]([c.lines,c.file,c.dir,c.path,c.lineno,c.maxdepth,c.process_lines]),$!==!1&&$!==u&&null!=$?(c.file=$,c.dir=e.const_get(L,"File",!0,!0).$dirname($),c.process_lines=e.const_get(L,"ASCIIDOC_EXTENSIONS",!0,!0)["$[]"](e.const_get([e.Object.$$scope],"File",!0,!0).$extname($))):(c.file=u,c.dir=".",c.process_lines=!0),c.path=function(){return o!==!1&&o!==u&&null!=o?(c.includes["$<<"](e.const_get(L,"Helpers",!0,!0).$rootname(o)),o):"<stdin>"}(),c.lineno=i,(s=l["$has_key?"]("depth"))===u||null==s||s.$$is_boolean&&1!=s||(_=l["$[]"]("depth").$to_i(),(s=a(_,0))===u||null==s||s.$$is_boolean&&1!=s||(_=1),c.maxdepth=f(["abs","rel"],{abs:t(r(c.include_stack.$size(),1),_),rel:_})),(s=(c.lines=c.$prepare_lines(n,f(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:l["$[]"]("indent")})))["$empty?"]())===u||null==s||s.$$is_boolean&&1!=s?((s=l["$has_key?"]("leveloffset"))===u||null==s||s.$$is_boolean&&1!=s||(c.lines.$unshift(""),c.lines.$unshift(":leveloffset: "+l["$[]"]("leveloffset")),c.lines.$push(""),(s=d=c.document.$attr("leveloffset"))===u||null==s||s.$$is_boolean&&1!=s?c.lines.$push(":leveloffset!:"):c.lines.$push(":leveloffset: "+d),c.lineno=r(c.lineno,2)),c.eof=!1,c.look_ahead=0):c.$pop_include(),c},x.$$arity=-2),e.defn(C,"$pop_include",O=function(){var t,$,r=this;return(t=n(r.include_stack.$size(),0))===u||null==t||t.$$is_boolean&&1!=t||($=r.include_stack.$pop(),t=e.to_ary($),r.lines=null==t[0]?u:t[0],r.file=null==t[1]?u:t[1],r.dir=null==t[2]?u:t[2],r.path=null==t[3]?u:t[3],r.lineno=null==t[4]?u:t[4],r.maxdepth=null==t[5]?u:t[5],r.process_lines=null==t[6]?u:t[6],r.eof=r.lines["$empty?"](),r.look_ahead=0),u},O.$$arity=0),e.defn(C,"$include_depth",E=function(){return this.include_stack.$size()},E.$$arity=0),e.defn(C,"$exceeded_max_depth?",A=function(){var e,t,$=this,r=u;return t=n(r=$.maxdepth["$[]"]("abs"),0),!((e=t!==!1&&t!==u&&null!=t?i($.include_stack.$size(),r):t)===u||null==e||e.$$is_boolean&&1!=e)&&$.maxdepth["$[]"]("rel")},A.$$arity=0),e.defn(C,"$shift",S=function(){var t,n=this,$=S.$$p,r=u,o=u,i=u;for($&&(S.$$p=null),o=0,i=arguments.length,r=new Array(i);o<i;o++)r[o]=arguments[o];return(t=n.unescape_next_line)===u||null==t||t.$$is_boolean&&1!=t?h(n,e.find_super_dispatcher(n,"shift",S,!1),r,$):(n.unescape_next_line=!1,h(n,e.find_super_dispatcher(n,"shift",S,!1),r,$)["$[]"](p(1,-1,!1)))},S.$$arity=0),e.defn(C,"$skip_front_matter!",R=function(n,$){var r,o,i,l=this,a=u,s=u;if(null==$&&($=!0),a=u,n["$[]"](0)["$=="]("---")){for(s=n.$dup(),a=[],n.$shift(),$!==!1&&$!==u&&null!=$&&(l.lineno=t(l.lineno,1));i=n["$empty?"]()["$!"](),(o=i!==!1&&i!==u&&null!=i?n["$[]"](0)["$!="]("---"):i)!==u&&null!=o&&(!o.$$is_boolean||1==o);)a.$push(n.$shift()),$!==!1&&$!==u&&null!=$&&(l.lineno=t(l.lineno,1));(r=n["$empty?"]())===u||null==r||r.$$is_boolean&&1!=r?(n.$shift(),$!==!1&&$!==u&&null!=$&&(l.lineno=t(l.lineno,1))):(h(n,"unshift",e.to_a(s)),$!==!1&&$!==u&&null!=$&&(l.lineno=0),a=u)}return a},R.$$arity=-2),e.defn(C,"$resolve_expr_val",M=function(e){var t,n,$,r=this,o=u;return $=e["$start_with?"]('"'),(t=(n=$!==!1&&$!==u&&null!=$?e["$end_with?"]('"'):$)!==!1&&n!==u&&null!=n?n:($=e["$start_with?"]("'"),$!==!1&&$!==u&&null!=$?e["$end_with?"]("'"):$))===u||null==t||t.$$is_boolean&&1!=t?o=!1:(o=!0,e=e["$[]"](p(1,-1,!0))),(t=e["$include?"]("{"))===u||null==t||t.$$is_boolean&&1!=t||(e=r.document.$sub_attributes(e,f(["attribute_missing"],{attribute_missing:"drop"}))),o!==!1&&o!==u&&null!=o?e:(t=e["$empty?"]())===u||null==t||t.$$is_boolean&&1!=t?!!e["$=="]("true")||!e["$=="]("false")&&((t=e.$rstrip()["$empty?"]())===u||null==t||t.$$is_boolean&&1!=t?(t=e["$include?"]("."))===u||null==t||t.$$is_boolean&&1!=t?e.$to_i():e.$to_f():" "):u},M.$$arity=1),e.defn(C,"$include_processors?",T=function(){var e,t,n=this;return(e=n.include_processor_extensions["$nil?"]())===u||null==e||e.$$is_boolean&&1!=e?n.include_processor_extensions["$!="](!1):(t=n.document["$extensions?"](),(e=t!==!1&&t!==u&&null!=t?n.document.$extensions()["$include_processors?"]():t)===u||null==e||e.$$is_boolean&&1!=e?n.include_processor_extensions=!1:(n.include_processor_extensions=n.document.$extensions().$include_processors())["$!"]()["$!"]())},T.$$arity=0),e.defn(C,"$to_s",I=function(){var e,t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {path: "+t.path.$inspect()+", line #: "+t.lineno+", include depth: "+t.include_stack.$size()+", include stack: ["+h(t.include_stack,"map",[],(e=function(t){e.$$s;return null==t&&(t=u),t.$to_s()},e.$$s=t,e.$$arity=1,e)).$join(", ")+"]}>"},I.$$arity=0)}(m.base,e.const_get(y,"Reader",!0,!0),y)}(s.base,c)},Opal.modules["asciidoctor/section"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}var $=(e.top,e),r=[e],o=e.nil,i=(e.breaker,e.slice,e.module),l=e.klass,a=e.send,s=e.hash2,c=e.range;return e.add_stubs(["$attr_accessor","$+","$level","$>","$==","$context","$special","$has_key?","$attributes","$[]","$chomp","$tr_s","$gsub","$downcase","$title","$empty?","$!","$start_with?","$unique_id_start_index","$references","$sectnum","$assign_index","$!=","$class","$object_id","$inspect","$size"]),function($,r){var u,_=u=i($,"Asciidoctor"),d=(_.$$proto,_.$$scope),f=r.slice().concat(d);!function($,r,i){function u(){}var _,d,f,p,h,g=u=l($,r,"Section",u),b=g.$$proto,m=g.$$scope,y=i.slice().concat(m);b.level=b.document=b.parent=b.number=b.title=b.numbered=b.blocks=o,g.$attr_accessor("index"),g.$attr_accessor("number"),g.$attr_accessor("sectname"),g.$attr_accessor("special"),g.$attr_accessor("numbered"),e.defn(g,"$initialize",_=function($,r,i,l){var c,u=this,d=_.$$p;return null==$&&($=o),null==r&&(r=o),null==i&&(i=!0),null==l&&(l=s([],{})),d&&(_.$$p=null),a(u,e.find_super_dispatcher(u,"initialize",_,!1),[$,"section",l],null),u.level=r!==!1&&r!==o&&null!=r?r:function(){return $!==!1&&$!==o&&null!=$?t($.$level(),1):1}(),u.numbered=(c=i!==!1&&i!==o&&null!=i)?n(u.level,0):i,u.special=(c=$!==!1&&$!==o&&null!=$?$.$context()["$=="]("section"):$,c!==!1&&c!==o&&null!=c?$.$special():c),u.index=0,u.number=1},_.$$arity=-1),e.alias(g,"name","title"),e.defn(g,"$generate_id",d=function(){var n,$,r,i=this,l=o,a=o,s=o,u=o,_=o;if((n=i.document.$attributes()["$has_key?"]("sectids"))===o||null==n||n.$$is_boolean&&1!=n)return o;if(l=(n=i.document.$attributes()["$[]"]("idseparator"))!==!1&&n!==o&&null!=n?n:"_",a=(n=i.document.$attributes()["$[]"]("idprefix"))!==!1&&n!==o&&null!=n?n:"_",s=""+a+i.$title().$downcase().$gsub(e.const_get(y,"InvalidSectionIdCharsRx",!0,!0),l).$tr_s(l,l).$chomp(l),r=a["$empty?"](),$=r!==!1&&r!==o&&null!=r?l["$empty?"]()["$!"]():r,(n=$!==!1&&$!==o&&null!=$?s["$start_with?"](l):$)!==o&&null!=n&&(!n.$$is_boolean||1==n))for(s=s["$[]"](c(1,-1,!1));($=s["$start_with?"](l))!==o&&null!=$&&(!$.$$is_boolean||1==$);)s=s["$[]"](c(1,-1,!1));for(u=s,_=e.const_get(y,"Compliance",!0,!0).$unique_id_start_index();($=i.document.$references()["$[]"]("ids")["$has_key?"](u))!==o&&null!=$&&(!$.$$is_boolean||1==$);)u=""+s+l+_,_=t(_,1);return u},d.$$arity=0),e.defn(g,"$sectnum",f=function(e,t){var $,r,i,l,a=this;return null==e&&(e="."),null==t&&(t=o),($=t)!==!1&&$!==o&&null!=$||(t=function(){return t["$=="](!1)?"":e}()),l=a.level,i=l!==!1&&l!==o&&null!=l?n(a.level,1):l,r=i!==!1&&i!==o&&null!=i?a.parent:i,($=r!==!1&&r!==o&&null!=r?a.parent.$context()["$=="]("section"):r)===o||null==$||$.$$is_boolean&&1!=$?""+a.number+t:""+a.parent.$sectnum(e)+a.number+t},f.$$arity=-1),e.defn(g,"$<<",p=function(t){var n=this,$=p.$$p,r=o,i=o,l=o;for($&&(p.$$p=null),i=0,l=arguments.length,r=new Array(l);i<l;i++)r[i]=arguments[i];return t.$context()["$=="]("section")&&n.$assign_index(t),a(n,e.find_super_dispatcher(n,"<<",p,!1),r,$)},p.$$arity=1),e.defn(g,"$to_s",h=function(){var t,n=this,$=h.$$p,r=o,i=o,l=o,s=o;for($&&(h.$$p=null),l=0,s=arguments.length,i=new Array(s);l<s;l++)i[l]=arguments[l];return(t=n.title["$!="](o))===o||null==t||t.$$is_boolean&&1!=t?a(n,e.find_super_dispatcher(n,"to_s",h,!1),i,$):(r=function(){return(t=n.numbered)===o||null==t||t.$$is_boolean&&1!=t?n.title:n.$sectnum()+" "+n.title}(),"#<"+n.$class()+"@"+n.$object_id()+" {level: "+n.level+", title: "+r.$inspect()+", blocks: "+n.blocks.$size()+"}>")},h.$$arity=0)}(d.base,e.const_get(f,"AbstractBlock",!0,!0),f)}($.base,r)},Opal.modules["asciidoctor/stylesheets"]=function(e){var t=(e.top,e),n=[e],$=e.nil,r=(e.breaker,e.slice,e.module),o=e.klass,i=e.send,l=e.hash2;return e.add_stubs(["$join","$new","$chomp","$read","$primary_stylesheet_data","$open","$primary_stylesheet_name","$write","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$[]","$[]=","$sub","$css","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),function(t,n){var a,s=a=r(t,"Asciidoctor"),c=(s.$$proto,s.$$scope),u=n.slice().concat(c);!function(t,n,r){function a(){}var s,c,u,_,d,f,p,h,g,b,m,y,v,w,k=a=o(t,null,"Stylesheets",a),x=k.$$proto,O=k.$$scope,E=r.slice().concat(O);x.primary_stylesheet_data=x.coderay_stylesheet_data=x.pygments_stylesheet_data=$,e.cdecl(O,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),e.cdecl(O,"DEFAULT_PYGMENTS_STYLE","default"),e.cdecl(O,"STYLESHEETS_DATA_PATH",e.const_get([e.Object.$$scope],"File",!0,!0).$join(e.const_get(E,"DATA_PATH",!0,!0),"stylesheets")),k.__instance__=k.$new(),e.defs(k,"$instance",s=function(){var e=this;return null==e.__instance__&&(e.__instance__=$),e.__instance__},s.$$arity=0),e.defn(k,"$primary_stylesheet_name",c=function(){return e.const_get(E,"DEFAULT_STYLESHEET_NAME",!0,!0)},c.$$arity=0),e.defn(k,"$primary_stylesheet_data",u=function(){var t;return t=O.get("JAVASCRIPT_PLATFORM")["$=="]("node")?e.get("File").$join(__dirname,"css"):"css",($a=k.primary_stylesheet_data)!==!1&&$a!==$&&null!=$a?$a:k.primary_stylesheet_data=e.get("IO").$read(e.get("File").$join(t,"asciidoctor.css")).$chomp()},u.$$arity=0),e.defn(k,"$embed_primary_stylesheet",_=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},_.$$arity=0),e.defn(k,"$write_primary_stylesheet",d=function(t){var n,r=this;return i(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[e.const_get([e.Object.$$scope],"File",!0,!0).$join(t,r.$primary_stylesheet_name()),"w"],(n=function(e){var t=n.$$s||this;return null==e&&(e=$),e.$write(t.$primary_stylesheet_data())},n.$$s=r,n.$$arity=1,n))},d.$$arity=1),e.defn(k,"$coderay_stylesheet_name",f=function(){return"coderay-asciidoctor.css"},f.$$arity=0),e.defn(k,"$coderay_stylesheet_data",p=function(){var t,n=this;return(t=n.coderay_stylesheet_data)!==!1&&t!==$&&null!=t?t:n.coderay_stylesheet_data=e.const_get([e.Object.$$scope],"IO",!0,!0).$read(e.const_get([e.Object.$$scope],"File",!0,!0).$join(e.const_get(E,"STYLESHEETS_DATA_PATH",!0,!0),"coderay-asciidoctor.css")).$chomp()},p.$$arity=0),e.defn(k,"$embed_coderay_stylesheet",h=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},h.$$arity=0),e.defn(k,"$write_coderay_stylesheet",g=function(t){var n,r=this;return i(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[e.const_get([e.Object.$$scope],"File",!0,!0).$join(t,r.$coderay_stylesheet_name()),"w"],(n=function(e){var t=n.$$s||this;return null==e&&(e=$),e.$write(t.$coderay_stylesheet_data())},n.$$s=r,n.$$arity=1,n))},g.$$arity=1),e.defn(k,"$pygments_stylesheet_name",b=function(t){var n;return null==t&&(t=$),"pygments-"+((n=t)!==!1&&n!==$&&null!=n?n:e.const_get(E,"DEFAULT_PYGMENTS_STYLE",!0,!0))+".css"},b.$$arity=-1),e.defn(k,"$pygments_stylesheet_data",m=function(t){var n,r,o,i,a=this;return null==t&&(t=$),(n=a.$load_pygments())===$||null==n||n.$$is_boolean&&1!=n?"/* Pygments styles disabled. Pygments is not available. */":(n=(o=t)!==!1&&o!==$&&null!=o?o:e.const_get(E,"DEFAULT_PYGMENTS_STYLE",!0,!0),r=(o=a.pygments_stylesheet_data)!==!1&&o!==$&&null!=o?o:a.pygments_stylesheet_data=l([],{}),(o=r["$[]"](n))!==!1&&o!==$&&null!=o?o:r["$[]="](n,e.const_get([e.Object.$$scope],"Pygments",!0,!0).$css(".listingblock .pygments",l(["classprefix","style"],{classprefix:"tok-",style:(i=t)!==!1&&i!==$&&null!=i?i:e.const_get(E,"DEFAULT_PYGMENTS_STYLE",!0,!0)})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")))},m.$$arity=-1),e.defn(k,"$embed_pygments_stylesheet",y=function(e){var t=this;return null==e&&(e=$),"<style>\n"+t.$pygments_stylesheet_data(e)+"\n</style>"},y.$$arity=-1),e.defn(k,"$write_pygments_stylesheet",v=function(t,n){var r,o=this;return null==n&&(n=$),i(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[e.const_get([e.Object.$$scope],"File",!0,!0).$join(t,o.$pygments_stylesheet_name(n)),"w"],(r=function(e){var t=r.$$s||this;return null==e&&(e=$),e.$write(t.$pygments_stylesheet_data(n))},r.$$s=o,r.$$arity=1,r))},v.$$arity=-2),e.defn(k,"$load_pygments",w=function(){var t;return!((t=e.const_get([e.Object.$$scope],"Pygments",!0,!1)?"constant":$)===$||null==t||t.$$is_boolean&&1!=t)||e.const_get(E,"Helpers",!0,!0).$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},w.$$arity=0)}(c.base,0,u)}(t.base,n)},Opal.modules["asciidoctor/table"]=function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>t:e["$>"](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function o(e,t){return"number"==typeof e&&"number"==typeof t?e/t:e["$/"](t)}function i(e,t){return"number"==typeof e&&"number"==typeof t?e+t:e["$+"](t)}var l=(e.top,e),a=[e],s=e.nil,c=(e.breaker,e.slice,e.module),u=e.klass,_=e.hash2,d=e.send,f=e.range;return e.add_stubs(["$attr_accessor","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$+","$<<","$size","$assign_column_widths","$**","$assign_width","$shift","$style=","$head=","$pop","$foot=","$update_attributes","$parent","$attr_reader","$delete","$!","$header_row?","$table","$split","$include?","$readlines","$!=","$unshift","$nil?","$strip","$apply_normal_subs","$convert","$map","$text","$to_s","$cursor","$raise","$nested?","$document","$escape","$columns","$start_with?","$match","$chop","$pre_match","$post_match","$end_with?","$lstrip","$push_cellspec","$cell_open?","$close_cell","$advance","$take_cellspec","$warn","$line_info","$tr_s","$upto","$times","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$close_row","$rows","$effective_column_visits"]),function(l,a){var p,h=p=c(l,"Asciidoctor"),g=(h.$$proto,h.$$scope),b=a.slice().concat(g);!function(l,a,c){function f(){}var p,h,g,b,m,y=f=u(l,a,"Table",f),v=y.$$proto,w=y.$$scope,k=c.slice().concat(w);v.attributes=v.document=v.has_header_option=v.rows=v.columns=s,function(t,n,$){function r(){}var o,i=r=u(t,null,"Rows",r),l=(i.$$proto,i.$$scope);$.slice().concat(l);i.$attr_accessor("head","foot","body"),e.defn(i,"$initialize",o=function(e,t,n){var $=this;return null==e&&(e=[]),null==t&&(t=[]),null==n&&(n=[]),$.head=e,$.foot=t,$.body=n},o.$$arity=-1),e.alias(i,"[]","send")}(w.base,0,k),e.cdecl(w,"DEFAULT_DATA_FORMAT","psv"),e.cdecl(w,"DATA_FORMATS",["psv","dsv","csv"]),e.cdecl(w,"DEFAULT_DELIMITERS",_(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","})),e.cdecl(w,"TEXT_STYLES",_(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),e.cdecl(w,"ALIGNMENTS",_(["h","v"],{h:_(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:_(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})})),y.$attr_accessor("columns"),y.$attr_accessor("rows"),y.$attr_accessor("has_header_option"),e.defn(y,"$initialize",p=function(i,l){var a,c,u,_=this,f=p.$$p,h=s,g=s,b=s;return f&&(p.$$p=null),d(_,e.find_super_dispatcher(_,"initialize",p,!1),[i,"table"],null),_.rows=e.const_get(k,"Rows",!0,!0).$new(),_.columns=[],_.has_header_option=l["$key?"]("header-option"),(a=h=l["$[]"]("width"))===s||null==a||a.$$is_boolean&&1!=a?g=100:(a=(c=t(g=h.$to_i(),100))!==!1&&c!==s&&null!=c?c:n(g,1))===s||null==a||a.$$is_boolean&&1!=a||((a=(c=g["$=="](0))?(u=h["$=="]("0"))!==!1&&u!==s&&null!=u?u:h["$=="]("0%"):g["$=="](0))===s||null==a||a.$$is_boolean&&1!=a)&&(g=100),b=["tablepcwidth",g],d(_.attributes,"[]=",e.to_a(b)),b[$(b.length,1)],(a=_.document.$attributes()["$key?"]("pagewidth"))===s||null==a||a.$$is_boolean&&1!=a||(a="tableabswidth",c=_.attributes,(u=c["$[]"](a))!==!1&&u!==s&&null!=u||c["$[]="](a,r(o(_.attributes["$[]"]("tablepcwidth").$to_f(),100),_.document.$attributes()["$[]"]("pagewidth")).$round())),(a=l["$key?"]("rotate-option"))===s||null==a||a.$$is_boolean&&1!=a?s:(b=["orientation","landscape"],d(l,"[]=",e.to_a(b)),b[$(b.length,1)])},p.$$arity=2),e.defn(y,"$header_row?",h=function(){var e,t=this;return e=t.has_header_option,e!==!1&&e!==s&&null!=e?t.rows.$body()["$empty?"]():e},h.$$arity=0),e.defn(y,"$create_columns",g=function(t){var n,r,o=this,l=s,a=s,c=s;return l=[],a=0,d(t,"each",[],(n=function(t){var $=n.$$s||this;return null==t&&(t=s),a=i(a,t["$[]"]("width")),l["$<<"](e.const_get(k,"Column",!0,!0).$new($,l.$size(),t))},n.$$s=o,n.$$arity=1,n)),((r=(o.columns=l)["$empty?"]())===s||null==r||r.$$is_boolean&&1!=r)&&(c=["colcount",l.$size()],d(o.attributes,"[]=",e.to_a(c)),c[$(c.length,1)],o.$assign_column_widths(function(){return a["$=="](0)?s:a}())),s},g.$$arity=1),e.defn(y,"$assign_column_widths",b=function(e){var t,n,l=this,a=s,c=s,u=s;return null==e&&(e=s),a=10["$**"](4),c=u=0,e!==!1&&e!==s&&null!=e?d(l.columns,"each",[],(t=function(n){t.$$s;return null==n&&(n=s),c=i(c,u=n.$assign_width(s,e,a))},t.$$s=l,t.$$arity=1,t)):(u=o(o(r(100,a),l.columns.$size()).$to_i(),a),u.$to_i()["$=="](u)&&(u=u.$to_i()),d(l.columns,"each",[],(n=function(e){n.$$s;return null==e&&(e=s),c=i(c,e.$assign_width(u))},n.$$s=l,n.$$arity=1,n))),c["$=="](100)||l.columns["$[]"](-1).$assign_width(o(r(i($(100,c),u),a).$round(),a)),s},b.$$arity=-1),e.defn(y,"$partition_header_footer",m=function(n){var r,o,i,l=this,a=s,c=s,u=s;return a=["rowcount",l.rows.$body().$size()],d(l.attributes,"[]=",e.to_a(a)),a[$(a.length,1)],c=l.rows.$body().$size(),o=t(c,0),(r=o!==!1&&o!==s&&null!=o?l.has_header_option:o)===s||null==r||r.$$is_boolean&&1!=r||(u=l.rows.$body().$shift(),c=$(c,1),d(u,"each",[],(i=function(t){i.$$s;return null==t&&(t=s),a=[s],d(t,"style=",e.to_a(a)),a[$(a.length,1)]},i.$$s=l,i.$$arity=1,i)),a=[[u]],d(l.rows,"head=",e.to_a(a)),a[$(a.length,1)]),o=t(c,0),(r=o!==!1&&o!==s&&null!=o?n["$key?"]("footer-option"):o)===s||null==r||r.$$is_boolean&&1!=r||(a=[[l.rows.$body().$pop()]],d(l.rows,"foot=",e.to_a(a)),a[$(a.length,1)]),s},m.$$arity=1)}(g.base,e.const_get(b,"AbstractBlock",!0,!0),b),function(t,n,l){function a(){}var c,f,p=a=u(t,n,"Column",a),h=p.$$proto,g=p.$$scope;l.slice().concat(g);h.attributes=s,p.$attr_accessor("style"),e.defn(p,"$initialize",c=function(t,n,r){var o,l,a,u=this,f=c.$$p,p=s;return null==r&&(r=_([],{})),f&&(c.$$p=null),d(u,e.find_super_dispatcher(u,"initialize",c,!1),[t,"column"],null),u.style=r["$[]"]("style"),p=["colnumber",i(n,1)],d(r,"[]=",e.to_a(p)),p[$(p.length,1)],o="width",l=r,(a=l["$[]"](o))!==!1&&a!==s&&null!=a||l["$[]="](o,1),o="halign",l=r,(a=l["$[]"](o))!==!1&&a!==s&&null!=a||l["$[]="](o,"left"),o="valign",l=r,(a=l["$[]"](o))!==!1&&a!==s&&null!=a||l["$[]="](o,"top"),u.$update_attributes(r)},c.$$arity=-3),e.alias(p,"table","parent"),e.defn(p,"$assign_width",f=function(t,n,i){var l,a=this,c=s;return null==n&&(n=s),null==i&&(i=1e4),n!==!1&&n!==s&&null!=n&&(t=o(r(r(o(a.attributes["$[]"]("width").$to_f(),n),100),i).$to_i(),i),t.$to_i()["$=="](t)&&(t=t.$to_i())),c=["colpcwidth",t],d(a.attributes,"[]=",e.to_a(c)),c[$(c.length,1)],(l=a.$parent().$attributes()["$key?"]("tableabswidth"))===s||null==l||l.$$is_boolean&&1!=l||(c=["colabswidth",r(o(t,100),a.$parent().$attributes()["$[]"]("tableabswidth")).$round()],d(a.attributes,"[]=",e.to_a(c)),c[$(c.length,1)]),t},f.$$arity=-2)}(e.const_get(b,"Table",!0,!0),e.const_get(b,"AbstractNode",!0,!0),b),function(t,n,r){function o(){}var i,l,a,c,f=o=u(t,n,"Cell",o),p=f.$$proto,h=f.$$scope,g=r.slice().concat(h);p.style=p.document=p.text=p.inner_document=p.colspan=p.rowspan=p.attributes=s,f.$attr_accessor("style"),f.$attr_accessor("colspan"),f.$attr_accessor("rowspan"),e.alias(f,"column","parent"),f.$attr_reader("inner_document"),e.defn(f,"$initialize",i=function(t,n,r,o){var l,a,c=this,u=i.$$p,f=s,p=s,h=s,b=s,m=s;return null==r&&(r=_([],{})),null==o&&(o=s),u&&(i.$$p=null),d(c,e.find_super_dispatcher(c,"initialize",i,!1),[t,"cell"],null),c.text=n,c.style=s,c.colspan=s,c.rowspan=s,t!==!1&&t!==s&&null!=t&&(c.style=t.$attributes()["$[]"]("style"),c.$update_attributes(t.$attributes())),r!==!1&&r!==s&&null!=r&&(c.colspan=r.$delete("colspan"),c.rowspan=r.$delete("rowspan"),(l=r["$key?"]("style"))===s||null==l||l.$$is_boolean&&1!=l||(c.style=r["$[]"]("style")),c.$update_attributes(r)),(l=(a=c.style["$=="]("asciidoc"))?t.$table()["$header_row?"]()["$!"]():c.style["$=="]("asciidoc"))===s||null==l||l.$$is_boolean&&1!=l?s:(f=c.document.$attributes().$delete("doctitle"),p=c.text.$split(e.const_get(g,"EOL",!0,!0)),((l=(a=p["$empty?"]())!==!1&&a!==s&&null!=a?a:p["$[]"](0)["$include?"]("::")["$!"]())===s||null==l||l.$$is_boolean&&1!=l)&&(h=p["$[]"](0),b=e.const_get(g,"PreprocessorReader",!0,!0).$new(c.document,h).$readlines(),(l=b["$!="](h))===s||null==l||l.$$is_boolean&&1!=l||(p.$shift(),d(p,"unshift",e.to_a(b)))),c.inner_document=e.const_get(g,"Document",!0,!0).$new(p,_(["header_footer","parent","cursor"],{header_footer:!1,parent:c.document,cursor:o})),(l=f["$nil?"]())===s||null==l||l.$$is_boolean&&1!=l?(m=["doctitle",f],d(c.document.$attributes(),"[]=",e.to_a(m)),m[$(m.length,1)]):s)},i.$$arity=-3),e.defn(f,"$text",l=function(){var e=this;return e.$apply_normal_subs(e.text).$strip()},l.$$arity=0),e.defn(f,"$content",a=function(){var t,n=this;return n.style["$=="]("asciidoc")?n.inner_document.$convert():d(n.$text().$split(e.const_get(g,"BlankLineRx",!0,!0)),"map",[],(t=function(n){var $,r,o=t.$$s||this;return null==o.style&&(o.style=s),null==n&&(n=s),($=(r=o.style["$!"]())!==!1&&r!==s&&null!=r?r:o.style["$=="]("header"))===s||null==$||$.$$is_boolean&&1!=$?e.const_get(g,"Inline",!0,!0).$new(o.$parent(),"quoted",n,_(["type"],{type:o.style})).$convert():n},t.$$s=n,t.$$arity=1,t))},a.$$arity=0),e.defn(f,"$to_s",c=function(){var t,n=this,$=c.$$p,r=s,o=s,i=s;for($&&(c.$$p=null),o=0,i=arguments.length,r=new Array(i);o<i;o++)r[o]=arguments[o];return d(n,e.find_super_dispatcher(n,"to_s",c,!1),r,$).$to_s()+" - [text: "+n.text+", colspan: "+((t=n.colspan)!==!1&&t!==s&&null!=t?t:1)+", rowspan: "+((t=n.rowspan)!==!1&&t!==s&&null!=t?t:1)+", attributes: "+n.attributes+"]"},c.$$arity=0)}(e.const_get(b,"Table",!0,!0),e.const_get(b,"AbstractNode",!0,!0),b),function(n,r,o){function l(){}var a,c,p,h,g,b,m,y,v,w,k,x,O,E,A,S,R,M,T,I=l=u(n,null,"ParserContext",l),C=I.$$proto,N=I.$$scope,j=o.slice().concat(N);C.format=C.delimiter=C.delimiter_re=C.buffer=C.cellspecs=C.cell_open=C.last_cursor=C.table=C.current_row=C.colcount=C.column_visits=C.active_rowspans=C.linenum=s,I.$attr_accessor("table"),I.$attr_accessor("format"),I.$attr_reader("colcount"),I.$attr_accessor("buffer"),I.$attr_reader("delimiter"),I.$attr_reader("delimiter_re"),e.defn(I,"$initialize",a=function(t,n,$){var r,o,i,l=this;return null==$&&($=_([],{})),l.reader=t,l.table=n,l.last_cursor=t.$cursor(),(r=l.format=$["$[]"]("format"))===s||null==r||r.$$is_boolean&&1!=r?l.format=e.const_get([e.const_get(j,"Table",!0,!0).$$scope],"DEFAULT_DATA_FORMAT",!0,!0):((r=e.const_get([e.const_get(j,"Table",!0,!0).$$scope],"DATA_FORMATS",!0,!0)["$include?"](l.format))===s||null==r||r.$$is_boolean&&1!=r)&&l.$raise("Illegal table format: "+l.format),l.delimiter=function(){return o=(i=l.format["$=="]("psv"))?$["$key?"]("separator")["$!"]():l.format["$=="]("psv"),(r=o!==!1&&o!==s&&null!=o?n.$document()["$nested?"]():o)===s||null==r||r.$$is_boolean&&1!=r?(r=$["$[]"]("separator"))!==!1&&r!==s&&null!=r?r:e.const_get([e.const_get(j,"Table",!0,!0).$$scope],"DEFAULT_DELIMITERS",!0,!0)["$[]"](l.format):"!"}(),l.delimiter_re=new RegExp(e.const_get(j,"Regexp",!0,!0).$escape(l.delimiter)),l.colcount=function(){return(r=n.$columns()["$empty?"]())===s||null==r||r.$$is_boolean&&1!=r?n.$columns().$size():-1}(),l.buffer="",l.cellspecs=[],l.cell_open=!1,l.active_rowspans=[0],l.column_visits=0,l.current_row=[],l.linenum=-1},a.$$arity=-3),e.defn(I,"$starts_with_delimiter?",c=function(e){var t=this;return e["$start_with?"](t.delimiter)},c.$$arity=1),e.defn(I,"$match_delimiter",p=function(e){return this.delimiter_re.$match(e)},p.$$arity=1),e.defn(I,"$skip_matched_delimiter",h=function(e,t){var n=this;return null==t&&(t=!1),n.buffer=""+n.buffer+function(){return t!==!1&&t!==s&&null!=t?e.$pre_match().$chop():e.$pre_match()}()+n.delimiter,e.$post_match()},h.$$arity=-2),e.defn(I,"$buffer_has_unclosed_quotes?",g=function(e){var t,n,$=this,r=s;return null==e&&(e=s),r=(""+$.buffer+e).$strip(),n=r["$start_with?"]('"'),t=n!==!1&&n!==s&&null!=n?r["$start_with?"]('""')["$!"]():n,t!==!1&&t!==s&&null!=t?r["$end_with?"]('"')["$!"]():t},g.$$arity=-1),e.defn(I,"$buffer_quoted?",b=function(){var e,t=this;return t.buffer=t.buffer.$lstrip(),e=t.buffer["$start_with?"]('"'),e!==!1&&e!==s&&null!=e?t.buffer["$start_with?"]('""')["$!"]():e},b.$$arity=0),e.defn(I,"$take_cellspec",m=function(){return this.cellspecs.$shift()},m.$$arity=0),e.defn(I,"$push_cellspec",y=function(e){var t,n=this;return null==e&&(e=_([],{})),n.cellspecs["$<<"]((t=e)!==!1&&t!==s&&null!=t?t:_([],{})),s},y.$$arity=-1),e.defn(I,"$keep_cell_open",v=function(){return this.cell_open=!0,s},v.$$arity=0),e.defn(I,"$mark_cell_closed",w=function(){return this.cell_open=!1,s},w.$$arity=0),e.defn(I,"$cell_open?",k=function(){return this.cell_open},k.$$arity=0),e.defn(I,"$cell_closed?",x=function(){return this.cell_open["$!"]()},x.$$arity=0),e.defn(I,"$close_open_cell",O=function(e){var t,n=this;return null==e&&(e=_([],{})),n.$push_cellspec(e),(t=n["$cell_open?"]())===s||null==t||t.$$is_boolean&&1!=t||n.$close_cell(!0),n.$advance(),s},O.$$arity=-1),e.defn(I,"$close_cell",E=function(n){try{var r,o,l,a=this,c=s,u=s,p=s;return null==n&&(n=!1),c=a.buffer.$strip(),a.buffer="",a.format["$=="]("psv")?(u=a.$take_cellspec(),u!==!1&&u!==s&&null!=u?p=(r=u.$delete("repeatcol"))!==!1&&r!==s&&null!=r?r:1:(a.$warn("asciidoctor: ERROR: "+a.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),u=_([],{}),p=1)):(u=s,p=1,a.format["$=="]("csv")&&(o=c["$empty?"]()["$!"](),(r=o!==!1&&o!==s&&null!=o?c["$include?"]('"'):o)===s||null==r||r.$$is_boolean&&1!=r||(o=c["$start_with?"]('"'),(r=o!==!1&&o!==s&&null!=o?c["$end_with?"]('"'):o)===s||null==r||r.$$is_boolean&&1!=r||(c=c["$[]"](f(1,-1,!0)).$strip()),c=c.$tr_s('"','"')))),d(1,"upto",[p],(l=function(r){var o,a,_,f,h,g=l.$$s||this,b=s,m=s,y=s,v=s;return null==g.colcount&&(g.colcount=s),null==g.table&&(g.table=s),null==g.current_row&&(g.current_row=s),null==g.last_cursor&&(g.last_cursor=s),null==g.reader&&(g.reader=s),null==g.column_visits&&(g.column_visits=s),null==g.linenum&&(g.linenum=s),null==r&&(r=s),g.colcount["$=="](-1)?(g.table.$columns()["$<<"](b=e.const_get([e.const_get(j,"Table",!0,!0).$$scope],"Column",!0,!0).$new(g.table,$(i(g.table.$columns().$size(),r),1))),a=(_=u!==!1&&u!==s&&null!=u)?u["$key?"]("colspan"):u,(o=a!==!1&&a!==s&&null!=a?t(m=$(u["$[]"]("colspan").$to_i(),1),0):a)===s||null==o||o.$$is_boolean&&1!=o||(y=g.table.$columns().$size(),d(m,"times",[],(f=function(t){var n=f.$$s||this;return null==n.table&&(n.table=s),null==t&&(t=s),n.table.$columns()["$<<"](e.const_get([e.const_get(j,"Table",!0,!0).$$scope],"Column",!0,!0).$new(n.table,i(y,t)))},f.$$s=g,f.$$arity=1,f)))):((o=b=g.table.$columns()["$[]"](g.current_row.$size()))===s||null==o||o.$$is_boolean&&1!=o)&&(g.$warn("asciidoctor: ERROR: "+g.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),e.ret(s)),v=e.const_get([e.const_get(j,"Table",!0,!0).$$scope],"Cell",!0,!0).$new(b,c,u,g.last_cursor),g.last_cursor=g.reader.$cursor(),((o=(a=v.$rowspan()["$!"]())!==!1&&a!==s&&null!=a?a:v.$rowspan()["$=="](1))===s||null==o||o.$$is_boolean&&1!=o)&&g.$activate_rowspan(v.$rowspan(),(o=v.$colspan())!==!1&&o!==s&&null!=o?o:1),g.column_visits=i(g.column_visits,(o=v.$colspan())!==!1&&o!==s&&null!=o?o:1),g.current_row["$<<"](v),a=g["$end_of_row?"](),(o=a!==!1&&a!==s&&null!=a?(_=(h=g.colcount["$!="](-1))!==!1&&h!==s&&null!=h?h:t(g.linenum,0))!==!1&&_!==s&&null!=_?_:(h=n!==!1&&n!==s&&null!=n)?r["$=="](p):n:a)===s||null==o||o.$$is_boolean&&1!=o?s:g.$close_row()},l.$$s=a,l.$$arity=1,l)),a.cell_open=!1,s}catch(t){if(t===e.returner)return t.$v;throw t}},E.$$arity=-1),e.defn(I,"$close_row",A=function(){var e,t,n,$=this;return $.table.$rows().$body()["$<<"]($.current_row),$.colcount["$=="](-1)&&($.colcount=$.column_visits),$.column_visits=0,$.current_row=[],$.active_rowspans.$shift(),e=0,t=$.active_rowspans,(n=t["$[]"](e))!==!1&&n!==s&&null!=n||t["$[]="](e,0),s},A.$$arity=0),e.defn(I,"$activate_rowspan",S=function(t,n){var r,o=this;return d(1..$upto($(t,1)),"each",[],(r=function(t){var o,l=r.$$s||this,a=s;return null==l.active_rowspans&&(l.active_rowspans=s),null==t&&(t=s),a=[t,i((o=l.active_rowspans["$[]"](t))!==!1&&o!==s&&null!=o?o:0,n)],d(l.active_rowspans,"[]=",e.to_a(a)),a[$(a.length,1)]},r.$$s=o,r.$$arity=1,r)),s},S.$$arity=2),e.defn(I,"$end_of_row?",R=function(){var e,t=this;return(e=t.colcount["$=="](-1))!==!1&&e!==s&&null!=e?e:t.$effective_column_visits()["$=="](t.colcount)},R.$$arity=0),e.defn(I,"$effective_column_visits",M=function(){var e=this;return i(e.column_visits,e.active_rowspans["$[]"](0))},M.$$arity=0),e.defn(I,"$advance",T=function(){var e=this;return e.linenum=i(e.linenum,1)},T.$$arity=0)}(e.const_get(b,"Table",!0,!0),0,b)}(l.base,a)},function(e){function t(e,t){return"number"==typeof e&&"number"==typeof t?e>=t:e["$>="](t)}function n(e,t){return"number"==typeof e&&"number"==typeof t?e*t:e["$*"](t)}function $(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e["$-"](t)}function r(e,t){return"number"==typeof e&&"number"==typeof t?e<t:e["$<"](t)}var o,i=e.top,l=e,a=[e],s=e.nil,c=(e.breaker,e.slice,e.gvars),u=e.module,_=e.hash2,d=e.send,f=e.range,p=e.hash;null==c[":"]&&(c[":"]=s),
e.add_stubs(["$==","$>=","$require","$unshift","$dirname","$new","$attr","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$[]","$pwd","$!","$!=","$default_external","$to_a","$bytes","$to_set","$map","$keys","$*","$dup","$[]=","$-","$insert","$start","$===","$inject","$split","$gsub","$respond_to?","$each","$raise","$ancestors","$class","$path","$utc","$at","$to_i","$mtime","$readlines","$basename","$strftime","$rewind","$entries","$lines","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$load","$delete","$key?","$attributes","$outfilesuffix","$has_key?","$safe","$normalize_system_path","$directory?","$mkdir_p","$convert","$write","$<","$attr?","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$nil?","$read_asset","$open","$write_coderay_stylesheet","$write_pygments_stylesheet"]),((o=e.const_get([l],"RUBY_ENGINE",!0,!1)?"constant":s)===s||null==o||o.$$is_boolean&&1!=o)&&e.cdecl(l,"RUBY_ENGINE","unknown"),e.cdecl(l,"RUBY_ENGINE_OPAL",e.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("opal")),e.cdecl(l,"RUBY_ENGINE_JRUBY",e.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("jruby")),e.cdecl(l,"RUBY_MIN_VERSION_1_9",t(e.const_get(a,"RUBY_VERSION",!0,!0),"1.9")),e.cdecl(l,"RUBY_MIN_VERSION_2",t(e.const_get(a,"RUBY_VERSION",!0,!0),"2")),i.$require("set"),e.const_get(a,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&i.$require("asciidoctor/opal_ext"),c[":"].$unshift(e.const_get(a,"File",!0,!0).$dirname("asciidoctor")),function(o,i){var l,a,c,h=l=u(o,"Asciidoctor"),g=(h.$$proto,h.$$scope),b=i.slice().concat(g),m=s,y=s,v=s;e.cdecl(g,"RUBY_ENGINE",e.const_get([e.Object.$$scope],"RUBY_ENGINE",!0,!0)),function(t,n){var $,r=$=u(t,"SafeMode"),o=(r.$$proto,r.$$scope);n.slice().concat(o);e.cdecl(o,"UNSAFE",0),e.cdecl(o,"SAFE",1),e.cdecl(o,"SERVER",10),e.cdecl(o,"SECURE",20)}(g.base,b),function(t,n){var $,r,o=$=u(t,"Compliance"),i=(o.$$proto,o.$$scope),l=n.slice().concat(i);o.keys=e.const_get([e.Object.$$scope],"Set",!0,!0).$new(),function(e,t){e.$$proto,e.$$scope,t.slice().concat(e);e.$attr("keys")}(e.get_singleton_class(o),l),e.defs(o,"$define",r=function(t,n){var $=this;return null==$.keys&&($.keys=s),$.$instance_variable_set("@"+t,n),function(e,t){e.$$proto,e.$$scope,t.slice().concat(e);return e}(e.get_singleton_class($),l).$send("attr_accessor",t),$.keys["$<<"](t),s},r.$$arity=2),o.$define("block_terminates_paragraph",!0),o.$define("strict_verbatim_paragraphs",!0),o.$define("underline_style_section_titles",!0),o.$define("unwrap_standalone_preamble",!0),o.$define("attribute_missing","skip"),o.$define("attribute_undefined","drop-line"),o.$define("shorthand_property_syntax",!0),o.$define("unique_id_start_index",2),o.$define("markdown_syntax",!0)}(g.base,b),e.cdecl(g,"ROOT_PATH",e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path("asciidoctor")))),e.cdecl(g,"LIB_PATH",e.const_get([e.Object.$$scope],"File",!0,!0).$join(e.const_get(b,"ROOT_PATH",!0,!0),"lib")),e.cdecl(g,"DATA_PATH",e.const_get([e.Object.$$scope],"File",!0,!0).$join(e.const_get(b,"ROOT_PATH",!0,!0),"data"));try{e.cdecl(g,"USER_HOME",e.const_get([e.Object.$$scope],"Dir",!0,!0).$home())}catch(t){if(!e.rescue(t,[e.const_get(b,"StandardError",!0,!0)]))throw t;try{e.cdecl(g,"USER_HOME",(a=e.const_get([e.Object.$$scope],"ENV",!0,!0)["$[]"]("HOME"))!==!1&&a!==s&&null!=a?a:e.const_get([e.Object.$$scope],"Dir",!0,!0).$pwd())}finally{e.pop_exception()}}e.cdecl(g,"COERCE_ENCODING",(a=e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"](),a!==!1&&a!==s&&null!=a?e.const_get([e.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0):a)),e.cdecl(g,"FORCE_ENCODING",(a=e.const_get(b,"COERCE_ENCODING",!0,!0),a!==!1&&a!==s&&null!=a?e.const_get([e.Object.$$scope],"Encoding",!0,!0).$default_external()["$!="](e.const_get([e.const_get([e.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0)):a)),e.cdecl(g,"BOM_BYTES_UTF_8","ï»¿".$bytes().$to_a()),e.cdecl(g,"BOM_BYTES_UTF_16LE","ÿþ".$bytes().$to_a()),e.cdecl(g,"BOM_BYTES_UTF_16BE","þÿ".$bytes().$to_a()),e.cdecl(g,"FORCE_UNICODE_LINE_LENGTH",e.const_get([e.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0)["$!"]()),e.cdecl(g,"SUPPORTS_GSUB_RESULT_HASH",(a=e.const_get([e.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0),a!==!1&&a!==s&&null!=a?e.const_get([e.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"]():a)),e.cdecl(g,"EOL","\n"),e.cdecl(g,"NULL","\0"),e.cdecl(g,"TAB","\t"),e.cdecl(g,"DEFAULT_DOCTYPE","article"),e.cdecl(g,"DEFAULT_BACKEND","html5"),e.cdecl(g,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),e.cdecl(g,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),e.cdecl(g,"BACKEND_ALIASES",_(["html","docbook"],{html:"html5",docbook:"docbook5"})),e.cdecl(g,"DEFAULT_PAGE_WIDTHS",_(["docbook"],{docbook:425})),e.cdecl(g,"DEFAULT_EXTENSIONS",_(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"})),e.cdecl(g,"ASCIIDOC_EXTENSIONS",_([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),e.cdecl(g,"SECTION_LEVELS",_(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),e.cdecl(g,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),e.cdecl(g,"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),e.cdecl(g,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),e.cdecl(g,"DELIMITED_BLOCKS",_(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],",===":["table",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],":===":["table",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],"!===":["table",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],"////":["comment",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()],"```":["fenced_code",e.const_get([e.Object.$$scope],"Set",!0,!0).$new()]})),e.cdecl(g,"DELIMITED_BLOCK_LEADERS",d(e.const_get(b,"DELIMITED_BLOCKS",!0,!0).$keys(),"map",[],(c=function(e){c.$$s;return null==e&&(e=s),e["$[]"](f(0,1,!1))},c.$$s=h,c.$$arity=1,c)).$to_set()),e.cdecl(g,"LAYOUT_BREAK_LINES",_(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"})),e.cdecl(g,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),e.cdecl(g,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),e.cdecl(g,"ORDERED_LIST_KEYWORDS",_(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),e.cdecl(g,"LIST_CONTINUATION","+"),e.cdecl(g,"LINE_BREAK"," +"),e.cdecl(g,"LINE_CONTINUATION"," \\"),e.cdecl(g,"LINE_CONTINUATION_LEGACY"," +"),e.cdecl(g,"BLOCK_MATH_DELIMITERS",_(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),e.cdecl(g,"INLINE_MATH_DELIMITERS",_(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),e.cdecl(g,"FLEXIBLE_ATTRIBUTES",["sectnums"]),e.const_get(b,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&(e.cdecl(g,"CC_ALPHA","a-zA-Z"),e.cdecl(g,"CG_ALPHA","[a-zA-Z]"),e.cdecl(g,"CC_ALNUM","a-zA-Z0-9"),e.cdecl(g,"CG_ALNUM","[a-zA-Z0-9]"),e.cdecl(g,"CG_BLANK","[ \\t]"),e.cdecl(g,"CC_EOL","(?=\\n|$)"),e.cdecl(g,"CG_GRAPH","[\\x21-\\x7E]"),e.cdecl(g,"CC_ALL","[\\s\\S]"),e.cdecl(g,"CC_WORD","a-zA-Z0-9_"),e.cdecl(g,"CG_WORD","[a-zA-Z0-9_]")),e.cdecl(g,"AuthorInfoLineRx",new RegExp("^("+e.const_get(b,"CG_WORD",!0,!0)+"["+e.const_get(b,"CC_WORD",!0,!0)+"\\-'.]*)(?: +("+e.const_get(b,"CG_WORD",!0,!0)+"["+e.const_get(b,"CC_WORD",!0,!0)+"\\-'.]*))?(?: +("+e.const_get(b,"CG_WORD",!0,!0)+"["+e.const_get(b,"CC_WORD",!0,!0)+"\\-'.]*))?(?: +<([^>]+)>)?$")),e.cdecl(g,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/),e.cdecl(g,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/),e.cdecl(g,"ManpageNamePurposeRx",new RegExp("^(.*?)"+e.const_get(b,"CG_BLANK",!0,!0)+"+-"+e.const_get(b,"CG_BLANK",!0,!0)+"+(.*)$")),e.cdecl(g,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/),e.cdecl(g,"EvalExpressionRx",new RegExp("^(\\S.*?)"+e.const_get(b,"CG_BLANK",!0,!0)+"*(==|!=|<=|>=|<|>)"+e.const_get(b,"CG_BLANK",!0,!0)+"*(\\S.*)$")),e.cdecl(g,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/),e.cdecl(g,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/),e.cdecl(g,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+e.const_get(b,"CG_BLANK",!0,!0)+"+(.*))?$")),e.cdecl(g,"InvalidAttributeNameCharsRx",/[^\w\-]/),e.cdecl(g,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/),e.cdecl(g,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/),e.cdecl(g,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+e.const_get(b,"CC_ALPHA",!0,!0)+":_]["+e.const_get(b,"CC_WORD",!0,!0)+":.-]*)(?:,"+e.const_get(b,"CG_BLANK",!0,!0)+"*(\\S.*))?)\\]\\]$")),e.cdecl(g,"BlockAttributeListRx",new RegExp("^\\[(|"+e.const_get(b,"CG_BLANK",!0,!0)+"*["+e.const_get(b,"CC_WORD",!0,!0)+"\\{,.#\"'%].*)\\]$")),e.cdecl(g,"BlockAttributeLineRx",new RegExp("^\\[(|"+e.const_get(b,"CG_BLANK",!0,!0)+"*["+e.const_get(b,"CC_WORD",!0,!0)+"\\{,.#\"'%].*|\\[(?:|["+e.const_get(b,"CC_ALPHA",!0,!0)+":_]["+e.const_get(b,"CC_WORD",!0,!0)+":.-]*(?:,"+e.const_get(b,"CG_BLANK",!0,!0)+"*\\S.*)?)\\])\\]$")),e.cdecl(g,"BlockTitleRx",/^\.([^\s.].*)$/),e.cdecl(g,"AdmonitionParagraphRx",new RegExp("^("+n(e.const_get(b,"ADMONITION_STYLES",!0,!0).$to_a(),"|")+"):"+e.const_get(b,"CG_BLANK",!0,!0))),e.cdecl(g,"LiteralParagraphRx",new RegExp("^("+e.const_get(b,"CG_BLANK",!0,!0)+"+.*)$")),e.cdecl(g,"CommentBlockRx",/^\/{4,}$/),e.cdecl(g,"CommentLineRx",/^\/\/(?:[^\/]|$)/),e.cdecl(g,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+e.const_get(b,"CG_BLANK",!0,!0)+"+(\\S.*?)(?:"+e.const_get(b,"CG_BLANK",!0,!0)+"+\\1)?$")),e.cdecl(g,"SetextSectionTitleRx",new RegExp("^((?=.*"+e.const_get(b,"CG_WORD",!0,!0)+"+.*)[^.].*?)$")),e.cdecl(g,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/),e.cdecl(g,"InlineSectionAnchorRx",new RegExp("^(.*?)"+e.const_get(b,"CG_BLANK",!0,!0)+"+(\\\\)?\\[\\[(["+e.const_get(b,"CC_ALPHA",!0,!0)+":_]["+e.const_get(b,"CC_WORD",!0,!0)+":.-]*)(?:,"+e.const_get(b,"CG_BLANK",!0,!0)+"*(\\S.*?))?\\]\\]$")),e.cdecl(g,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,6}|#x[a-fA-F0-9]{2,5});|[^"+e.const_get(b,"CC_WORD",!0,!0)+"]+?")),e.cdecl(g,"FloatingTitleStyleRx",/^(?:float|discrete)\b/),e.cdecl(g,"AnyListRx",new RegExp("^(?:"+e.const_get(b,"CG_BLANK",!0,!0)+"*(?:-|([*.\\u2022])\\1{0,4}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+e.const_get(b,"CG_BLANK",!0,!0)+"|"+e.const_get(b,"CG_BLANK",!0,!0)+"*.*?(?::{2,4}|;;)(?:$|"+e.const_get(b,"CG_BLANK",!0,!0)+")|<?\\d+>"+e.const_get(b,"CG_BLANK",!0,!0)+")")),e.cdecl(g,"UnorderedListRx",new RegExp("^"+e.const_get(b,"CG_BLANK",!0,!0)+"*(-|\\*{1,5}|\\u2022{1,5})"+e.const_get(b,"CG_BLANK",!0,!0)+"+(.*)$")),e.cdecl(g,"OrderedListRx",new RegExp("^"+e.const_get(b,"CG_BLANK",!0,!0)+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+e.const_get(b,"CG_BLANK",!0,!0)+"+(.*)$")),e.cdecl(g,"OrderedListMarkerRxMap",_(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),e.cdecl(g,"DescriptionListRx",new RegExp("^(?!//)"+e.const_get(b,"CG_BLANK",!0,!0)+"*(.*?)(:{2,4}|;;)(?:"+e.const_get(b,"CG_BLANK",!0,!0)+"+(.*))?$")),e.cdecl(g,"DescriptionListSiblingRx",_(["::",":::","::::",";;"],{"::":new RegExp("^(?!//)"+e.const_get(b,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(::)(?:"+e.const_get(b,"CG_BLANK",!0,!0)+"+(.*))?$"),":::":new RegExp("^(?!//)"+e.const_get(b,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(:::)(?:"+e.const_get(b,"CG_BLANK",!0,!0)+"+(.*))?$"),"::::":new RegExp("^(?!//)"+e.const_get(b,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(::::)(?:"+e.const_get(b,"CG_BLANK",!0,!0)+"+(.*))?$"),";;":new RegExp("^(?!//)"+e.const_get(b,"CG_BLANK",!0,!0)+"*(.*)(;;)(?:"+e.const_get(b,"CG_BLANK",!0,!0)+"+(.*))?$")})),e.cdecl(g,"CalloutListRx",new RegExp("^<?(\\d+)>"+e.const_get(b,"CG_BLANK",!0,!0)+"+(.*)$")),e.cdecl(g,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),e.cdecl(g,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),e.cdecl(g,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+e.const_get(b,"CC_EOL",!0,!0)+")")),e.cdecl(g,"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+e.const_get(b,"CC_EOL",!0,!0)+")")),e.cdecl(g,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+e.const_get(b,"CC_EOL",!0,!0)+")"),e.cdecl(g,"ListRxMap",_(["ulist","olist","dlist","colist"],{ulist:e.const_get(b,"UnorderedListRx",!0,!0),olist:e.const_get(b,"OrderedListRx",!0,!0),dlist:e.const_get(b,"DescriptionListRx",!0,!0),colist:e.const_get(b,"CalloutListRx",!0,!0)})),e.cdecl(g,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),e.cdecl(g,"CellSpecStartRx",new RegExp("^"+e.const_get(b,"CG_BLANK",!0,!0)+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),e.cdecl(g,"CellSpecEndRx",new RegExp(e.const_get(b,"CG_BLANK",!0,!0)+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),e.cdecl(g,"GenericBlockMacroRx",new RegExp("^("+e.const_get(b,"CG_WORD",!0,!0)+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$")),e.cdecl(g,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/),e.cdecl(g,"TocBlockMacroRx",/^toc::\[(.*?)\]$/),e.cdecl(g,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+e.const_get(b,"CC_ALPHA",!0,!0)+":_]["+e.const_get(b,"CC_WORD",!0,!0)+":.-]*)(?:,"+e.const_get(b,"CG_BLANK",!0,!0)+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])")),e.cdecl(g,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+e.const_get(b,"CC_WORD",!0,!0)+":]["+e.const_get(b,"CC_WORD",!0,!0)+":.-]*?)\\]\\]\\]")),e.cdecl(g,"EmailInlineMacroRx",new RegExp("([\\\\>:/])?"+e.const_get(b,"CG_WORD",!0,!0)+"["+e.const_get(b,"CC_WORD",!0,!0)+".%+-]*@"+e.const_get(b,"CG_ALNUM",!0,!0)+"["+e.const_get(b,"CC_ALNUM",!0,!0)+".-]*\\."+e.const_get(b,"CG_ALPHA",!0,!0)+"{2,4}\\b")),e.cdecl(g,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+e.const_get(b,"CC_ALL",!0,!0)+"*?[^\\\\])\\]","m")),e.cdecl(g,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/),e.cdecl(g,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+e.const_get(b,"CC_ALL",!0,!0)+"*?[^\\\\])\\]|\\(\\(("+e.const_get(b,"CC_ALL",!0,!0)+"+?)\\)\\)(?!\\)))","m")),e.cdecl(g,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/),e.cdecl(g,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+e.const_get(b,"CG_BLANK",!0,!0)+"*[^\\1])")),e.cdecl(g,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/),e.cdecl(g,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/),e.cdecl(g,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+e.const_get(b,"CC_ALL",!0,!0)+"*?[^\\\\])\\]","m")),e.cdecl(g,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+e.const_get(b,"CG_WORD",!0,!0)+"|"+e.const_get(b,"CG_WORD",!0,!0)+".*?\\S)\\["+e.const_get(b,"CG_BLANK",!0,!0)+"*(.+?)?\\]")),e.cdecl(g,"MenuInlineRx",new RegExp('\\\\?"('+e.const_get(b,"CG_WORD",!0,!0)+'[^"]*?'+e.const_get(b,"CG_BLANK",!0,!0)+"*&gt;"+e.const_get(b,"CG_BLANK",!0,!0)+'*[^" \\t][^"]*)"')),e.cdecl(g,"PassInlineRx",p(!1,["+","`",new RegExp("(^|[^"+e.const_get(b,"CC_WORD",!0,!0)+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+e.const_get(b,"CC_ALL",!0,!0)+"*?\\S)\\4)(?!"+e.const_get(b,"CG_WORD",!0,!0)+")","m")],!0,["`",s,new RegExp("(^|[^`"+e.const_get(b,"CC_WORD",!0,!0)+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+e.const_get(b,"CC_ALL",!0,!0)+"*?\\S)\\4)(?![`"+e.const_get(b,"CC_WORD",!0,!0)+"])","m")])),e.cdecl(g,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+e.const_get(b,"CC_ALL",!0,!0)+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+e.const_get(b,"CC_ALL",!0,!0)+"*?[^\\\\])\\])","m")),e.cdecl(g,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+e.const_get(b,"CC_WORD",!0,!0)+'":./]'+e.const_get(b,"CC_ALL",!0,!0)+"*?)&gt;&gt;|xref:(["+e.const_get(b,"CC_WORD",!0,!0)+'":./]'+e.const_get(b,"CC_ALL",!0,!0)+"*?)\\[("+e.const_get(b,"CC_ALL",!0,!0)+"*?)\\])","m")),e.const_get(b,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&e.cdecl(g,"LineBreakRx",/^(.*)[ \t]\+$/m),e.cdecl(g,"LayoutBreakLineRx",/^('|<){3,}$/),e.cdecl(g,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/),e.cdecl(g,"BlankLineRx",new RegExp("^"+e.const_get(b,"CG_BLANK",!0,!0)+"*\\n")),e.cdecl(g,"DataDelimiterRx",/,|;/),e.cdecl(g,"DoubleQuotedRx",/^("|)(.*)\1$/),e.cdecl(g,"DoubleQuotedMultiRx",new RegExp('^("|)('+e.const_get(b,"CC_ALL",!0,!0)+"*)\\1$","m")),e.cdecl(g,"TrailingDigitsRx",/\d+$/),e.cdecl(g,"EscapedSpaceRx",new RegExp("\\\\("+e.const_get(b,"CG_BLANK",!0,!0)+")")),e.cdecl(g,"SpaceDelimiterRx",new RegExp("([^\\\\])"+e.const_get(b,"CG_BLANK",!0,!0)+"+")),e.cdecl(g,"SubModifierSniffRx",/[+-]/),e.cdecl(g,"UnicodeCharScanRx",function(){return e.const_get(b,"RUBY_ENGINE",!0,!0)["$=="]("opal"),s}()),e.cdecl(g,"UriSniffRx",new RegExp("^"+e.const_get(b,"CG_ALPHA",!0,!0)+"["+e.const_get(b,"CC_ALNUM",!0,!0)+".+-]+:/{0,2}")),e.cdecl(g,"UriTerminator",/[);:]$/),e.cdecl(g,"XmlSanitizeRx",/<[^>]+>/),e.cdecl(g,"INTRINSIC_ATTRIBUTES",_(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),m=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+e.const_get(b,"CC_ALL",!0,!0)+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+e.const_get(b,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+e.const_get(b,"CC_ALL",!0,!0)+"*?\\S)\\*(?!"+e.const_get(b,"CG_WORD",!0,!0)+")","m")],["double","constrained",new RegExp("(^|[^"+e.const_get(b,"CC_WORD",!0,!0)+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+e.const_get(b,"CC_ALL",!0,!0)+'*?\\S)`"(?!'+e.const_get(b,"CG_WORD",!0,!0)+")","m")],["single","constrained",new RegExp("(^|[^"+e.const_get(b,"CC_WORD",!0,!0)+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+e.const_get(b,"CC_ALL",!0,!0)+"*?\\S)`'(?!"+e.const_get(b,"CG_WORD",!0,!0)+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+e.const_get(b,"CC_ALL",!0,!0)+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+e.const_get(b,"CC_WORD",!0,!0)+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+e.const_get(b,"CC_ALL",!0,!0)+"*?\\S)`(?!["+e.const_get(b,"CC_WORD",!0,!0)+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+e.const_get(b,"CC_ALL",!0,!0)+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+e.const_get(b,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+e.const_get(b,"CC_ALL",!0,!0)+"*?\\S)_(?!"+e.const_get(b,"CG_WORD",!0,!0)+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+e.const_get(b,"CC_ALL",!0,!0)+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+e.const_get(b,"CC_WORD",!0,!0)+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+e.const_get(b,"CC_ALL",!0,!0)+"*?\\S)#(?!"+e.const_get(b,"CG_WORD",!0,!0)+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]],y=m.$dup(),v=[2,["double","constrained",new RegExp("(^|[^"+e.const_get(b,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+e.const_get(b,"CC_ALL",!0,!0)+"*?\\S)''(?!"+e.const_get(b,"CG_WORD",!0,!0)+")","m")]],d(y,"[]=",e.to_a(v)),v[$(v.length,1)],v=[3,["single","constrained",new RegExp("(^|[^"+e.const_get(b,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+e.const_get(b,"CC_ALL",!0,!0)+"*?\\S)'(?!"+e.const_get(b,"CG_WORD",!0,!0)+")","m")]],d(y,"[]=",e.to_a(v)),v[$(v.length,1)],v=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+e.const_get(b,"CC_ALL",!0,!0)+"+?)\\+\\+","m")]],d(y,"[]=",e.to_a(v)),v[$(v.length,1)],v=[5,["monospaced","constrained",new RegExp("(^|[^"+e.const_get(b,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+e.const_get(b,"CC_ALL",!0,!0)+"*?\\S)\\+(?!"+e.const_get(b,"CG_WORD",!0,!0)+")","m")]],d(y,"[]=",e.to_a(v)),v[$(v.length,1)],y.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+e.const_get(b,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+e.const_get(b,"CC_ALL",!0,!0)+"*?\\S)'(?!"+e.const_get(b,"CG_WORD",!0,!0)+")","m")]),e.cdecl(g,"QUOTE_SUBS",p(!1,m,!0,y)),m=s,y=s,e.cdecl(g,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+e.const_get(b,"CG_WORD",!0,!0)+")\\\\?--(?="+e.const_get(b,"CG_WORD",!0,!0)+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+e.const_get(b,"CG_ALNUM",!0,!0)+")\\\\?'(?="+e.const_get(b,"CG_ALPHA",!0,!0)+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]{2,}|#\d{2,6}|#x[a-fA-F0-9]{2,5});)/,"","bounding"]]),function(n,o){var i,l,a,c,u=(n.$$proto,n.$$scope,o.slice().concat(n));e.defn(n,"$load",i=function(t,n){var r,o,i,l,a,c,f=this,p=s,h=s,g=s,b=s,m=s,y=s,v=s,w=s,k=s,x=s,O=s,E=s,A=s,S=s,R=s;null==n&&(n=_([],{}));try{if(n=n.$dup(),(r=p=n["$[]"]("timings"))===s||null==r||r.$$is_boolean&&1!=r||p.$start("read"),g=["attributes",function(){return(r=(b=n["$[]"]("attributes"))["$!"]())===s||null==r||r.$$is_boolean&&1!=r?(r=(o=e.const_get([e.Object.$$scope],"Hash",!0,!0)["$==="](b))!==!1&&o!==s&&null!=o?o:(i=e.const_get([e.Object.$$scope],"RUBY_ENGINE_JRUBY",!0,!0),i!==!1&&i!==s&&null!=i?e.const_get([e.const_get([e.const_get([e.Object.$$scope],"Java",!0,!0).$$scope],"JavaUtil",!0,!0).$$scope],"Map",!0,!0)["$==="](b):i))===s||null==r||r.$$is_boolean&&1!=r?(r=e.const_get([e.Object.$$scope],"Array",!0,!0)["$==="](b))===s||null==r||r.$$is_boolean&&1!=r?(r=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](b))===s||null==r||r.$$is_boolean&&1!=r?(o=b["$respond_to?"]("keys"),(r=o!==!1&&o!==s&&null!=o?b["$respond_to?"]("[]"):o)===s||null==r||r.$$is_boolean&&1!=r?f.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"illegal type for attributes option: "+b.$class().$ancestors()):(y=b,b=_([],{}),d(y.$keys(),"each",[],(c=function(t){c.$$s;return null==t&&(t=s),g=[t,y["$[]"](t)],d(b,"[]=",e.to_a(g)),g[$(g.length,1)]},c.$$s=f,c.$$arity=1,c)),b)):(m="\\1",b=b.$gsub(e.const_get(u,"SpaceDelimiterRx",!0,!0),""+m+e.const_get(u,"NULL",!0,!0)).$gsub(e.const_get(u,"EscapedSpaceRx",!0,!0),m),d(b.$split(e.const_get(u,"NULL",!0,!0)),"inject",[_([],{})],(a=function(t,n){var r,o,i=(a.$$s,s),l=s;return null==t&&(t=s),null==n&&(n=s),o=n.$split("=",2),r=e.to_ary(o),i=null==r[0]?s:r[0],l=null==r[1]?s:r[1],g=[i,(r=l)!==!1&&r!==s&&null!=r?r:""],d(t,"[]=",e.to_a(g)),g[$(g.length,1)],t},a.$$s=f,a.$$arity=2,a))):d(b,"inject",[_([],{})],(l=function(t,n){var r,o,i=(l.$$s,s),a=s;return null==t&&(t=s),null==n&&(n=s),o=n.$split("=",2),r=e.to_ary(o),i=null==r[0]?s:r[0],a=null==r[1]?s:r[1],g=[i,(r=a)!==!1&&r!==s&&null!=r?r:""],d(t,"[]=",e.to_a(g)),g[$(g.length,1)],t},l.$$s=f,l.$$arity=2,l)):b.$dup():_([],{})}()],d(n,"[]=",e.to_a(g)),h=g[$(g.length,1)],v=s,(r=e.const_get([e.Object.$$scope],"File",!0,!0)["$==="](t))===s||null==r||r.$$is_boolean&&1!=r)if((r=t["$respond_to?"]("readlines"))===s||null==r||r.$$is_boolean&&1!=r)(r=e.const_get([e.Object.$$scope],"String",!0,!0)["$==="](t))===s||null==r||r.$$is_boolean&&1!=r?(r=e.const_get([e.Object.$$scope],"Array",!0,!0)["$==="](t))===s||null==r||r.$$is_boolean&&1!=r?f.$raise(e.const_get([e.Object.$$scope],"ArgumentError",!0,!0),"unsupported input type: "+t.$class()):v=t.$dup():v=t.$lines().$entries();else{try{t.$rewind()}catch(t){if(!e.rescue(t,[e.const_get(u,"StandardError",!0,!0)]))throw t;e.pop_exception()}v=t.$readlines()}else w=e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(t.$path()),k=function(){return(r=e.const_get([e.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))===s||null==r||r.$$is_boolean&&1!=r?t.$mtime():e.const_get([e.Object.$$scope],"Time",!0,!0).$at(e.const_get([e.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc()}(),v=t.$readlines(),g=["docfile",w],d(h,"[]=",e.to_a(g)),g[$(g.length,1)],g=["docdir",e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(w)],d(h,"[]=",e.to_a(g)),g[$(g.length,1)],g=["docname",e.const_get(u,"Helpers",!0,!0).$basename(w,!0)],d(h,"[]=",e.to_a(g)),g[$(g.length,1)],r="docdate",o=h,x=(i=o["$[]"](r))!==!1&&i!==s&&null!=i?i:o["$[]="](r,k.$strftime("%Y-%m-%d")),r="doctime",o=h,O=(i=o["$[]"](r))!==!1&&i!==s&&null!=i?i:o["$[]="](r,k.$strftime("%H:%M:%S %Z")),g=["docdatetime",x+" "+O],d(h,"[]=",e.to_a(g)),g[$(g.length,1)];return p!==!1&&p!==s&&null!=p&&(p.$record("read"),p.$start("parse")),E=n["$[]"]("parse")["$=="](!1)?e.const_get(u,"Document",!0,!0).$new(v,n):e.const_get(u,"Document",!0,!0).$new(v,n).$parse(),p!==!1&&p!==s&&null!=p&&p.$record("parse"),E}catch(t){if(!e.rescue(t,[e.const_get(u,"StandardError",!0,!0)]))throw t;A=t;try{try{S="asciidoctor: FAILED: "+((r=h["$[]"]("docfile"))!==!1&&r!==s&&null!=r?r:"<stdin>")+": Failed to load AsciiDoc document",(r=A["$respond_to?"]("exception"))===s||null==r||r.$$is_boolean&&1!=r?(R=A.$class().$new(S,A),g=[A.$stack_trace()],d(R,"stack_trace=",e.to_a(g)),g[$(g.length,1)]):(R=A.$exception(S+" - "+A.$message()),R.$set_backtrace(A.$backtrace()))}catch(t){if(!e.rescue(t,[e.const_get(u,"StandardError",!0,!0)]))throw t;try{R=A}finally{e.pop_exception()}}return f.$raise(R)}finally{e.pop_exception()}}},i.$$arity=-2),e.defn(n,"$load_file",l=function(t,n){var $,r=this;return null==n&&(n=_([],{})),r.$load(e.const_get([e.Object.$$scope],"File",!0,!0).$new(($=t)!==!1&&$!==s&&null!=$?$:""),n)},l.$$arity=-2),e.defn(n,"$convert",a=function(n,o){var i,l,a,c,f,p,h,g=this,b=s,m=s,y=s,v=s,w=s,k=s,x=s,O=s,E=s,A=s,S=s,R=s,M=s,T=s,I=s,C=s,N=s,j=s,L=s,z=s,P=s,D=s,B=s,q=s,F=s,U=s,G=s;if(null==o&&(o=_([],{})),o=o.$dup(),o.$delete("parse"),b=o.$delete("to_file"),m=o.$delete("to_dir"),y=(i=o.$delete("mkdirs"))!==!1&&i!==s&&null!=i&&i,v=o["$[]"]("timings"),w=b,(!0)["$==="](w)||s["$==="](w))i=m["$!"](),k=i!==!1&&i!==s&&null!=i?e.const_get([e.Object.$$scope],"File",!0,!0)["$==="](n):i,x=!1,O=m,b=s;else if((!1)["$==="](w))k=!1,x=!1,O=!1,b=s;else{if("/dev/null"["$==="](w))return g.$load(n,o);k=!1,x=b["$respond_to?"]("write"),O=function(){return(x===!1||x===s||null==x)&&b}()}return((i=o["$key?"]("header_footer"))===s||null==i||i.$$is_boolean&&1!=i)&&((i=(l=k)!==!1&&l!==s&&null!=l?l:O)===s||null==i||i.$$is_boolean&&1!=i||(E=["header_footer",!0],d(o,"[]=",e.to_a(E)),E[$(E.length,1)])),k!==!1&&k!==s&&null!=k?(A=e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(n.$path()),E=["to_dir",S=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(A)],d(o,"[]=",e.to_a(E)),E[$(E.length,1)]):O!==!1&&O!==s&&null!=O?m!==!1&&m!==s&&null!=m?b!==!1&&b!==s&&null!=b?(E=["to_dir",e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(e.const_get([e.Object.$$scope],"File",!0,!0).$join(m,b)))],d(o,"[]=",e.to_a(E)),E[$(E.length,1)]):(E=["to_dir",e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(m)],d(o,"[]=",e.to_a(E)),E[$(E.length,1)]):b!==!1&&b!==s&&null!=b&&(E=["to_dir",e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(b))],d(o,"[]=",e.to_a(E)),E[$(E.length,1)]):(E=["to_dir",s],d(o,"[]=",e.to_a(E)),E[$(E.length,1)]),R=g.$load(n,o),k!==!1&&k!==s&&null!=k?(M=e.const_get([e.Object.$$scope],"File",!0,!0).$join(S,""+R.$attributes()["$[]"]("docname")+R.$outfilesuffix()),M["$=="](A)&&g.$raise(e.const_get([e.Object.$$scope],"IOError",!0,!0),"input file and output file cannot be the same: "+M)):O!==!1&&O!==s&&null!=O?(T=function(){return(i=o["$has_key?"]("base_dir"))===s||null==i||i.$$is_boolean&&1!=i?e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(e.const_get([e.Object.$$scope],"Dir",!0,!0).$pwd()):e.const_get([e.Object.$$scope],"File",!0,!0).$expand_path(o["$[]"]("base_dir"))}(),I=function(){return(i=t(R.$safe(),e.const_get([e.const_get(u,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===s||null==i||i.$$is_boolean&&1!=i?s:T}(),m!==!1&&m!==s&&null!=m?(S=R.$normalize_system_path(m,T,I,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),b!==!1&&b!==s&&null!=b?(M=R.$normalize_system_path(b,S,s,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),S=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(M)):M=e.const_get([e.Object.$$scope],"File",!0,!0).$join(S,""+R.$attributes()["$[]"]("docname")+R.$outfilesuffix())):b!==!1&&b!==s&&null!=b&&(M=R.$normalize_system_path(b,T,I,_(["target_name","recover"],{target_name:"to_dir",recover:!1})),S=e.const_get([e.Object.$$scope],"File",!0,!0).$dirname(M)),((i=e.const_get([e.Object.$$scope],"File",!0,!0)["$directory?"](S))===s||null==i||i.$$is_boolean&&1!=i)&&(y!==!1&&y!==s&&null!=y?e.const_get(u,"Helpers",!0,!0).$mkdir_p(S):g.$raise(e.const_get([e.Object.$$scope],"IOError",!0,!0),"target directory does not exist: "+m))):(M=b,S=s),v!==!1&&v!==s&&null!=v&&v.$start("convert"),C=function(){return(i=(l=M!==!1&&M!==s&&null!=M)?x["$!"]():M)===s||null==i||i.$$is_boolean&&1!=i?_([],{}):_(["outfile","outdir"],{outfile:M,outdir:S})}(),N=R.$convert(C),v!==!1&&v!==s&&null!=v&&v.$record("convert"),M!==!1&&M!==s&&null!=M?(v!==!1&&v!==s&&null!=v&&v.$start("write"),R.$write(N,M),v!==!1&&v!==s&&null!=v&&v.$record("write"),p=x["$!"](),f=p!==!1&&p!==s&&null!=p?r(R.$safe(),e.const_get([e.const_get(u,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)):p,c=f!==!1&&f!==s&&null!=f?R["$attr?"]("linkcss"):f,a=c!==!1&&c!==s&&null!=c?R["$attr?"]("copycss"):c,l=a!==!1&&a!==s&&null!=a?R["$attr?"]("basebackend-html"):a,(i=l!==!1&&l!==s&&null!=l?(a=j=R.$attr("stylesdir"),a!==!1&&a!==s&&null!=a?e.const_get(u,"Helpers",!0,!0)["$uriish?"](j):a)["$!"]():l)===s||null==i||i.$$is_boolean&&1!=i||(L=!1,z=!1,(i=P=R.$attr("stylesheet"))===s||null==i||i.$$is_boolean&&1!=i||((i=e.const_get(u,"DEFAULT_STYLESHEET_KEYS",!0,!0)["$include?"](P))===s||null==i||i.$$is_boolean&&1!=i?(i=e.const_get(u,"Helpers",!0,!0)["$uriish?"](P)["$!"]())===s||null==i||i.$$is_boolean&&1!=i||(z=!0):L=!0),i=R["$attr?"]("source-highlighter","coderay"),D=i!==!1&&i!==s&&null!=i?R.$attr("coderay-css","class")["$=="]("class"):i,i=R["$attr?"]("source-highlighter","pygments"),B=i!==!1&&i!==s&&null!=i?R.$attr("pygments-css","class")["$=="]("class"):i,(i=(l=(a=(c=L)!==!1&&c!==s&&null!=c?c:z)!==!1&&a!==s&&null!=a?a:D)!==!1&&l!==s&&null!=l?l:B)===s||null==i||i.$$is_boolean&&1!=i||(q=R.$normalize_system_path(j,S,function(){
return(i=t(R.$safe(),e.const_get([e.const_get(u,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===s||null==i||i.$$is_boolean&&1!=i?s:S}()),y!==!1&&y!==s&&null!=y&&e.const_get(u,"Helpers",!0,!0).$mkdir_p(q),L!==!1&&L!==s&&null!=L?e.const_get(u,"Stylesheets",!0,!0).$instance().$write_primary_stylesheet(q):z!==!1&&z!==s&&null!=z&&(F=(i=(F=R.$attr("copycss"))["$empty?"]())===s||null==i||i.$$is_boolean&&1!=i?R.$normalize_system_path(F):R.$normalize_system_path(P),U=R.$normalize_system_path(P,q,function(){return(i=t(R.$safe(),e.const_get([e.const_get(u,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===s||null==i||i.$$is_boolean&&1!=i?s:S}()),((i=(l=F["$=="](U))!==!1&&l!==s&&null!=l?l:(G=R.$read_asset(F))["$nil?"]())===s||null==i||i.$$is_boolean&&1!=i)&&d(e.const_get([e.Object.$$scope],"File",!0,!0),"open",[U,"w"],(h=function(e){h.$$s;return null==e&&(e=s),e.$write(G)},h.$$s=g,h.$$arity=1,h))),D!==!1&&D!==s&&null!=D?e.const_get(u,"Stylesheets",!0,!0).$instance().$write_coderay_stylesheet(q):B!==!1&&B!==s&&null!=B&&e.const_get(u,"Stylesheets",!0,!0).$instance().$write_pygments_stylesheet(q,R.$attr("pygments-style")))),R):N},a.$$arity=-2),e.alias(n,"render","convert"),e.defn(n,"$convert_file",c=function(t,n){var $,r=this;return null==n&&(n=_([],{})),r.$convert(e.const_get([e.Object.$$scope],"File",!0,!0).$new(($=t)!==!1&&$!==s&&null!=$?$:""),n)},c.$$arity=-2),e.alias(n,"render_file","convert_file")}(e.get_singleton_class(h),b),e.const_get(b,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&(h.$require("asciidoctor/version"),h.$require("asciidoctor/timings"))}(l.base,a),i.$require("asciidoctor/core_ext"),i.$require("asciidoctor/helpers"),i.$require("asciidoctor/substitutors"),i.$require("asciidoctor/abstract_node"),i.$require("asciidoctor/abstract_block"),i.$require("asciidoctor/attribute_list"),i.$require("asciidoctor/block"),i.$require("asciidoctor/callouts"),i.$require("asciidoctor/converter"),(o=e.const_get(a,"RUBY_ENGINE_OPAL",!0,!0))===s||null==o||o.$$is_boolean&&1!=o||i.$require("asciidoctor/converter/html5"),i.$require("asciidoctor/document"),i.$require("asciidoctor/inline"),i.$require("asciidoctor/list"),i.$require("asciidoctor/parser"),i.$require("asciidoctor/path_resolver"),i.$require("asciidoctor/reader"),i.$require("asciidoctor/section"),i.$require("asciidoctor/stylesheets"),i.$require("asciidoctor/table")}(Opal);var t=function(e){return e&&!e.smap?Opal.hash(e):e},n=function(e){if(e=t(e)){var n=e["$[]"]("attributes");n&&"object"==typeof n&&"Object"===n.constructor.name&&(e=e.$dup(),e["$[]="]("attributes",t(n)))}return e};Opal.Asciidoctor.$$class.$$proto.convert=function(e,t){"object"==typeof e&&"Buffer"===e.constructor.name&&(e=e.toString("utf8"));var $=this.$convert(e,n(t));return $===Opal.nil?"":$},Opal.Asciidoctor.$$class.$$proto.convertFile=function(e,t){return this.$convert_file(e,n(t))},Opal.Asciidoctor.$$class.$$proto.load=function(e,t){return"object"==typeof e&&"Buffer"===e.constructor.name&&(e=e.toString("utf8")),this.$load(e,n(t))},Opal.Asciidoctor.$$class.$$proto.loadFile=function(e,t){return this.$load_file(e,n(t))},Opal.Asciidoctor.AbstractBlock.$$proto.getTitle=function(){var e=this.title;return e===Opal.nil?"":e},Opal.Asciidoctor.AbstractBlock.$$proto.getStyle=function(){return this.style},Opal.Asciidoctor.AbstractBlock.$$proto.getCaption=function(){return this.caption},Opal.Asciidoctor.AbstractBlock.$$proto.getLevel=function(){return this.level},Opal.Asciidoctor.AbstractBlock.$$proto.getBlocks=function(){return this.blocks},Opal.Asciidoctor.AbstractBlock.$$proto.getContent=function(){return this.$content()},Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()},Opal.Asciidoctor.AbstractBlock.$$proto.findBy=function(e,n){return void 0===n&&"function"==typeof e?Opal.send(this,"find_by",null,e):"function"==typeof n?Opal.send(this,"find_by",[t(e)],n):this.$find_by(t(e))},Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()},Opal.Asciidoctor.AbstractNode.$$proto.getAttributes=function(){for(var e,t={},n=this.attributes,$=0,r=n.$$keys,o=n.$$smap,i=r.length;$<i;$++)e=r[$],t[e]=o[e];return t},Opal.Asciidoctor.AbstractNode.$$proto.getAttribute=function(e,t,n){var $=this.$attr(e,t,n);if($!==Opal.nil)return $},Opal.Asciidoctor.AbstractNode.$$proto.isAttribute=function(e,t,n){var $=this["$attr?"](e,t,n);if($!==Opal.nil)return $},Opal.Asciidoctor.AbstractNode.$$proto.setAttribute=function(e,t,n){return void 0===n&&(n=!0),this.$set_attribute(e,t,n)},Opal.Asciidoctor.AbstractNode.$$proto.isInline=function(){return this["$inline?"]()},Opal.Asciidoctor.AbstractNode.$$proto.isBlock=function(){return this["$block?"]()},Opal.Asciidoctor.AbstractNode.$$proto.isRole=function(e){return this["$role?"](e)},Opal.Asciidoctor.AbstractNode.$$proto.getRole=function(){return this.$role()},Opal.Asciidoctor.AbstractNode.$$proto.hasRole=function(e){return this["$has_role?"](e)},Opal.Asciidoctor.AbstractNode.$$proto.getRoles=function(){return this.$roles()},Opal.Asciidoctor.AbstractNode.$$proto.addRole=function(e){return this.$add_role(e)},Opal.Asciidoctor.AbstractNode.$$proto.removeRole=function(e){return this.$remove_role(e)},Opal.Asciidoctor.AbstractNode.$$proto.isReftext=function(){return this["$reftext?"]()},Opal.Asciidoctor.AbstractNode.$$proto.getReftext=function(){return this.$reftext()},Opal.Asciidoctor.AbstractNode.$$proto.getContext=function(){var e=this.context;return e&&"function"==typeof e.$to_s?e.$to_s():e},Opal.Asciidoctor.AbstractNode.$$proto.getId=function(){return this.id},Opal.Asciidoctor.AbstractNode.$$proto.isOption=function(e){return this["$option?"](e)},Opal.Asciidoctor.AbstractNode.$$proto.setOption=function(e){return this.$set_option(e)},Opal.Asciidoctor.AbstractNode.$$proto.getIconUri=function(e){return this.$icon_uri(e)},Opal.Asciidoctor.AbstractNode.$$proto.getMediaUri=function(e,t){return this.$media_uri(e,t)},Opal.Asciidoctor.AbstractNode.$$proto.getImageUri=function(e,t){return this.$image_uri(e,t)},Opal.Asciidoctor.AbstractNode.$$proto.getConverter=function(){return this.$converter()},Opal.Asciidoctor.AbstractNode.$$proto.readContents=function(e,n){return this.$read_contents(e,t(n))},Opal.Asciidoctor.AbstractNode.$$proto.readAsset=function(e,n){return this.$read_asset(e,t(n))},Opal.Asciidoctor.AbstractNode.$$proto.normalizeWebPath=function(e,t,n){return this.$normalize_web_path(e,t,n)},Opal.Asciidoctor.AbstractNode.$$proto.normalizeSystemPath=function(e,n,$,r){return this.$normalize_system_path(e,n,$,t(r))},Opal.Asciidoctor.AbstractNode.$$proto.normalizeAssetPath=function(e,t,n){return this.$normalize_asset_path(e,t,n)},Opal.Asciidoctor.Document.$$proto.getHeader=function(){return this.header},Opal.Asciidoctor.Document.$$proto.setAttribute=function(e,t){return this.$set_attribute(e,t)},Opal.Asciidoctor.Document.$$proto.removeAttribute=function(e){this.attributes.$delete(e),this.attribute_overrides.$delete(e)},Opal.Asciidoctor.Document.$$proto.convert=function(e){var n=this.$convert(t(e));return n===Opal.nil?"":n},Opal.Asciidoctor.Document.$$proto.write=function(e,t){return this.$write(e,t)},Opal.Asciidoctor.Document.$$proto.getAuthor=function(){return this.$author()},Opal.Asciidoctor.Document.$$proto.getSource=function(){return this.$source()},Opal.Asciidoctor.Document.$$proto.getSourceLines=function(){return this.$source_lines()},Opal.Asciidoctor.Document.$$proto.isNested=function(){return this["$nested?"]()},Opal.Asciidoctor.Document.$$proto.hasFootnotes=function(){return this["$footnotes?"]()},Opal.Asciidoctor.Document.$$proto.getFootnotes=function(){return this.$footnotes()},Opal.Asciidoctor.Document.$$proto.isEmbedded=function(){return this["$embedded?"]()},Opal.Asciidoctor.Document.$$proto.hasExtensions=function(){return this["$extensions?"]()},Opal.Asciidoctor.Document.$$proto.getDoctype=function(){return this.$doctype()},Opal.Asciidoctor.Document.$$proto.getBackend=function(){return this.$backend()},Opal.Asciidoctor.Document.$$proto.isBasebackend=function(e){return this["$basebackend?"](e)},Opal.Asciidoctor.Document.$$proto.getTitle=function(){return this.$title()},Opal.Asciidoctor.Document.$$proto.setTitle=function(e){return this["$title="](e)},Opal.Asciidoctor.Document.$$proto.getDoctitle=Opal.Asciidoctor.Document.$$proto.getDocumentTitle=function(e){return this.$doctitle(t(e))},Opal.Asciidoctor.Document.$$proto.getRevdate=Opal.Asciidoctor.Document.$$proto.getRevisionDate=function(){return this.$revdate()},Opal.Asciidoctor.Document.$$proto.getNotitle=function(){return this.$notitle()},Opal.Asciidoctor.Document.$$proto.getNoheader=function(){return this.$noheader()},Opal.Asciidoctor.Document.$$proto.getNofooter=function(){return this.$nofooter()},Opal.Asciidoctor.Document.$$proto.hasHeader=function(){return this["$header?"]()},Opal.Asciidoctor.Document.$$proto.deleteAttribute=function(e){return this.$delete_attribute(e)},Opal.Asciidoctor.Document.$$proto.isAttributeLocked=function(e){return this["$attribute_locked?"](e)},Opal.Asciidoctor.Document.$$proto.parse=function(e){return this.$parse(e)},Opal.Asciidoctor.Document.$$proto.getDocinfo=function(e,t){return this.$docinfo(e,t)},Opal.Asciidoctor.Document.$$proto.hasDocinfoProcessors=function(e){return this["$docinfo_processors?"](e)},Opal.Asciidoctor.Document.$$proto.counterIncrement=function(e,t){return this.$counter_increment(e,t)},Opal.Asciidoctor.Document.$$proto.counter=function(e,t){return this.$counter(e,t)},Opal.Asciidoctor.Document.$$proto.getSafe=function(){return this.$safe},Opal.Asciidoctor.Document.$$proto.getCompatMode=function(){return this.$compat_mode},Opal.Asciidoctor.Document.$$proto.getSourcemap=function(){return this.$sourcemap},Opal.Asciidoctor.Document.$$proto.getReferences=function(){return this.$references},Opal.Asciidoctor.Document.$$proto.getCounters=function(){return this.$counters},Opal.Asciidoctor.Document.$$proto.getCallouts=function(){return this.$callouts},Opal.Asciidoctor.Document.$$proto.getBaseDir=function(){return this.$base_dir},Opal.Asciidoctor.Document.$$proto.getOptions=function(){return this.$options},Opal.Asciidoctor.Document.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix},Opal.Asciidoctor.Document.$$proto.getParentDocument=function(){return this.$parent_document},Opal.Asciidoctor.Document.$$proto.getReader=function(){return this.$reader},Opal.Asciidoctor.Document.$$proto.getConverter=function(){return this.$converter},Opal.Asciidoctor.Document.$$proto.getExtensions=function(){return this.$extensions},Opal.Asciidoctor.Document.Title.$$proto.getMain=function(){return this.main},Opal.Asciidoctor.Document.Title.$$proto.getCombined=function(){return this.combined},Opal.Asciidoctor.Document.Title.$$proto.getSubtitle=function(){return this.subtitle},Opal.Asciidoctor.Document.Title.$$proto.isSanitized=function(){var e=this["$sanitized?"]();return e!==Opal.nil&&e},Opal.Asciidoctor.Document.Title.$$proto.hasSubtitle=function(){return this["$subtitle?"]()},Opal.Asciidoctor.Inline.$$proto.convert=function(){return this.$convert()};var $=function(e){return e.$$arity=e.length,e},r=Opal.Asciidoctor.$$scope.Extensions;return r.register=function(e,t){return"function"==typeof e&&void 0===t?Opal.send(this,"register",null,$(e)):Opal.send(this,"register",[e],$(t))},r.Registry.$$proto.block=function(e,t){return"function"==typeof e&&void 0===t?Opal.send(this,"block",null,$(e)):Opal.send(this,"block",[e],$(t))},r.Registry.$$proto.inlineMacro=function(e,t){return"function"==typeof e&&void 0===t?Opal.send(this,"inline_macro",null,$(e)):Opal.send(this,"inline_macro",[e],$(t))},r.Processor.$$proto.process=function(e){return Opal.send(this,"process",null,$(e))},r.Processor.$$proto.createBlock=function(e,n,$,r,o){return this.$create_block(e,n,$,t(r),t(o))},r.Processor.$$proto.createInline=function(e,n,$,r){return this.$create_inline(e,n,$,t(r))},r.Processor.$$proto.parseContent=function(e,t,n){return this.$parse_content(e,t,n)},r.BlockProcessor.$$proto.named=function(e){return this.$named(e)},r.BlockProcessor.$$proto.onContext=function(e){return this.$on_context(e)},Opal.Asciidoctor});
//# sourceMappingURL=asciidoctor.min.js.map